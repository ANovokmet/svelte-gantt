import{s as G,a as w,f as _,F as H,d as f,c as k,g as M,h as L,j as v,i as D,r as E,D as S,o as V}from"../chunks/scheduler.bd64f757.js";import{S as Y,i as A,b as C,d as P,m as W,a as B,t as F,e as U}from"../chunks/index.86590fdc.js";import{M as j,S as N,b as R,a as q,g as K}from"../chunks/index.95d21e58.js";import{t as a,h as X,a as I,m as O}from"../chunks/utils.1c822e9e.js";import{G as z}from"../chunks/GanttOptions.42da2f86.js";const{document:x}=K;function J(r){let d,s,n,u,c,p;return c=new z({props:{options:r[0]}}),c.$on("change",r[1]),{c(){d=w(),s=_("div"),n=_("div"),u=w(),C(c.$$.fragment),this.h()},l(o){H("svelte-1wi6kc3",x.head).forEach(f),d=k(o),s=M(o,"DIV",{class:!0});var l=L(s);n=M(l,"DIV",{id:!0,class:!0}),L(n).forEach(f),u=k(l),P(c.$$.fragment,l),l.forEach(f),this.h()},h(){x.title="Gantt events - svelte-gantt",v(n,"id","example-gantt-events"),v(n,"class","svelte-5foes7"),v(s,"class","container svelte-5foes7")},m(o,i){D(o,d,i),D(o,s,i),E(s,n),E(s,u),W(c,s,null),p=!0},p(o,[i]){const l={};i&1&&(l.options=o[0]),c.$set(l)},i(o){p||(B(c.$$.fragment,o),p=!0)},o(o){F(c.$$.fragment,o),p=!1},d(o){o&&(f(d),f(s)),U(c)}}}function Q(r,d){const s=d.getBoundingClientRect(),n=document.createElement("div");return n.className="sg-popup",n.innerHTML=`
            <div class="sg-popup-title">${r.label}</div>
            <div class="sg-popup-item">
                <div class="sg-popup-item-label">From:</div>
                <div class="sg-popup-item-value">${new Date(r.from).toLocaleTimeString()}</div>
            </div>
            <div class="sg-popup-item">
                <div class="sg-popup-item-label">To:</div>
                <div class="sg-popup-item-value">${new Date(r.to).toLocaleTimeString()}</div>
            </div>
        `,n.style.position="absolute",n.style.top=`${s.bottom}px`,n.style.left=`${s.left+s.width/2}px`,document.body.appendChild(n),n}function Z(r,d,s){let n,u;S(r,O,t=>s(3,n=t)),S(r,I,t=>s(4,u=t));function c(t){console.log("trigger set view",t),t!="none"&&(t=="week"?(s(0,e.fitWidth=!1,e),s(0,e.columnUnit="hour",e),s(0,e.columnOffset=1,e),o=o.clone().startOf("week"),i=o.clone().endOf("week"),s(0,e.headers=[{unit:"month",format:"MMMM YYYY",sticky:!0},{unit:"day",format:"ddd DD",sticky:!0}],e)):t=="day"&&(s(0,e.fitWidth=!0,e),s(0,e.columnUnit="minute",e),s(0,e.columnOffset=15,e),o=o.clone().startOf("day"),i=o.clone().endOf("day"),s(0,e.headers=[{unit:"day",format:"DD.MM.YYYY"},{unit:"hour",format:"HH"}],e)),s(0,e.from=o,e),s(0,e.to=i,e),m.$set(e),I.set("none"))}function p(t){t!="none"&&(t=="prevDay"?(o.subtract(1,"day"),i.subtract(1,"day")):t=="nextDay"&&(o.add(1,"day"),i.add(1,"day")),s(0,e.from=o,e),s(0,e.to=i,e),m.$set(e),O.set("none"))}let o=a("06:00"),i=a("18:00");const l={rows:[{id:1,label:"Accounting"},{id:2,label:"Business Development"},{id:3,label:"Ida Flewan"},{id:4,label:"LaurÃ©na Shrigley"},{id:5,label:"Ange Kembry"}],tasks:[{id:3,resourceId:1,label:"PET-CT",from:a("13:30"),to:a("15:00"),classes:"orange"},{id:4,resourceId:1,label:"Auditing",from:a("9:30"),to:a("11:30"),classes:"orange"},{id:5,resourceId:2,label:"Security Clearance",from:a("15:15"),to:a("16:00"),classes:"green"},{id:6,resourceId:2,label:"Policy Analysis",from:a("14:00"),to:a("17:00"),classes:"blue"},{id:7,resourceId:2,label:"Xbox 360",from:a("13:00"),to:a("14:00"),classes:"blue"},{id:8,resourceId:3,label:"GNU/Linux",from:a("14:00"),to:a("15:30"),classes:"blue"},{id:9,resourceId:4,label:"Electronic Trading",from:a("15:00"),to:a("17:00"),classes:"green"},{id:10,resourceId:5,label:"Alternative Medicine",from:a("14:30"),to:a("15:30"),classes:"orange"}],dependencies:[]};let e={dateAdapter:new j(X),rows:l.rows,tasks:l.tasks,dependencies:l.dependencies,timeRanges:[],columnOffset:15,magnetOffset:15,rowHeight:52,rowPadding:6,headers:[{unit:"day",format:"MMMM Do"},{unit:"hour",format:"H:mm"}],fitWidth:!0,minWidth:800,from:o,to:i,tableHeaders:[{title:"Label",property:"label",width:140,type:"tree"}],tableWidth:240,ganttTableModules:[N],ganttBodyModules:[R],taskElementHook:(t,g)=>{let h;function b(){console.log("[task] hover",g),h=Q(g,t)}function y(){console.log("[task] hover",g),h&&h.remove()}return t.addEventListener("mouseenter",b),t.addEventListener("mouseleave",y),{destroy(){console.log("[task] destroy"),t.removeEventListener("mouseenter",b),t.removeEventListener("mouseleave",y)}}}},m;V(()=>{window.gantt=m=new q({target:document.getElementById("example-gantt-events"),props:e}),m.api.tasks.on.move(t=>console.log("Listener: task move",t)),m.api.tasks.on.select(t=>console.log("Listener: task selected",t)),m.api.tasks.on.change(([t])=>console.log("Listener: task change",t)),m.api.tasks.on.changed(t=>console.log("Listener: task changed",t)),m.api.tasks.on.dblclicked(t=>console.log("Listener: task double clicked",t))});function T(t){const g=t.detail;Object.assign(e,g),m.$set(e)}return r.$$.update=()=>{r.$$.dirty&16&&c(u),r.$$.dirty&8&&p(n)},[e,T,l,n,u]}class ne extends Y{constructor(d){super(),A(this,d,Z,J,G,{data:2})}get data(){return this.$$.ctx[2]}}export{ne as component};
