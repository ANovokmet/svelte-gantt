import{s as T,a as w,f as _,F as V,d as p,c as M,g as k,h as D,z as Y,j as h,i as I,r as y,D as x,G as A,o as H}from"../chunks/scheduler.bd64f757.js";import{S as W,i as B,b as L,d as P,m as j,a as N,t as U,e as F}from"../chunks/index.86590fdc.js";import{M as q,S as z,b as K,a as R,c as X,g as J}from"../chunks/index.60632cc9.js";import{t as o,h as Q,a as S,m as O}from"../chunks/utils.1c822e9e.js";import{G as Z}from"../chunks/GanttOptions.42da2f86.js";const{document:E}=J;function $(c){let m,t,i,u,d,b="Drag to gantt",r,a,f;return a=new Z({props:{options:c[0]}}),a.$on("change",c[1]),{c(){m=w(),t=_("div"),i=_("div"),u=w(),d=_("div"),d.textContent=b,r=w(),L(a.$$.fragment),this.h()},l(n){V("svelte-1fwnrka",E.head).forEach(p),m=M(n),t=k(n,"DIV",{class:!0});var l=D(t);i=k(l,"DIV",{id:!0,class:!0}),D(i).forEach(p),u=M(l),d=k(l,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Y(d)!=="svelte-wag59j"&&(d.textContent=b),r=M(l),P(a.$$.fragment,l),l.forEach(p),this.h()},h(){E.title="External draggable - svelte-gantt",h(i,"id","example-gantt"),h(i,"class","svelte-1evkhee"),h(d,"id","new-task"),h(d,"class","svelte-1evkhee"),h(t,"class","container svelte-1evkhee")},m(n,e){I(n,m,e),I(n,t,e),y(t,i),y(t,u),y(t,d),y(t,r),j(a,t,null),f=!0},p(n,[e]){const l={};e&1&&(l.options=n[0]),a.$set(l)},i(n){f||(N(a.$$.fragment,n),f=!0)},o(n){U(a.$$.fragment,n),f=!1},d(n){n&&(p(m),p(t)),F(a)}}}function ee(c,m,t){let i,u;x(c,O,s=>t(3,i=s)),x(c,S,s=>t(4,u=s));function d(s){console.log("trigger set view",s),s!="none"&&(s=="week"?(t(0,e.fitWidth=!1,e),t(0,e.columnUnit="hour",e),t(0,e.columnOffset=1,e),r=r.clone().startOf("week"),a=r.clone().endOf("week"),t(0,e.headers=[{unit:"month",format:"MMMM YYYY",sticky:!0},{unit:"day",format:"ddd DD",sticky:!0}],e)):s=="day"&&(t(0,e.fitWidth=!0,e),t(0,e.columnUnit="minute",e),t(0,e.columnOffset=15,e),r=r.clone().startOf("day"),a=r.clone().endOf("day"),t(0,e.headers=[{unit:"day",format:"DD.MM.YYYY"},{unit:"hour",format:"HH"}],e)),t(0,e.from=r,e),t(0,e.to=a,e),l.$set(e),S.set("none"))}function b(s){s!="none"&&(s=="prevDay"?(r.subtract(1,"day"),a.subtract(1,"day")):s=="nextDay"&&(r.add(1,"day"),a.add(1,"day")),t(0,e.from=r,e),t(0,e.to=a,e),l.$set(e),O.set("none"))}let r=o("06:00"),a=o("18:00");const f=["blue","green","orange"];A("options");const n={rows:[{id:1,label:"Accounting"},{id:2,label:"Business Development"},{id:3,label:"Ida Flewan"},{id:4,label:"LaurÃ©na Shrigley"},{id:5,label:"Ange Kembry"}],tasks:[{id:3,resourceId:1,label:"PET-CT",from:o("13:30"),to:o("15:00"),classes:"orange"},{id:4,resourceId:1,label:"Auditing",from:o("9:30"),to:o("11:30"),classes:"orange"},{id:5,resourceId:2,label:"Security Clearance",from:o("15:15"),to:o("16:00"),classes:"green"},{id:6,resourceId:2,label:"Policy Analysis",from:o("14:00"),to:o("17:00"),classes:"blue"},{id:7,resourceId:2,label:"Xbox 360",from:o("13:00"),to:o("14:00"),classes:"blue"},{id:8,resourceId:3,label:"GNU/Linux",from:o("14:00"),to:o("15:30"),classes:"blue"},{id:9,resourceId:4,label:"Electronic Trading",from:o("15:00"),to:o("17:00"),classes:"green"},{id:10,resourceId:5,label:"Alternative Medicine",from:o("14:30"),to:o("15:30"),classes:"orange"}],dependencies:[]};let e={dateAdapter:new q(Q),rows:n.rows,tasks:n.tasks,dependencies:n.dependencies,timeRanges:[],columnOffset:15,magnetOffset:15,rowHeight:52,rowPadding:6,headers:[{unit:"day",format:"MMMM Do"},{unit:"hour",format:"H:mm"}],fitWidth:!0,minWidth:800,from:r,to:a,tableHeaders:[{title:"Label",property:"label",width:140,type:"tree"}],tableWidth:240,ganttTableModules:[z],ganttBodyModules:[K]},l;H(()=>{window.gantt=l=new R({target:document.getElementById("example-gantt"),props:e}),new X(document.getElementById("new-task"),{gantt:l,onsuccess:(s,g,G)=>{console.log(s.model.id,new Date(g).toISOString());const v=5e3+Math.floor(Math.random()*1e3);G.updateTask({id:v,label:`Task #${v}`,from:g,to:g+3*60*60*1e3,classes:f[Math.random()*f.length|0],resourceId:s.model.id})},elementContent:()=>{const s=document.createElement("div");return s.innerHTML="New Task",s.className="sg-external-indicator",s}})});function C(s){const g=s.detail;Object.assign(e,g),l.$set(e)}return c.$$.update=()=>{c.$$.dirty&16&&d(u),c.$$.dirty&8&&b(i)},[e,C,n,i,u]}class re extends W{constructor(m){super(),B(this,m,ee,$,T,{data:2})}get data(){return this.$$.ctx[2]}}export{re as component};
