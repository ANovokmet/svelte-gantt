var Ni=Object.defineProperty;var Xi=(t,e,n)=>e in t?Ni(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var q=(t,e,n)=>(Xi(t,typeof e!="symbol"?e+"":e,n),n);const _r=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Z(){}function nt(t,e){for(const n in e)t[n]=e[n];return t}function Go(t){return t()}function Qn(){return Object.create(null)}function Qe(t){t.forEach(Go)}function Bt(t){return typeof t=="function"}function pe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ln;function Vn(t,e){return t===e?!0:(ln||(ln=document.createElement("a")),ln.href=e,t===ln.href)}function Gi(t){return Object.keys(t).length===0}function zn(t,...e){if(t==null){for(const o of e)o(void 0);return Z}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function qi(t){let e;return zn(t,n=>e=n)(),e}function Y(t,e,n){t.$$.on_destroy.push(zn(e,n))}function qo(t,e,n,o){if(t){const i=Qo(t,e,n,o);return t[0](i)}}function Qo(t,e,n,o){return t[1]&&o?nt(n.ctx.slice(),t[1](o(e))):n.ctx}function Vo(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const l=[],r=Math.max(e.dirty.length,i.length);for(let s=0;s<r;s+=1)l[s]=e.dirty[s]|i[s];return l}return e.dirty|i}return e.dirty}function Zo(t,e,n,o,i,l){if(i){const r=Qo(e,n,o,l);t.p(r,i)}}function Ko(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Qi(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Zn(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function dn(t){return t??""}function oe(t,e,n){return t.set(n),e}function tt(t){return t&&Bt(t.destroy)?t.destroy:Z}function O(t,e){t.appendChild(e)}function E(t,e,n){t.insertBefore(e,n||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function at(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function B(t){return document.createElement(t)}function un(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ve(t){return document.createTextNode(t)}function se(){return Ve(" ")}function ce(){return Ve("")}function Xe(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function Kn(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function C(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Vi(t){return Array.from(t.childNodes)}function ft(t,e){e=""+e,t.data!==e&&(t.data=e)}function D(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}let sn;function Zi(){if(sn===void 0){sn=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{sn=!0}}return sn}function Jn(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const o=B("iframe");o.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),o.setAttribute("aria-hidden","true"),o.tabIndex=-1;const i=Zi();let l;return i?(o.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",l=Xe(window,"message",r=>{r.source===o.contentWindow&&e()})):(o.src="about:blank",o.onload=()=>{l=Xe(o.contentWindow,"resize",e),e()}),O(t,o),()=>{(i||l&&o.contentWindow)&&l(),M(o)}}function U(t,e,n){t.classList.toggle(e,!!n)}function Ki(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class pt{constructor(e=!1){q(this,"is_svg",!1);q(this,"e");q(this,"n");q(this,"t");q(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=un(n.nodeName):this.e=B(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)E(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(M)}}function hn(t,e){return new t(e)}let Ft;function Ut(t){Ft=t}function Xt(){if(!Ft)throw new Error("Function called outside component initialization");return Ft}function Jo(t){Xt().$$.on_mount.push(t)}function Ji(t){Xt().$$.on_destroy.push(t)}function Gt(){const t=Xt();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const l=Ki(e,n,{cancelable:o});return i.slice().forEach(r=>{r.call(t,l)}),!l.defaultPrevented}return!0}}function Mt(t,e){return Xt().$$.context.set(t,e),e}function te(t){return Xt().$$.context.get(t)}function Sn(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const Et=[],rt=[];let Ht=[];const $n=[],$o=Promise.resolve();let Dn=!1;function ei(){Dn||(Dn=!0,$o.then(ti))}function eo(){return ei(),$o}function Nt(t){Ht.push(t)}const Tn=new Set;let St=0;function ti(){if(St!==0)return;const t=Ft;do{try{for(;St<Et.length;){const e=Et[St];St++,Ut(e),$i(e.$$)}}catch(e){throw Et.length=0,St=0,e}for(Ut(null),Et.length=0,St=0;rt.length;)rt.pop()();for(let e=0;e<Ht.length;e+=1){const n=Ht[e];Tn.has(n)||(Tn.add(n),n())}Ht.length=0}while(Et.length);for(;$n.length;)$n.pop()();Dn=!1,Tn.clear(),Ut(t)}function $i(t){if(t.fragment!==null){t.update(),Qe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Nt)}}function el(t){const e=[],n=[];Ht.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),Ht=e}const fn=new Set;let bt;function Ae(){bt={r:0,c:[],p:bt}}function je(){bt.r||Qe(bt.c),bt=bt.p}function x(t,e){t&&t.i&&(fn.delete(t),t.i(e))}function N(t,e,n,o){if(t&&t.o){if(fn.has(t))return;fn.add(t),bt.c.push(()=>{fn.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}function $(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ot(t,e){N(t,1,1,()=>{e.delete(t.key)})}function It(t,e,n,o,i,l,r,s,a,c,f,m){let p=t.length,h=l.length,y=p;const k={};for(;y--;)k[t[y].key]=y;const d=[],b=new Map,v=new Map,g=[];for(y=h;y--;){const P=m(i,l,y),J=n(P);let Q=r.get(J);Q?o&&g.push(()=>Q.p(P,e)):(Q=c(J,P),Q.c()),b.set(J,d[y]=Q),J in k&&v.set(J,Math.abs(y-k[J]))}const R=new Set,I=new Set;function X(P){x(P,1),P.m(s,f),r.set(P.key,P),f=P.first,h--}for(;p&&h;){const P=d[h-1],J=t[p-1],Q=P.key,K=J.key;P===J?(f=P.first,p--,h--):b.has(K)?!r.has(Q)||R.has(Q)?X(P):I.has(K)?p--:v.get(Q)>v.get(K)?(I.add(Q),X(P)):(R.add(K),p--):(a(J,r),p--)}for(;p--;){const P=t[p];b.has(P.key)||a(P,r)}for(;h;)X(d[h-1]);return Qe(g),d}function ct(t,e){const n={},o={},i={$$scope:1};let l=t.length;for(;l--;){const r=t[l],s=e[l];if(s){for(const a in r)a in s||(o[a]=1);for(const a in s)i[a]||(n[a]=s[a],i[a]=1);t[l]=s}else for(const a in r)i[a]=1}for(const r in o)r in n||(n[r]=void 0);return n}function ut(t){return typeof t=="object"&&t!==null?t:{}}function _e(t){t&&t.c()}function de(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),Nt(()=>{const l=t.$$.on_mount.map(Go).filter(Bt);t.$$.on_destroy?t.$$.on_destroy.push(...l):Qe(l),t.$$.on_mount=[]}),i.forEach(Nt)}function he(t,e){const n=t.$$;n.fragment!==null&&(el(n.after_update),Qe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function tl(t,e){t.$$.dirty[0]===-1&&(Et.push(t),ei(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ce(t,e,n,o,i,l,r=null,s=[-1]){const a=Ft;Ut(t);const c=t.$$={fragment:null,ctx:[],props:l,update:Z,not_equal:i,bound:Qn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Qn(),dirty:s,skip_bound:!1,root:e.target||a.$$.root};r&&r(c.root);let f=!1;if(c.ctx=n?n(t,e.props||{},(m,p,...h)=>{const y=h.length?h[0]:p;return c.ctx&&i(c.ctx[m],c.ctx[m]=y)&&(!c.skip_bound&&c.bound[m]&&c.bound[m](y),f&&tl(t,m)),p}):[],c.update(),f=!0,Qe(c.before_update),c.fragment=o?o(c.ctx):!1,e.target){if(e.hydrate){const m=Vi(e.target);c.fragment&&c.fragment.l(m),m.forEach(M)}else c.fragment&&c.fragment.c();e.intro&&x(t.$$.fragment),de(t,e.target,e.anchor),ti()}Ut(a)}class Re{constructor(){q(this,"$$");q(this,"$$set")}$destroy(){he(this,1),this.$destroy=Z}$on(e,n){if(!Bt(n))return Z;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!Gi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const nl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(nl);const Dt=[];function ol(t,e){return{subscribe:fe(t,e).subscribe}}function fe(t,e=Z){let n;const o=new Set;function i(s){if(pe(t,s)&&(t=s,n)){const a=!Dt.length;for(const c of o)c[1](),Dt.push(c,t);if(a){for(let c=0;c<Dt.length;c+=2)Dt[c][0](Dt[c+1]);Dt.length=0}}}function l(s){i(s(t))}function r(s,a=Z){const c=[s,a];return o.add(c),o.size===1&&(n=e(i,l)||Z),s(t),()=>{o.delete(c),o.size===0&&n&&(n(),n=null)}}return{set:i,update:l,subscribe:r}}function Mn(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=e.length<2;return ol(n,(r,s)=>{let a=!1;const c=[];let f=0,m=Z;const p=()=>{if(f)return;m();const y=e(o?c[0]:c,r,s);l?r(y):m=Bt(y)?y:Z},h=i.map((y,k)=>zn(y,d=>{c[k]=d,f&=~(1<<k),a&&p()},()=>{f|=1<<k}));return a=!0,p(),function(){Qe(h),m(),a=!1}})}function Cn(){const{subscribe:t,set:e,update:n}=fe({ids:[],entities:{}});return{set:e,_update:n,subscribe:t,add:o=>n(({ids:i,entities:l})=>({ids:[...i,o.model.id],entities:{...l,[o.model.id]:o}})),delete:o=>n(i=>{const{[o]:l,...r}=i.entities;return{ids:i.ids.filter(s=>s!==o),entities:r}}),deleteAll:o=>n(i=>{const l={...i.entities},r=new Set(o);for(let s=0;s<i.ids.length;s++)r.has(i.ids[s])&&delete l[i.ids[s]];return{ids:i.ids.filter(s=>!r.has(s)),entities:l}}),update:o=>n(({ids:i,entities:l})=>({ids:i,entities:{...l,[o.model.id]:o}})),upsert:o=>n(({ids:i,entities:l})=>({ids:i.indexOf(o.model.id)!==-1?i:[...i,o.model.id],entities:{...l,[o.model.id]:o}})),upsertAll:o=>n(i=>{const l={...i.entities},r=[...i.ids];for(let s=0;s<o.length;s++)r.indexOf(o[s].model.id)===-1&&r.push(o[s].model.id),l[o[s].model.id]=o[s];return{ids:r,entities:l}}),addAll:o=>{const i=[],l={};for(let r=0;r<o.length;r++)i.push(o[r].model.id),l[o[r].model.id]=o[r];e({ids:i,entities:l})},refresh:()=>n(o=>({...o}))}}function Rn(t){return Mn(t,({ids:e,entities:n})=>{const o=[];for(let i=0;i<e.length;i++)o.push(n[e[i]]);return o})}function il(){const t=Cn(),e=Cn(),n=Cn(),o=Rn(t),i=Rn(e),l=Rn(n),r=Mn(o,a=>{const c={};for(let f=0;f<a.length;f++){const m=a[f];c[m.model.resourceId]||(c[m.model.resourceId]=[]),c[m.model.resourceId].push(m.model.id)}return c}),s=fe({});return{taskStore:t,rowStore:e,timeRangeStore:n,allTasks:o,allRows:i,allTimeRanges:l,rowTaskCache:r,draggingTaskCache:s}}function ni(t){return t.which===1}function _t(t,e){const n=t.getBoundingClientRect(),o=e.clientX-n.left,i=e.clientY-n.top;return{x:o,y:i}}function ll(t,e){const n=t.getBoundingClientRect(),o=e.clientX-n.left,i=e.clientY-n.top;return[o,i]}function sl(t,e,n,o,i){t.addEventListener(e,function l(){t.removeEventListener(e,l,i),n.apply(this,arguments,o)})}function xt(t,e=document.body){e.style.cursor=t}function En(t){return t?typeof t=="string"?t:Array.isArray(t)?t.join(" "):"":""}function rl(t,e){let n=!1;return function(){n||(t.apply(null,arguments),n=!0,setTimeout(function(){n=!1},e))}}const al=2,cl=2;function to(t){return t instanceof Function?()=>t():()=>t}function mn(t,e){let n,o,i,l,r=!1,s=!1,a,c,f=!1;const m=to(e.dragAllowed),p=to(e.resizeAllowed);t.addEventListener("pointerdown",h,{passive:!0});function h(d){if(!ni(d))return;d.stopPropagation(),d.preventDefault();const b=m(),v=p();if(!b&&!v)return;const g=e.getX(d),R=e.getY(d),I=e.getWidth();a=d.clientX,c=d.clientY,i=g+I,n=_t(e.container,d).x-g,o=_t(e.container,d).y-R,v&&n<=e.resizeHandleWidth&&(l="left",s=!0),v&&n>=I-e.resizeHandleWidth&&(l="right",s=!0),b&&!s&&(r=!0),(r||s)&&e.onDown&&e.onDown({mouseEvent:d,x:g,width:I,y:R,resizing:s,dragging:r}),window.addEventListener("pointermove",y,!1),sl(window,"pointerup",k)}function y(d){if(!f)if(Math.abs(d.clientX-a)>al||Math.abs(d.clientY-c)>cl)f=!0;else return;if(d.preventDefault(),s){const b=_t(e.container,d),v=e.getX(d),g=e.getWidth();let R,I;l==="left"?i-b.x<=0?(l="right",R=i,I=i-b.x,i=i+g):(R=b.x,I=i-b.x):l==="right"&&(b.x-v<=0?(l="left",R=b.x,I=b.x-v,i=v):(R=v,I=b.x-v)),e.onResize&&e.onResize({x:R,width:I,event:d})}if(r&&e.onDrag){const b=_t(e.container,d);e.onDrag({x:b.x-n,y:b.y-o,event:d})}}function k(d){const b=e.getX(d),v=e.getY(d),g=e.getWidth();e.onMouseUp&&e.onMouseUp(),f&&e.onDrop&&e.onDrop({mouseEvent:d,x:b,y:v,width:g,dragging:r,resizing:s}),n=null,o=null,i=null,r=!1,s=!1,a=null,c=null,f=!1,window.removeEventListener("pointermove",y,!1)}return{destroy(){t.removeEventListener("pointerdown",h,!1),t.removeEventListener("pointermove",y,!1),t.removeEventListener("pointerup",k,!1)}}}class ul{constructor(e){q(this,"handlerMap",{});this.register("row",n=>{let i=document.elementsFromPoint(n.clientX,n.clientY).find(l=>!!l.getAttribute("data-row-id"));if(i!==void 0){const l=i.getAttribute("data-row-id"),{entities:r}=qi(e),s=r[l];if(s.model.enableDragging)return s}return null})}register(e,n){this.handlerMap[e]=n}getTarget(e,n){var o=this.handlerMap[e];if(o)return o(n)}}const fl=t=>({}),no=t=>({context:t[1]});function dl(t){let e;const n=t[4].default,o=qo(n,t,t[3],no);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,[l]){o&&o.p&&(!e||l&8)&&Zo(o,n,i,i[3],e?Vo(n,i[3],l,fl):Ko(i[3]),no)},i(i){e||(x(o,i),e=!0)},o(i){N(o,i),e=!1},d(i){o&&o.d(i)}}}function hl(t,e,n){let o,{$$slots:i={},$$scope:l}=e;const r={};let s=[],a=fe(!1);Y(t,a,m=>n(7,o=m));const c={active:a,handlers:r,on(m,p){r[m]=p},off(m){delete r[m]},trigger(m,p,h){r[p]&&r[p][m]&&r[p][m](h)},save(m,p){s=[];for(const h of p)s.push({id:h.model.id,xDelta:h.left-m.x,yDelta:h.top-m.y,width:h.width,bWidth:m.width})},dropAll(m){oe(a,o=!1,o);for(const p of s)c.trigger("drop",p.id,{...m,mouseEvent:{...m.mouseEvent,clientX:m.mouseEvent.clientX+p.xDelta,clientY:m.mouseEvent.clientY+p.yDelta},x:m.x+p.xDelta,y:m.y+p.yDelta,width:p.width+(m.width-p.bWidth)})},moveAll({x:m,y:p,width:h}){oe(a,o=!0,o);for(const y of s)c.trigger("move",y.id,{x:m!=null?m+y.xDelta:null,y:p!=null?p+y.yDelta:null,width:h!=null?y.width+(h-y.bWidth):null})}},f=c.trigger;return Mt("drag",c),t.$$set=m=>{"$$scope"in m&&n(3,l=m.$$scope)},[a,c,f,l,i]}class gl extends Re{constructor(e){super(),Ce(this,e,hl,dl,pe,{trigger:2})}get trigger(){return this.$$.ctx[2]}}function Se(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var ml=`.sg-label-bottom.svelte-13pjhle.svelte-13pjhle{position:absolute;top:calc(100% + 10px);color:#888}.debug.svelte-13pjhle.svelte-13pjhle{position:absolute;top:-10px;right:0;font-size:8px;color:black}.sg-task.svelte-13pjhle.svelte-13pjhle{position:absolute;border-radius:2px;white-space:nowrap;transition:background-color 0.2s,
            opacity 0.2s;pointer-events:all;touch-action:none}.sg-task-background.svelte-13pjhle.svelte-13pjhle{position:absolute;height:100%;top:0}.sg-task-content.svelte-13pjhle.svelte-13pjhle{position:absolute;height:100%;top:0;padding-left:14px;font-size:14px;display:flex;align-items:center;justify-content:flex-start;user-select:none}.sg-task.animating.svelte-13pjhle.svelte-13pjhle:not(.moving){transition:left 0.2s,
            top 0.2s,
            transform 0.2s,
            background-color 0.2s,
            width 0.2s,
            height 0.2s}.sg-task--sticky.svelte-13pjhle.svelte-13pjhle:not(.moving){transition:left 0.2s,
            top 0.2s,
            transform 0.2s,
            background-color 0.2s,
            width 0.2s,
            height 0.2s}.sg-task--sticky.svelte-13pjhle>.sg-task-content.svelte-13pjhle{position:sticky;left:0;max-width:100px}.sg-task.moving.svelte-13pjhle.svelte-13pjhle{z-index:10000;opacity:0.5}.sg-task.resize-enabled.svelte-13pjhle.svelte-13pjhle:hover::before{content:'';width:4px;height:50%;top:25%;position:absolute;border-style:solid;border-color:rgba(255, 255, 255, 0.5);cursor:ew-resize;margin-left:3px;left:0;border-width:0 1px;z-index:1}.sg-task.resize-enabled.svelte-13pjhle.svelte-13pjhle:hover::after{content:'';width:4px;height:50%;top:25%;position:absolute;border-style:solid;border-color:rgba(255, 255, 255, 0.5);cursor:ew-resize;margin-right:3px;right:0;border-width:0 1px;z-index:1}.sg-task-reflected.svelte-13pjhle.svelte-13pjhle{opacity:0.5}.sg-task-instant.svelte-13pjhle.svelte-13pjhle{width:2px !important;margin-left:-1px}.sg-task-background.svelte-13pjhle.svelte-13pjhle{background:rgba(0, 0, 0, 0.2)}.sg-task{color:white;background:rgb(116, 191, 255)}.sg-task:hover{background:rgb(98, 161, 216)}.sg-task.selected{background:rgb(69, 112, 150)}.sg-milestone.svelte-13pjhle.svelte-13pjhle{width:20px !important;min-width:40px;margin-left:-20px}.sg-task.sg-milestone.svelte-13pjhle.svelte-13pjhle{background:transparent}.sg-milestone.svelte-13pjhle .sg-milestone__diamond.svelte-13pjhle{position:relative}.sg-milestone.svelte-13pjhle .sg-milestone__diamond.svelte-13pjhle:before{position:absolute;top:0;left:50%;content:' ';height:28px;width:28px;transform-origin:0 0;transform:rotate(45deg)}.sg-milestone__diamond:before{background:rgb(116, 191, 255)}`;Se(ml);function oo(t){let e;return{c(){e=B("div"),C(e,"class","sg-milestone__diamond svelte-13pjhle")},m(n,o){E(n,e,o)},d(n){n&&M(e)}}}function io(t){let e;return{c(){e=B("div"),C(e,"class","sg-task-background svelte-13pjhle"),D(e,"width",t[0].amountDone+"%")},m(n,o){E(n,e,o)},p(n,o){o[0]&1&&D(e,"width",n[0].amountDone+"%")},d(n){n&&M(e)}}}function wl(t){let e=t[0].label+"",n;return{c(){n=Ve(e)},m(o,i){E(o,n,i)},p(o,i){i[0]&1&&e!==(e=o[0].label+"")&&ft(n,e)},d(o){o&&M(n)}}}function bl(t){let e,n=t[14](t[0])+"",o;return{c(){e=new pt(!1),o=ce(),e.a=o},m(i,l){e.m(n,i,l),E(i,o,l)},p(i,l){l[0]&1&&n!==(n=i[14](i[0])+"")&&e.p(n)},d(i){i&&(M(o),e.d())}}}function _l(t){let e,n=t[0].html+"",o;return{c(){e=new pt(!1),o=ce(),e.a=o},m(i,l){e.m(n,i,l),E(i,o,l)},p(i,l){l[0]&1&&n!==(n=i[0].html+"")&&e.p(n)},d(i){i&&(M(o),e.d())}}}function lo(t){let e,n=t[0].buttonHtml+"",o,i,l;return{c(){e=B("span"),C(e,"class",o="sg-task-button "+t[0].buttonClasses+" svelte-13pjhle"),C(e,"role","button"),C(e,"tabindex","0")},m(r,s){E(r,e,s),e.innerHTML=n,i||(l=Xe(e,"click",t[21]),i=!0)},p(r,s){s[0]&1&&n!==(n=r[0].buttonHtml+"")&&(e.innerHTML=n),s[0]&1&&o!==(o="sg-task-button "+r[0].buttonClasses+" svelte-13pjhle")&&C(e,"class",o)},d(r){r&&M(e),i=!1,l()}}}function so(t){let e,n=t[0].labelBottom+"",o;return{c(){e=B("span"),o=Ve(n),C(e,"class","sg-label-bottom svelte-13pjhle")},m(i,l){E(i,e,l),O(e,o)},p(i,l){l[0]&1&&n!==(n=i[0].labelBottom+"")&&ft(o,n)},d(i){i&&M(e)}}}function pl(t){let e,n,o,i,l,r,s,a,c,f,m,p=t[0].type==="milestone"&&oo(),h=t[0].amountDone&&io(t);function y(g,R){return g[0].html?_l:g[14]?bl:wl}let k=y(t),d=k(t),b=t[0].showButton&&lo(t),v=t[0].labelBottom&&so(t);return{c(){e=B("div"),p&&p.c(),n=se(),h&&h.c(),o=se(),i=B("div"),d.c(),l=se(),b&&b.c(),r=se(),v&&v.c(),C(i,"class","sg-task-content svelte-13pjhle"),C(e,"data-task-id",s=t[0].id),C(e,"class",a="sg-task "+t[5]+" svelte-13pjhle"),D(e,"width",t[2].width+"px"),D(e,"height",t[7]+"px"),D(e,"left",t[2].x+"px"),D(e,"top",t[8]+"px"),U(e,"sg-milestone",t[0].type==="milestone"),U(e,"moving",t[9]),U(e,"animating",t[10]),U(e,"sg-task-reflected",t[1]),U(e,"sg-task-selected",t[3][t[0].id]),U(e,"resize-enabled",t[6]),U(e,"sg-task--sticky",t[0].stickyLabel),U(e,"sg-ignore-click",t[4]),U(e,"sg-task-instant",t[2].width===0)},m(g,R){E(g,e,R),p&&p.m(e,null),O(e,n),h&&h.m(e,null),O(e,o),O(e,i),d.m(i,null),O(i,l),b&&b.m(i,null),O(e,r),v&&v.m(e,null),f||(m=[tt(t[19].call(null,e)),tt(c=t[20].call(null,e,t[0]))],f=!0)},p(g,R){g[0].type==="milestone"?p||(p=oo(),p.c(),p.m(e,n)):p&&(p.d(1),p=null),g[0].amountDone?h?h.p(g,R):(h=io(g),h.c(),h.m(e,o)):h&&(h.d(1),h=null),k===(k=y(g))&&d?d.p(g,R):(d.d(1),d=k(g),d&&(d.c(),d.m(i,l))),g[0].showButton?b?b.p(g,R):(b=lo(g),b.c(),b.m(i,null)):b&&(b.d(1),b=null),g[0].labelBottom?v?v.p(g,R):(v=so(g),v.c(),v.m(e,null)):v&&(v.d(1),v=null),R[0]&1&&s!==(s=g[0].id)&&C(e,"data-task-id",s),R[0]&32&&a!==(a="sg-task "+g[5]+" svelte-13pjhle")&&C(e,"class",a),R[0]&4&&D(e,"width",g[2].width+"px"),R[0]&128&&D(e,"height",g[7]+"px"),R[0]&4&&D(e,"left",g[2].x+"px"),R[0]&256&&D(e,"top",g[8]+"px"),c&&Bt(c.update)&&R[0]&1&&c.update.call(null,g[0]),R[0]&33&&U(e,"sg-milestone",g[0].type==="milestone"),R[0]&544&&U(e,"moving",g[9]),R[0]&1056&&U(e,"animating",g[10]),R[0]&34&&U(e,"sg-task-reflected",g[1]),R[0]&41&&U(e,"sg-task-selected",g[3][g[0].id]),R[0]&96&&U(e,"resize-enabled",g[6]),R[0]&33&&U(e,"sg-task--sticky",g[0].stickyLabel),R[0]&48&&U(e,"sg-ignore-click",g[4]),R[0]&36&&U(e,"sg-task-instant",g[2].width===0)},i:Z,o:Z,d(g){g&&M(e),p&&p.d(),h&&h.d(),d.d(),b&&b.d(),v&&v.d(),f=!1,Qe(m)}}}const rn=40,an=40;function kl(t,e){return{left:t.clientX-e.left<0+rn,top:t.clientY-e.top<0+rn,right:t.clientX-e.left>e.width-rn,bottom:t.clientY-e.top>e.height-rn}}function vl(t,e,n){let o,i,l,r,s,a,c,{model:f}=e,{height:m}=e,{left:p}=e,{top:h}=e,{topDelta:y=0}=e,{width:k}=e,{reflected:d=!1}=e,b=!1,v=!1,g={x:p,y:h+y,width:k};function R(j,L,ye){!b&&!v&&(n(2,g.x=j,g),n(2,g.y=L,g),n(2,g.width=ye,g))}const{taskStore:I,rowStore:X,draggingTaskCache:P}=te("dataStore");Y(t,I,j=>n(35,c=j)),Y(t,X,j=>n(32,s=j)),Y(t,P,j=>n(29,o=j));const{rowContainer:J,mainContainer:Q}=te("gantt"),{taskContent:K,resizeHandleWidth:ie,rowPadding:Ee,onTaskButtonClick:He,taskElementHook:ke,layout:De}=te("options");Y(t,Ee,j=>n(31,r=j)),Y(t,De,j=>n(33,a=j));const{dndManager:le,api:ge,utils:Be,columnService:S,selectionManager:A}=te("services"),re=te("drag");let me=re.active;Y(t,me,j=>n(30,i=j));let Oe=A._selectedTasks;Y(t,Oe,j=>n(3,l=j));let ze;const Ie=rl(j=>{const L=kl(j,ze);(L.left||L.right)&&Q.scrollTo({left:Q.scrollLeft+(L.left?-an:an),behavior:"smooth"}),(L.top||L.bottom)&&Q.scrollTo({top:Q.scrollTop+(L.top?-an:an),behavior:"smooth"})},250);let ve=!1;function Ze(j){if(d)return;re.on(f.id,{move(F){n(2,g={x:F.x!=null?F.x:g.x,y:F.y!=null?F.y:g.y,width:F.width!=null?F.width:g.width})},drop(F){L(F)}});function L(F){let xe=!0;const ot={id:f.id,resourceId:f.resourceId,from:f.from,to:f.to},Pe=s.entities[f.resourceId];if(F.dragging){const Je=le.getTarget("row",F.mouseEvent);Je?(n(0,f.resourceId=Je.model.id,f),ge.tasks.raise.switchRow(this,Je,Pe)):xe=!1}n(27,b=n(28,v=!1)),setTimeout(()=>{n(4,ve=!1)});const qe=c.entities[f.id];if(delete o[f.id],!xe){n(2,g.x=qe.left,g),n(2,g.width=qe.width,g),n(2,g.y=qe.top,g);return}const qt=f.from,Qt=f.to,dt=n(0,f.from=Be.roundTo(S.getDateByPosition(F.x)),f),ht=n(0,f.to=Be.roundTo(S.getDateByPosition(F.x+F.width)),f),Lt=S.getPositionByDate(dt)|0,Vt=S.getPositionByDate(ht)|0,gt=s.entities[f.resourceId],kt=Lt,vt=Vt-Lt,yt=r+gt.y;R(kt,yt+y,vt);const Ke={...qe,left:kt,width:vt,top:yt,model:f},mt=qt!=dt||Qt!=ht||Pe&&Pe.model.id!==gt.model.id;mt&&ge.tasks.raise.change({task:Ke,sourceRow:Pe,targetRow:gt,previousState:ot}),mt&&ge.tasks.raise.changed({task:Ke,sourceRow:Pe,targetRow:gt,previousState:ot}),I.update(Ke)}const ye=mn(j,{container:J,resizeHandleWidth:ie,getX:()=>g.x,getY:()=>g.y,getWidth:()=>g.width,dragAllowed(){return s.entities[f.resourceId].model.enableDragging&&f.enableDragging},resizeAllowed(){return f.type!=="milestone"&&s.entities[f.resourceId].model.enableResize&&f.enableResize},onDown(F){let xe=[];for(const[ot,Pe]of Object.entries(l))Pe&&ot!==f.id+""&&xe.push(c.entities[ot]);re.save(F,xe),ze=Q.getBoundingClientRect(),F.dragging&&xt("move"),F.resizing&&xt("e-resize"),oe(P,o[f.id]=!0,o)},onMouseUp(){xt("default"),ge.tasks.raise.moveEnd(f)},onResize(F){n(2,g.x=F.x,g),n(2,g.width=F.width,g),n(28,v=!0),n(4,ve=!0),re.moveAll(F),Ie(F.event)},onDrag(F){n(2,g.x=F.x,g),n(2,g.y=F.y,g),n(27,b=!0),n(4,ve=!0),ge.tasks.raise.move(f),re.moveAll(F),Ie(F.event)},onDrop(F){L(F),re.dropAll(F)}});return{destroy:()=>{re.off(f.id),ye.destroy()}}}function Le(j,L){if(ke)return ke(j,L)}function Ge(j){He&&He(f,j)}let We,V,Ue,w,_,H;return t.$$set=j=>{"model"in j&&n(0,f=j.model),"height"in j&&n(22,m=j.height),"left"in j&&n(23,p=j.left),"top"in j&&n(24,h=j.top),"topDelta"in j&&n(25,y=j.topDelta),"width"in j&&n(26,k=j.width),"reflected"in j&&n(1,d=j.reflected)},t.$$.update=()=>{t.$$.dirty[0]&125829120&&R(p,h+y,k),t.$$.dirty[0]&1&&n(5,We=En(f.classes)),t.$$.dirty[0]&1|t.$$.dirty[1]&2&&n(6,V=f.type!=="milestone"&&s.entities[f.resourceId].model.enableResize&&f.enableResize),t.$$.dirty[0]&4194305|t.$$.dirty[1]&7&&(m!==void 0&&a!=="overlap"?n(7,Ue=m):n(7,Ue=s.entities[f.resourceId].height-2*r)),t.$$.dirty[0]&1493172237|t.$$.dirty[1]&7&&(h!==void 0&&a!=="overlap"||b||v||l[f.id]&&i?n(8,w=g.y):n(8,w=s.entities[f.resourceId].y+r)),t.$$.dirty[0]&1476395017&&n(9,_=b||v||l[f.id]&&i),t.$$.dirty[0]&536870913&&n(10,H=!o[f.id])},[f,d,g,l,ve,We,V,Ue,w,_,H,I,X,P,K,Ee,De,me,Oe,Ze,Le,Ge,m,p,h,y,k,b,v,o,i,r,s,a]}class yl extends Re{constructor(e){super(),Ce(this,e,vl,pl,pe,{model:0,height:22,left:23,top:24,topDelta:25,width:26,reflected:1},null,[-1,-1])}}var Tl=".sg-row.svelte-7u5y5s{position:relative;width:100%;box-sizing:border-box}";Se(Tl);function ro(t){let e,n=t[0].model.contentHtml+"",o;return{c(){e=new pt(!1),o=ce(),e.a=o},m(i,l){e.m(n,i,l),E(i,o,l)},p(i,l){l&1&&n!==(n=i[0].model.contentHtml+"")&&e.p(n)},d(i){i&&(M(o),e.d())}}}function Cl(t){let e,n,o,i=t[0].model.contentHtml&&ro(t);return{c(){e=B("div"),i&&i.c(),C(e,"class",n="sg-row "+t[0].model.classes+" svelte-7u5y5s"),C(e,"data-row-id",o=t[0].model.id),D(e,"height",t[3]+"px"),U(e,"sg-hover",t[1]==t[0].model.id),U(e,"sg-selected",t[2]==t[0].model.id)},m(l,r){E(l,e,r),i&&i.m(e,null)},p(l,[r]){l[0].model.contentHtml?i?i.p(l,r):(i=ro(l),i.c(),i.m(e,null)):i&&(i.d(1),i=null),r&1&&n!==(n="sg-row "+l[0].model.classes+" svelte-7u5y5s")&&C(e,"class",n),r&1&&o!==(o=l[0].model.id)&&C(e,"data-row-id",o),r&8&&D(e,"height",l[3]+"px"),r&3&&U(e,"sg-hover",l[1]==l[0].model.id),r&5&&U(e,"sg-selected",l[2]==l[0].model.id)},i:Z,o:Z,d(l){l&&M(e),i&&i.d()}}}function Rl(t,e,n){let o,i,l,{row:r}=e;const{rowHeight:s}=te("options");Y(t,s,f=>n(3,l=f));const{hoveredRow:a,selectedRow:c}=te("gantt");return Y(t,a,f=>n(1,o=f)),Y(t,c,f=>n(2,i=f)),t.$$set=f=>{"row"in f&&n(0,r=f.row)},[r,o,i,l,s,a,c]}class Sl extends Re{constructor(e){super(),Ce(this,e,Rl,Cl,pe,{row:0})}}var Dl=`.sg-time-range.svelte-w7p5la{height:100%;position:absolute;display:flex;flex-direction:column;align-items:center;background-image:linear-gradient(
            -45deg,
            rgba(0, 0, 0, 0) 46%,
            #e03218 49%,
            #e03218 51%,
            rgba(0, 0, 0, 0) 55%
        );background-size:6px 6px !important;color:red;font-weight:400}.sg-time-range-label.svelte-w7p5la{margin-top:10px;background:#fff;white-space:nowrap;padding:4px;font-weight:400;font-size:10px}`;Se(Dl);function ao(t){let e,n=t[0].label+"",o;return{c(){e=B("div"),o=Ve(n),C(e,"class","sg-time-range-label svelte-w7p5la")},m(i,l){E(i,e,l),O(e,o)},p(i,l){l&1&&n!==(n=i[0].label+"")&&ft(o,n)},d(i){i&&M(e)}}}function zl(t){let e,n,o=t[0].label&&ao(t);return{c(){e=B("div"),o&&o.c(),C(e,"class",n="sg-time-range "+t[3]+" svelte-w7p5la"),D(e,"width",t[2].width+"px"),D(e,"left",t[2].x+"px"),U(e,"moving",t[1])},m(i,l){E(i,e,l),o&&o.m(e,null)},p(i,[l]){i[0].label?o?o.p(i,l):(o=ao(i),o.c(),o.m(e,null)):o&&(o.d(1),o=null),l&8&&n!==(n="sg-time-range "+i[3]+" svelte-w7p5la")&&C(e,"class",n),l&4&&D(e,"width",i[2].width+"px"),l&4&&D(e,"left",i[2].x+"px"),l&10&&U(e,"moving",i[1])},i:Z,o:Z,d(i){i&&M(e),o&&o.d()}}}function Ml(t,e,n){let{model:o}=e,{left:i}=e,{width:l}=e,{resizing:r=!1}=e;const s={width:l,x:i};let a;return t.$$set=c=>{"model"in c&&n(0,o=c.model),"left"in c&&n(4,i=c.left),"width"in c&&n(5,l=c.width),"resizing"in c&&n(1,r=c.resizing)},t.$$.update=()=>{t.$$.dirty&48&&(n(2,s.x=i,s),n(2,s.width=l,s)),t.$$.dirty&1&&n(3,a=En(o.classes))},[o,r,s,a,i,l]}class El extends Re{constructor(e){super(),Ce(this,e,Ml,zl,pe,{model:0,left:4,width:5,resizing:1})}}var Hl=".sg-time-range-control.svelte-w4nglp{position:absolute}.sg-time-range-handle-left.svelte-w4nglp{position:absolute;left:0}.sg-time-range-handle-right.svelte-w4nglp{position:absolute;right:0}.sg-time-range-disabled.svelte-w4nglp{display:none}.sg-time-range-handle-left.svelte-w4nglp::before,.sg-time-range-handle-right.svelte-w4nglp::before{position:absolute;content:'';bottom:4px;border-radius:6px 6px 6px 0;border:2px solid #b0b0b7;width:9px;height:9px;transform:translateX(-50%) rotate(-45deg);background-color:#fff;border-color:#e03218;cursor:ew-resize}";Se(Hl);function Bl(t){let e,n,o,i,l,r,s;return{c(){e=B("div"),n=B("div"),o=se(),i=B("div"),C(n,"class","sg-time-range-handle-left svelte-w4nglp"),C(i,"class","sg-time-range-handle-right svelte-w4nglp"),C(e,"class",l="sg-time-range-control "+t[1]+" svelte-w4nglp"),D(e,"width",t[0].width+"px"),D(e,"left",t[0].x+"px"),U(e,"sg-time-range-disabled",!t[3]())},m(a,c){E(a,e,c),O(e,n),O(e,o),O(e,i),r||(s=[tt(t[2].call(null,n)),tt(t[2].call(null,i))],r=!0)},p(a,[c]){c&2&&l!==(l="sg-time-range-control "+a[1]+" svelte-w4nglp")&&C(e,"class",l),c&1&&D(e,"width",a[0].width+"px"),c&1&&D(e,"left",a[0].x+"px"),c&10&&U(e,"sg-time-range-disabled",!a[3]())},i:Z,o:Z,d(a){a&&M(e),r=!1,Qe(s)}}}function Ll(t,e,n){const{rowContainer:o}=te("gantt"),{api:i,utils:l,columnService:r}=te("services"),{resizeHandleWidth:s}=te("options"),{timeRangeStore:a}=te("dataStore");let{model:c}=e,{width:f}=e,{left:m}=e;const p={width:f,x:m};function h(d){const b=R=>{const I=l.roundTo(r.getDateByPosition(R.x)),X=l.roundTo(r.getDateByPosition(R.x+R.width)),P=r.getPositionByDate(I),J=r.getPositionByDate(X);Object.assign(c,{from:I,to:X}),v({left:P,width:J-P,model:c,resizing:!1}),i.timeranges.raise.changed({model:c,left:R.x,width:R.width}),window.removeEventListener("pointermove",onmousemove,!1)};function v(R){a.update(R),n(0,p.x=R.left,p),n(0,p.width=R.width,p)}const g=mn(d,{onDown:R=>{i.timeranges.raise.clicked({model:c}),v({left:R.x,width:R.width,model:c,resizing:!0})},onResize:R=>{i.timeranges.raise.resized({model:c,left:R.x,width:R.width}),v({left:R.x,width:R.width,model:c,resizing:!0})},dragAllowed:!1,resizeAllowed:()=>y(),onDrop:b,container:o,resizeHandleWidth:s,getX:()=>p.x,getY:()=>0,getWidth:()=>p.width});return{destroy:()=>g.destroy()}}function y(){return c.resizable!==void 0?c.resizable:!0}let k;return t.$$set=d=>{"model"in d&&n(4,c=d.model),"width"in d&&n(5,f=d.width),"left"in d&&n(6,m=d.left)},t.$$.update=()=>{t.$$.dirty&96&&(n(0,p.x=m,p),n(0,p.width=f,p)),t.$$.dirty&16&&n(1,k=En(c.classes))},[p,k,h,y,c,f,m]}class Wl extends Re{constructor(e){super(),Ce(this,e,Ll,Bl,pe,{model:4,width:5,left:6})}}var Pl=".column.svelte-4fffin{position:absolute;height:100%;box-sizing:border-box}.column.svelte-4fffin{border-right:#efefef 1px solid}";Se(Pl);function Al(t,e=1){switch(t){case"y":case"year":return e*31536e6;case"month":return e*30*24*60*60*1e3;case"week":return e*7*24*60*60*1e3;case"d":case"day":return e*24*60*60*1e3;case"h":case"hour":return e*60*60*1e3;case"m":case"minute":return e*60*1e3;case"s":case"second":return e*1e3;default:throw new Error(`Unknown unit: ${t}`)}}function jl(t,e=1){return t.setSeconds(t.getSeconds()+e),t}function Yl(t,e=1){return t.setMinutes(t.getMinutes()+e),t}function Ol(t,e=1){return t.setHours(t.getHours()+e),t}function Il(t,e=1){return t.setDate(t.getDate()+e),t.setHours(0,0,0),t}function Ul(t,e=1){const n=t,o=n.getDay(),i=n.getDate()-o+(o==0?-6:1);return n.setDate(i),n.setHours(0,0,0),n.setDate(n.getDate()+7*e),n}function xl(t,e=1){return t.setMonth(t.getMonth()+e),t.setDate(1),t.setHours(0,0,0),t}function Fl(t,e=1){return t.setFullYear(t.getFullYear()+e),t.setMonth(0),t.setDate(1),t.setHours(0,0,0),t}function co(t,e,n){switch(e){case"y":case"year":return Fl(t,n);case"month":return xl(t,n);case"week":return Ul(t,n);case"d":case"day":return Il(t,n);case"h":case"hour":return Ol(t,n);case"m":case"minute":return Yl(t,n);case"s":case"second":return jl(t,n)}}const Nl=["y","year","month","week","d","day","h","hour","m","minute","s","second"];function oi(t,e,n,o=1,i){if(Nl.indexOf(n)!==-1){let l=0,r=0;const s=new Date(t),a=new Date(t);let c=co(a,n,o),f=c.getTime();const m=c.getTime()-t,p=[{from:t,to:c.getTime(),duration:m,isHighlighted:i&&uo(s,i)}];if(f<e){for(;f<e;)l=f,c=co(new Date(f),n,o),r=c.getTime()-f,p.push({from:f,to:c.getTime(),duration:r,isHighlighted:i&&uo(new Date(f),i)}),f=c.getTime();const h=e-l;p[p.length-1].to=e,p[p.length-1].duration=h}return p}throw new Error(`Unknown unit: ${n}`)}function uo(t,e){let n;switch(e.unit){case"m":case"minute":return n=t.getMinutes(),e.fractions.includes(n);case"h":case"hour":return n=t.getHours(),e.fractions.includes(n);case"d":case"day":return n=t.getDay(),e.fractions.includes(n);case"week":return e.fractions.includes(n);case"dayinMonth":return n=t.getDate(),e.fractions.includes(n);case"month":return n=t.getMonth(),e.fractions.includes(n);case"y":case"year":return n=t.getFullYear(),e.fractions.includes(n);default:throw new Error(`Invalid unit: ${e.unit}`)}}class Xl{constructor(){q(this,"from");q(this,"to");q(this,"width");q(this,"magnetOffset");q(this,"magnetUnit");q(this,"magnetDuration");q(this,"dateAdapter")}getPositionByDate(e){return Hn(e,this.from,this.to,this.width)}getDateByPosition(e){return Gl(e,this.from,this.to,this.width)}roundTo(e){return this.dateAdapter?this.dateAdapter.roundTo(e,this.magnetUnit,this.magnetOffset):null}}function Hn(t,e,n,o){if(!t)return;const i=t-e,l=n-e;return i/l*o}function Gl(t,e,n,o){const i=t/o*(n-e);return e+i}function ql(t,e,n,o){let i=-1,l=t.length;for(;l-i>1;){const r=Math.floor((i+l)/2);(o?n(t[r])<e:n(t[r])<=e)?i=r:l=r}return!o&&t[i]!==void 0&&n(t[i])===e&&(l=i),[i,l]}function ii(t,e,n,o){const i=ql(t,e,n,o);return[t[i[0]],t[i[1]]]}var Ql=".column-header-row.svelte-vfarxf.svelte-vfarxf{position:relative;white-space:nowrap;height:32px}.column-header-cell.svelte-vfarxf.svelte-vfarxf{position:absolute;height:100%;box-sizing:border-box;text-overflow:clip;text-align:center;display:inline-flex;justify-content:center;align-items:center;font-size:1em;font-size:14px;font-weight:300;transition:background 0.2s;cursor:pointer;user-select:none;border-right:#efefef 1px solid;border-bottom:#efefef 1px solid}.column-header-cell.svelte-vfarxf.svelte-vfarxf:hover{background:#f9f9f9}.column-header-cell.sticky.svelte-vfarxf>.column-header-cell-label.svelte-vfarxf{position:sticky;left:1rem}";Se(Ql);function fo(t,e,n){const o=t.slice();return o[13]=e[n],o}function ho(t){let e,n,o=(t[13].label||"N/A")+"",i,l,r,s;function a(){return t[10](t[13])}return{c(){e=B("div"),n=B("div"),i=Ve(o),l=se(),C(n,"class","column-header-cell-label svelte-vfarxf"),C(e,"class","column-header-cell svelte-vfarxf"),C(e,"role","button"),C(e,"tabindex","0"),D(e,"left",t[13].left+"px"),D(e,"width",t[13].width+"px"),U(e,"sticky",t[0].sticky)},m(c,f){E(c,e,f),O(e,n),O(n,i),O(e,l),r||(s=Xe(e,"click",a),r=!0)},p(c,f){t=c,f&1&&o!==(o=(t[13].label||"N/A")+"")&&ft(i,o),f&1&&D(e,"left",t[13].left+"px"),f&1&&D(e,"width",t[13].width+"px"),f&1&&U(e,"sticky",t[0].sticky)},d(c){c&&M(e),r=!1,s()}}}function Vl(t){let e,n=$(t[0].columns),o=[];for(let i=0;i<n.length;i+=1)o[i]=ho(fo(t,n,i));return{c(){e=B("div");for(let i=0;i<o.length;i+=1)o[i].c();C(e,"class","column-header-row svelte-vfarxf")},m(i,l){E(i,e,l);for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(e,null)},p(i,[l]){if(l&17){n=$(i[0].columns);let r;for(r=0;r<n.length;r+=1){const s=fo(i,n,r);o[r]?o[r].p(s,l):(o[r]=ho(s),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}},i:Z,o:Z,d(i){i&&M(e),at(o,i)}}}function Zl(t,e,n){let o,i,l;const r=Gt(),{from:s,to:a,width:c}=te("dimensions");Y(t,s,d=>n(9,l=d)),Y(t,a,d=>n(8,i=d)),Y(t,c,d=>n(7,o=d));const{dateAdapter:f}=te("options");let{header:m}=e,{ganttBodyColumns:p}=e,{ganttBodyUnit:h}=e;function y(d){r("dateSelected",{from:d.from,to:d.to,unit:m.unit})}const k=d=>y(d);return t.$$set=d=>{"header"in d&&n(0,m=d.header),"ganttBodyColumns"in d&&n(5,p=d.ganttBodyColumns),"ganttBodyUnit"in d&&n(6,h=d.ganttBodyUnit)},t.$$.update=()=>{if(t.$$.dirty&993)if(m.unit===h)n(0,m.columns=p.map(d=>({...d,label:f.format(d.from,m.format)})),m);else{const d=oi(l.valueOf(),i.valueOf(),m.unit,m.offset);let b=0,v=0;n(0,m.columns=d.map(g=>(v=b,b=Hn(g.to,l.valueOf(),i.valueOf(),o),{width:Math.min(b-v,o),label:f.format(g.from,m.format),from:g.from,to:g.to,left:v})),m)}},[m,s,a,c,y,p,h,o,i,l,k]}class Kl extends Re{constructor(e){super(),Ce(this,e,Zl,Vl,pe,{header:0,ganttBodyColumns:5,ganttBodyUnit:6})}}function go(t,e,n){const o=t.slice();return o[4]=e[n],o}function mo(t){let e,n;return e=new Kl({props:{header:t[4],ganttBodyColumns:t[1],ganttBodyUnit:t[2]}}),e.$on("dateSelected",t[3]),{c(){_e(e.$$.fragment)},m(o,i){de(e,o,i),n=!0},p(o,i){const l={};i&1&&(l.header=o[4]),i&2&&(l.ganttBodyColumns=o[1]),i&4&&(l.ganttBodyUnit=o[2]),e.$set(l)},i(o){n||(x(e.$$.fragment,o),n=!0)},o(o){N(e.$$.fragment,o),n=!1},d(o){he(e,o)}}}function Jl(t){let e,n,o=$(t[0]),i=[];for(let r=0;r<o.length;r+=1)i[r]=mo(go(t,o,r));const l=r=>N(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=ce()},m(r,s){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(r,s);E(r,e,s),n=!0},p(r,[s]){if(s&7){o=$(r[0]);let a;for(a=0;a<o.length;a+=1){const c=go(r,o,a);i[a]?(i[a].p(c,s),x(i[a],1)):(i[a]=mo(c),i[a].c(),x(i[a],1),i[a].m(e.parentNode,e))}for(Ae(),a=o.length;a<i.length;a+=1)l(a);je()}},i(r){if(!n){for(let s=0;s<o.length;s+=1)x(i[s]);n=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)N(i[s]);n=!1},d(r){r&&M(e),at(i,r)}}}function $l(t,e,n){let{headers:o}=e,{ganttBodyColumns:i}=e,{ganttBodyUnit:l}=e;function r(s){Sn.call(this,t,s)}return t.$$set=s=>{"headers"in s&&n(0,o=s.headers),"ganttBodyColumns"in s&&n(1,i=s.ganttBodyColumns),"ganttBodyUnit"in s&&n(2,l=s.ganttBodyUnit)},[o,i,l,r]}class es extends Re{constructor(e){super(),Ce(this,e,$l,Jl,pe,{headers:0,ganttBodyColumns:1,ganttBodyUnit:2})}}function ts(t,e){try{const n=document.createElement("canvas");n.width=(t.length-1)*t[0].width,n.height=20;const o=n.getContext("2d");return o.shadowColor="rgba(128,128,128,0.5)",o.shadowOffsetX=0,o.shadowOffsetY=0,o.shadowBlur=.5,o.lineWidth=e.columnStrokeWidth,o.lineCap="square",o.strokeStyle=e.columnStrokeColor,o.translate(.5,.5),t.forEach(l=>{ns(o,l.left)}),`url("${n.toDataURL()}")`}catch(n){console.error("[canvas] Render error",n)}}function ns(t,e){t.beginPath(),t.moveTo(e,0),t.lineTo(e,20),t.stroke()}var os=".sg-columns.svelte-1uqfnup{position:absolute;height:100%;width:100%}.sg-columns--background.svelte-1uqfnup{overflow:hidden;background-repeat:repeat;background-position-x:-1px}.sg-column.svelte-1uqfnup{position:absolute;height:100%;width:100%;box-sizing:border-box}";Se(os);function wo(t,e,n){const o=t.slice();return o[6]=e[n],o}function is(t){let e,n=$(t[0]),o=[];for(let i=0;i<n.length;i+=1)o[i]=bo(wo(t,n,i));return{c(){e=B("div");for(let i=0;i<o.length;i+=1)o[i].c();C(e,"class","sg-columns svelte-1uqfnup")},m(i,l){E(i,e,l);for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(e,null)},p(i,l){if(l&29){n=$(i[0]);let r;for(r=0;r<n.length;r+=1){const s=wo(i,n,r);o[r]?o[r].p(s,l):(o[r]=bo(s),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}},d(i){i&&M(e),at(o,i)}}}function ls(t){let e;return{c(){e=B("div"),C(e,"class","sg-columns sg-columns--background svelte-1uqfnup"),D(e,"background-image",t[5])},m(n,o){E(n,e,o)},p(n,o){o&32&&D(e,"background-image",n[5])},d(n){n&&M(e)}}}function bo(t){let e;return{c(){e=B("div"),C(e,"class","sg-column svelte-1uqfnup"),D(e,"border-right",(t[6].bgHighlightColor?0:t[2])+"px solid "+(t[6].bgHighlightColor||t[3])),D(e,"left",t[6].left+"px"),D(e,"width",t[6].width+"px"),D(e,"background-color",t[6].bgHighlightColor||t[4])},m(n,o){E(n,e,o)},p(n,o){o&13&&D(e,"border-right",(n[6].bgHighlightColor?0:n[2])+"px solid "+(n[6].bgHighlightColor||n[3])),o&1&&D(e,"left",n[6].left+"px"),o&1&&D(e,"width",n[6].width+"px"),o&17&&D(e,"background-color",n[6].bgHighlightColor||n[4])},d(n){n&&M(e)}}}function ss(t){let e;function n(l,r){return l[1]?ls:is}let o=n(t),i=o(t);return{c(){i.c(),e=ce()},m(l,r){i.m(l,r),E(l,e,r)},p(l,[r]){o===(o=n(l))&&i?i.p(l,r):(i.d(1),i=o(l),i&&(i.c(),i.m(e.parentNode,e)))},i:Z,o:Z,d(l){l&&M(e),i.d(l)}}}function rs(t,e,n){let{columns:o}=e,{useCanvasColumns:i=!0}=e,{columnStrokeWidth:l}=e,{columnStrokeColor:r}=e,{columnDefaultColor:s="#ffffff"}=e,a;return t.$$set=c=>{"columns"in c&&n(0,o=c.columns),"useCanvasColumns"in c&&n(1,i=c.useCanvasColumns),"columnStrokeWidth"in c&&n(2,l=c.columnStrokeWidth),"columnStrokeColor"in c&&n(3,r=c.columnStrokeColor),"columnDefaultColor"in c&&n(4,s=c.columnDefaultColor)},t.$$.update=()=>{t.$$.dirty&13&&n(5,a=ts(o,{columnStrokeColor:r,columnStrokeWidth:l}))},[o,i,l,r,s,a]}class as extends Re{constructor(e){super(),Ce(this,e,rs,ss,pe,{columns:0,useCanvasColumns:1,columnStrokeWidth:2,columnStrokeColor:3,columnDefaultColor:4})}}var cs=".sg-context-menu.svelte-1a9x2in{position:absolute;background:white;border:1px solid #ccc;padding:0.25em 0;font-size:10px;transition:opacity 0.4s ease 0s;opacity:1;box-shadow:rgba(0, 0, 0, 0.32) 1px 1px 3px 0px}.context-option.svelte-1a9x2in:hover{background:#eee}.context-option.svelte-1a9x2in{cursor:default;padding:0.2em 1em}";Se(cs);var us=`.sg-resize.svelte-1vzamdy{z-index:2;background:#e9eaeb;width:5px;cursor:col-resize;position:absolute;height:100%;transition:width 0.2s,
            transform 0.2s}.sg-resize.svelte-1vzamdy:hover{transform:translateX(-2px);width:10px}`;Se(us);function fs(t){let e,n,o;return{c(){e=B("div"),C(e,"class","sg-resize svelte-1vzamdy"),D(e,"left",t[0]+"px")},m(i,l){E(i,e,l),n||(o=tt(t[1].call(null,e)),n=!0)},p(i,[l]){l&1&&D(e,"left",i[0]+"px")},i:Z,o:Z,d(i){i&&M(e),n=!1,o()}}}function ds(t,e,n){const o=Gt();let{x:i}=e,{container:l}=e;const r={onDrag:a=>{n(0,i=a.x),o("resize",{left:i}),xt("col-resize")},onDrop:a=>{n(0,i=a.x),o("resize",{left:i}),xt("default")},dragAllowed:!0,resizeAllowed:!1,container:l,getX:()=>i,getY:()=>0,getWidth:()=>0};function s(a){const c=mn(a,r);return{destroy:()=>c.destroy()}}return t.$$set=a=>{"x"in a&&n(0,i=a.x),"container"in a&&n(2,l=a.container)},t.$$.update=()=>{t.$$.dirty&4&&(r.container=l)},[i,s,l]}class hs extends Re{constructor(e){super(),Ce(this,e,ds,fs,pe,{x:0,container:2})}}class gs{constructor(){q(this,"listeners");q(this,"listenersMap");q(this,"tasks");q(this,"timeranges");this.listeners=[],this.listenersMap={}}registerEvent(e,n){this[e]||(this[e]={});const o=this[e];o.on||(o.on={},o.raise={});let i="on:"+e+":"+n;o.raise[n]=(...l)=>{this.listeners.forEach(r=>{r.eventId===i&&r.handler(l)})},o.on[n]=l=>{let r={handler:l,eventId:i};return this.listenersMap[i]=r,this.listeners.push(r),()=>{const a=this.listeners.indexOf(r);this.listeners.splice(a,1)}}}}class ms{constructor(e){q(this,"columnService");q(this,"rowPadding");q(this,"rowEntities");this.columnService=e}createTask(e){e.amountDone=e.amountDone||0,e.classes=e.classes||"",e.from=e.from||null,e.to=e.to||null,e.label=e.label||void 0,e.html=e.html||void 0,e.showButton=e.showButton||!1,e.buttonClasses=e.buttonClasses||"",e.buttonHtml=e.buttonHtml||"",e.enableDragging=e.enableDragging===void 0?!0:e.enableDragging,e.enableResize=e.enableResize===void 0?!0:e.enableResize;const n=this.columnService.getPositionByDate(e.from)|0,o=this.columnService.getPositionByDate(e.to)|0;return{model:e,left:n,width:o-n,height:this.getHeight(e),top:this.getPosY(e)}}createTasks(e){return e.map(n=>this.createTask(n))}row(e){return this.rowEntities[e]}getHeight(e){const n=this.row(e.resourceId);return(n?n.height:void 0)-2*this.rowPadding}getPosY(e){const n=this.row(e.resourceId);return(n?n.y:-1e3)+this.rowPadding}}function _o(t,e,n){const o=`reflected-task-${t.model.id}-${e.model.id}`,i={...t.model,resourceId:e.model.id,id:o,enableDragging:!1};return{...t,model:i,top:e.y+n.rowPadding,reflected:!0,reflectedOnParent:!1,reflectedOnChild:!0,originalId:t.model.id}}class ws{constructor(){q(this,"rowHeight")}createRow(e,n){e.classes=e.classes||"",e.contentHtml=e.contentHtml||void 0,e.enableDragging=e.enableDragging===void 0?!0:e.enableDragging,e.enableResize=e.enableResize===void 0?!0:e.enableResize;const o=e.height||this.rowHeight;return{model:e,y:n,height:o}}createRows(e){const n={y:0,result:[]};return this.createChildRows(e,n),n.result}createChildRows(e,n,o=null,i=0,l=[]){const r=[],s=[];return o&&(l=[...l,o]),e.forEach(a=>{const c=this.createRow(a,n.y);if(n.result.push(c),r.push(c),s.push(c),c.childLevel=i,c.parent=o,c.allParents=l,o&&(c.hidden=!(o.model.expanded||o.model.expanded==null)),c.hidden||(n.y+=c.height),a.children){const f=this.createChildRows(a.children,n,c,i+1,l);c.children=f.rows,c.allChildren=f.allRows,s.push(...f.allRows)}}),{rows:r,allRows:s}}}class bs{constructor(e){q(this,"columnService");this.columnService=e}create(e){e.resizable=e.resizable===void 0?!0:e.resizable;const n=this.columnService.getPositionByDate(e.from),o=this.columnService.getPositionByDate(e.to);return{model:e,left:n,width:o-n,resizing:!1}}}class _s{constructor(e){q(this,"taskStore");q(this,"_selectedTasks",fe({}));this.taskStore=e}selectSingle(e){this.unSelectTasks(),this._selectedTasks.set({[e]:!0})}toggleSelection(e){this._selectedTasks.update(n=>({...n,[e]:!n[e]}))}unSelectTasks(){this._selectedTasks.set({})}}function ps(t,e){return ii(t,e,o=>o.left)}function ks(t,e){return ii(t,e,o=>o.from)}function vs(){const t={};return{onDelegatedEvent(e,n,o){t[e]||(t[e]={}),t[e][n]=o},offDelegatedEvent(e,n){delete t[e][n]},onEvent(e){const{type:n,target:o}=e,i=t[n];if(!i)return;let l,r=o;for(;r&&r!=e.currentTarget&&!(l=ys(i,r));)r=r.parentElement;l&&i[l.attr]?i[l.attr](e,l.data,r):i.empty&&i.empty(e,null,r)}}}function ys(t,e){let n;for(const o in t)if(n=e.getAttribute(o))return{attr:o,data:n}}class Ts{format(e,n){const o=new Date(e);switch(n){case"H":return o.getHours()+"";case"HH":return zt(o.getHours());case"H:mm":return`${o.getHours()}:${zt(o.getMinutes())}`;case"hh:mm":return`${zt(o.getHours())}:${zt(o.getMinutes())}`;case"hh:mm:ss":return`${o.getHours()}:${zt(o.getMinutes())}:${zt(o.getSeconds())}`;case"dd/MM/yyyy":return`${o.getDate()}/${o.getMonth()+1}/${o.getFullYear()}`;case"dd/MM/yyyy hh:mm":return`${o.getDate()}/${o.getMonth()+1}/${o.getFullYear()} ${o.getHours()}:${o.getMinutes()}`;case"dd/MM/yyyy hh:mm:ss":return`${o.getDate()}/${o.getMonth()+1}/${o.getFullYear()} ${o.getHours()}:${o.getMinutes()}:${o.getSeconds()}`;case"YYYY":return`${o.getFullYear()}`;case"Q":return`${Math.floor(o.getMonth()/3+1)}`;case"[Q]Q":return`Q${Math.floor(o.getMonth()/3+1)}`;case"YYYY[Q]Q":return`${o.getFullYear()}Q${Math.floor(o.getMonth()/3+1)}`;case"MM":{let i=String(o.getMonth()+1);return i.length==1&&(i=`0${i}`),`${i}`}case"MMMM":{const i=o.toLocaleString("default",{month:"long"});return`${i.charAt(0).toUpperCase()}${i.substring(1)}`}case"MMMM - YYYY":{const i=o.toLocaleString("default",{month:"long"});return`${i.charAt(0).toUpperCase()}${i.substring(1)}-${o.getFullYear()}`}case"MMMM YYYY":{const i=o.toLocaleString("default",{month:"long"});return`${i.charAt(0).toUpperCase()}${i.substring(1)} ${o.getFullYear()}`}case"MMM":{const i=o.toLocaleString("default",{month:"short"});return`${i.charAt(0).toUpperCase()}${i.substring(1)}`}case"MMM - YYYY":{const i=o.toLocaleString("default",{month:"short"});return`${i.charAt(0).toUpperCase()}${i.substring(1)} - ${o.getFullYear()}`}case"MMM YYYY":{const i=o.toLocaleString("default",{month:"short"});return`${i.charAt(0).toUpperCase()}${i.substring(1)} ${o.getFullYear()}`}case"W":return`${po(o)}`;case"WW":{const i=po(o);return`${i.toString().length==1?"0":""}${i}`}default:return console.warn(`Date Format '${n}' is not supported, use another date adapter.`),`${o.getDate()}/${o.getMonth()+1}/${o.getFullYear()}`}}roundTo(e,n,o){const i=Cs(n,o);return Math.round(e/i)*i}}function zt(t){let e=t.toString();for(let n=e.length;n<2;n++)e="0"+e;return e}function po(t){t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));const e=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t.valueOf()-e.valueOf())/864e5+1)/7)}function Cs(t,e){switch(t){case"y":case"year":return e*31536e6;case"month":return e*30*24*60*60*1e3;case"week":return e*7*24*60*60*1e3;case"d":case"day":return e*24*60*60*1e3;case"h":case"hour":return e*60*60*1e3;case"m":case"minute":return e*60*1e3;case"s":case"second":return e*1e3;default:throw new Error(`Unknown unit: ${t}`)}}function Rs(t,e){if(t.length){if(t.length===1){const n=t[0];n.yPos=0,n.intersectsWith=[],n.height=e.rowContentHeight,n.topDelta=n.yPos*n.height}t.sort(Ds);for(const n of t){n.yPos=0,n.intersectsWith=[];for(const o of t)n!==o&&Ss(n,o)&&n.intersectsWith.push(o)}for(const n of t){n.numYSlots=li(n);for(let o=0;o<n.numYSlots;o++)if(!n.intersectsWith.some(i=>i.yPos===o)){n.yPos=o,n.height=e.rowContentHeight/n.numYSlots,n.topDelta=n.yPos*n.height;break}}}}function Ss(t,e){return t.left+t.width>e.left&&t.left<e.left+e.width}function Ds(t,e){return t.left-e.left||e.left+e.width-(t.left+t.width)}function li(t,e=new Map){e.set(t,!0);let n=t.intersectsWith.length+1;for(const o of t.intersectsWith.filter(i=>!e.has(i))){const i=li(o,e);i>n&&(n=i)}return n}function zs(){const{columnService:t,utils:e}=te("services");return function(o,i){return Hs(o,{columnService:t,utils:e,...i})}}const Ms=2,Es=2;function Hs(t,e){let n,o,i,l,r,s,a=!1;const c=()=>e.container;function f(y){if(!e.enabled)return;y.stopPropagation(),y.preventDefault();const[k,d]=ll(c(),y),b=o=e.utils.roundTo(e.columnService.getDateByPosition(k)),v=n=e.columnService.getPositionByDate(b)|0,g=0;r=y.clientX,s=y.clientY,i=v+g,window.addEventListener("pointermove",m,!1),window.addEventListener("pointerup",h)}function m(y){if(!a)if(Math.abs(y.clientX-r)>Ms||Math.abs(y.clientY-s)>Es)a=!0;else return;y.preventDefault();const{x:k,width:d,y:b}=p(y);e.onMove({from:o,to:o,x:k,width:d,y:b})}function p(y){const k=_t(c(),y),d=n,b=0;let v,g;return l==="left"?i-k.x<=0?(l="right",v=i,g=i-k.x,i=i+b):(v=k.x,g=i-k.x):k.x-d<=0?(l="left",v=k.x,g=k.x-d,i=d):(v=d,g=k.x-d),{x:v,width:g,y:k.y}}function h(y){if(window.removeEventListener("pointerup",h),window.removeEventListener("pointermove",m,!1),a){const{x:k,width:d,y:b}=p(y),v=e.utils.roundTo(e.columnService.getDateByPosition(k)),g=e.utils.roundTo(e.columnService.getDateByPosition(k+d)),R=e.columnService.getPositionByDate(v)|0,I=e.columnService.getPositionByDate(g)|0;e.onEnd({from:v,to:g,x:R,width:I-R,y:b})}i=null,r=null,s=null,a=!1}return t.addEventListener("pointerdown",f),{destroy(){t.removeEventListener("pointerdown",f),window.removeEventListener("pointermove",m),window.removeEventListener("pointerup",h)},update(y){Object.assign(e,y)}}}var Bs=`.sg-disable-transition.svelte-rujbxv .sg-task,.sg-disable-transition.svelte-rujbxv .sg-milestone{transition:transform 0s,
            background-color 0.2s,
            width 0s !important}.sg-view:not(:first-child){margin-left:5px}.right-scrollbar-visible{padding-right:17px}.sg-timeline.svelte-rujbxv{flex:1 1 0%;display:flex;flex-direction:column;overflow-x:auto}.sg-gantt.svelte-rujbxv{display:flex;width:100%;height:100%;position:relative}.sg-foreground.svelte-rujbxv{box-sizing:border-box;overflow:hidden;top:0;left:0;position:absolute;width:100%;height:100%;z-index:1;pointer-events:none}.sg-rows.svelte-rujbxv{width:100%;box-sizing:border-box;overflow:hidden}.sg-timeline-body.svelte-rujbxv{overflow:auto;flex:1 1 auto}.sg-header-scroller.svelte-rujbxv{border-right:1px solid #efefef;overflow:hidden;position:relative}.content.svelte-rujbxv{position:relative}*{box-sizing:border-box}`;Se(Bs);function ko(t,e,n){const o=t.slice();return o[153]=e[n],o}function vo(t,e,n){const o=t.slice();return o[156]=e[n],o}function yo(t,e,n){const o=t.slice();return o[159]=e[n],o}function To(t,e,n){const o=t.slice();return o[162]=e[n],o}function Co(t,e,n){const o=t.slice();return o[159]=e[n],o}function Ro(t,e,n){const o=t.slice();return o[153]=e[n],o}function So(t){let e,n,o,i;const l=[{rowContainerHeight:t[10]},{paddingTop:t[22]},{paddingBottom:t[23]},{tableWidth:t[2]},t[58],{visibleRows:t[11]}];var r=t[153];function s(a,c){let f={};if(c!==void 0&&c[0]&12585988|c[1]&134217728)f=ct(l,[c[0]&1024&&{rowContainerHeight:a[10]},c[0]&4194304&&{paddingTop:a[22]},c[0]&8388608&&{paddingBottom:a[23]},c[0]&4&&{tableWidth:a[2]},c[1]&134217728&&ut(a[58]),c[0]&2048&&{visibleRows:a[11]}]);else for(let m=0;m<l.length;m+=1)f=nt(f,l[m]);return{props:f}}return r&&(e=hn(r,s(t)),e.$on("init",gn)),o=new hs({props:{x:t[2],container:t[14]}}),o.$on("resize",t[52]),{c(){e&&_e(e.$$.fragment),n=se(),_e(o.$$.fragment)},m(a,c){e&&de(e,a,c),E(a,n,c),de(o,a,c),i=!0},p(a,c){if(c[0]&16&&r!==(r=a[153])){if(e){Ae();const m=e;N(m.$$.fragment,1,0,()=>{he(m,1)}),je()}r?(e=hn(r,s(a,c)),e.$on("init",gn),_e(e.$$.fragment),x(e.$$.fragment,1),de(e,n.parentNode,n)):e=null}else if(r){const m=c[0]&12585988|c[1]&134217728?ct(l,[c[0]&1024&&{rowContainerHeight:a[10]},c[0]&4194304&&{paddingTop:a[22]},c[0]&8388608&&{paddingBottom:a[23]},c[0]&4&&{tableWidth:a[2]},c[1]&134217728&&ut(a[58]),c[0]&2048&&{visibleRows:a[11]}]):{};e.$set(m)}const f={};c[0]&4&&(f.x=a[2]),c[0]&16384&&(f.container=a[14]),o.$set(f)},i(a){i||(e&&x(e.$$.fragment,a),x(o.$$.fragment,a),i=!0)},o(a){e&&N(e.$$.fragment,a),N(o.$$.fragment,a),i=!1},d(a){a&&M(n),e&&he(e,a),he(o,a)}}}function Do(t,e){let n,o,i;const l=[e[159]];let r={};for(let s=0;s<l.length;s+=1)r=nt(r,l[s]);return o=new Wl({props:r}),{key:t,first:null,c(){n=ce(),_e(o.$$.fragment),this.first=n},m(s,a){E(s,n,a),de(o,s,a),i=!0},p(s,a){e=s;const c=a[0]&134217728?ct(l,[ut(e[159])]):{};o.$set(c)},i(s){i||(x(o.$$.fragment,s),i=!0)},o(s){N(o.$$.fragment,s),i=!1},d(s){s&&M(n),he(o,s)}}}function zo(t,e){let n,o,i;return o=new Sl({props:{row:e[162]}}),{key:t,first:null,c(){n=ce(),_e(o.$$.fragment),this.first=n},m(l,r){E(l,n,r),de(o,l,r),i=!0},p(l,r){e=l;const s={};r[0]&2048&&(s.row=e[162]),o.$set(s)},i(l){i||(x(o.$$.fragment,l),i=!0)},o(l){N(o.$$.fragment,l),i=!1},d(l){l&&M(n),he(o,l)}}}function Mo(t,e){let n,o,i;const l=[e[159]];let r={};for(let s=0;s<l.length;s+=1)r=nt(r,l[s]);return o=new El({props:r}),{key:t,first:null,c(){n=ce(),_e(o.$$.fragment),this.first=n},m(s,a){E(s,n,a),de(o,s,a),i=!0},p(s,a){e=s;const c=a[0]&134217728?ct(l,[ut(e[159])]):{};o.$set(c)},i(s){i||(x(o.$$.fragment,s),i=!0)},o(s){N(o.$$.fragment,s),i=!1},d(s){s&&M(n),he(o,s)}}}function Eo(t,e){let n,o,i;const l=[{model:e[156].model},{left:e[156].left},{width:e[156].width},{height:e[156].height},{top:e[156].top},e[156]];let r={};for(let s=0;s<l.length;s+=1)r=nt(r,l[s]);return o=new yl({props:r}),{key:t,first:null,c(){n=ce(),_e(o.$$.fragment),this.first=n},m(s,a){E(s,n,a),de(o,s,a),i=!0},p(s,a){e=s;const c=a[0]&16777216?ct(l,[{model:e[156].model},{left:e[156].left},{width:e[156].width},{height:e[156].height},{top:e[156].top},ut(e[156])]):{};o.$set(c)},i(s){i||(x(o.$$.fragment,s),i=!0)},o(s){N(o.$$.fragment,s),i=!1},d(s){s&&M(n),he(o,s)}}}function Ho(t){let e,n,o;const i=[{paddingTop:t[22]},{paddingBottom:t[23]},{visibleRows:t[11]},t[58]];var l=t[153];function r(s,a){let c={};if(a!==void 0&&a[0]&12584960|a[1]&134217728)c=ct(i,[a[0]&4194304&&{paddingTop:s[22]},a[0]&8388608&&{paddingBottom:s[23]},a[0]&2048&&{visibleRows:s[11]},a[1]&134217728&&ut(s[58])]);else for(let f=0;f<i.length;f+=1)c=nt(c,i[f]);return{props:c}}return l&&(e=hn(l,r(t)),e.$on("init",gn)),{c(){e&&_e(e.$$.fragment),n=ce()},m(s,a){e&&de(e,s,a),E(s,n,a),o=!0},p(s,a){if(a[0]&32&&l!==(l=s[153])){if(e){Ae();const c=e;N(c.$$.fragment,1,0,()=>{he(c,1)}),je()}l?(e=hn(l,r(s,a)),e.$on("init",gn),_e(e.$$.fragment),x(e.$$.fragment,1),de(e,n.parentNode,n)):e=null}else if(l){const c=a[0]&12584960|a[1]&134217728?ct(i,[a[0]&4194304&&{paddingTop:s[22]},a[0]&8388608&&{paddingBottom:s[23]},a[0]&2048&&{visibleRows:s[11]},a[1]&134217728&&ut(s[58])]):{};e.$set(c)}},i(s){o||(e&&x(e.$$.fragment,s),o=!0)},o(s){e&&N(e.$$.fragment,s),o=!1},d(s){s&&M(n),e&&he(e,s)}}}function Ls(t){let e,n,o,i,l,r,s,a,c=[],f=new Map,m,p,h,y,k,d,b,v,g=[],R=new Map,I,X,P=[],J=new Map,Q,K=[],ie=new Map,Ee,He,ke,De,le,ge,Be,S=$(t[4]),A=[];for(let w=0;w<S.length;w+=1)A[w]=So(Ro(t,S,w));const re=w=>N(A[w],1,1,()=>{A[w]=null});s=new es({props:{headers:t[1],ganttBodyColumns:t[19],ganttBodyUnit:t[0]}}),s.$on("dateSelected",t[54]);let me=$(t[27]);const Oe=w=>w[159].model.id;for(let w=0;w<me.length;w+=1){let _=Co(t,me,w),H=Oe(_);f.set(H,c[w]=Do(H,_))}k=new as({props:{columns:t[19],columnStrokeColor:t[7],columnStrokeWidth:t[8],useCanvasColumns:t[6]}});let ze=$(t[11]);const Ie=w=>w[162].model.id;for(let w=0;w<ze.length;w+=1){let _=To(t,ze,w),H=Ie(_);R.set(H,g[w]=zo(H,_))}let ve=$(t[27]);const Ze=w=>w[159].model.id;for(let w=0;w<ve.length;w+=1){let _=yo(t,ve,w),H=Ze(_);J.set(H,P[w]=Mo(H,_))}let Le=$(t[24]);const Ge=w=>w[156].model.id;for(let w=0;w<Le.length;w+=1){let _=vo(t,Le,w),H=Ge(_);ie.set(H,K[w]=Eo(H,_))}let We=$(t[5]),V=[];for(let w=0;w<We.length;w+=1)V[w]=Ho(ko(t,We,w));const Ue=w=>N(V[w],1,1,()=>{V[w]=null});return{c(){e=B("div");for(let w=0;w<A.length;w+=1)A[w].c();n=se(),o=B("div"),i=B("div"),l=B("div"),r=B("div"),_e(s.$$.fragment),a=se();for(let w=0;w<c.length;w+=1)c[w].c();p=se(),h=B("div"),y=B("div"),_e(k.$$.fragment),d=se(),b=B("div"),v=B("div");for(let w=0;w<g.length;w+=1)g[w].c();I=se(),X=B("div");for(let w=0;w<P.length;w+=1)P[w].c();Q=se();for(let w=0;w<K.length;w+=1)K[w].c();Ee=se();for(let w=0;w<V.length;w+=1)V[w].c();C(r,"class","header-container"),D(r,"width",t[13]+"px"),C(l,"class","sg-header-scroller svelte-rujbxv"),C(i,"class","sg-header"),Nt(()=>t[125].call(i)),U(i,"right-scrollbar-visible",t[21]),D(v,"transform","translateY("+t[22]+"px)"),C(b,"class","sg-rows svelte-rujbxv"),D(b,"height",t[10]+"px"),C(X,"class","sg-foreground svelte-rujbxv"),C(y,"class","content svelte-rujbxv"),D(y,"width",t[13]+"px"),C(h,"class","sg-timeline-body svelte-rujbxv"),Nt(()=>t[128].call(h)),U(h,"zooming",t[20]),C(o,"class","sg-timeline sg-view svelte-rujbxv"),C(e,"class",De="sg-gantt "+t[3]+" svelte-rujbxv"),U(e,"sg-disable-transition",t[18])},m(w,_){E(w,e,_);for(let H=0;H<A.length;H+=1)A[H]&&A[H].m(e,null);O(e,n),O(e,o),O(o,i),O(i,l),O(l,r),de(s,r,null),O(r,a);for(let H=0;H<c.length;H+=1)c[H]&&c[H].m(r,null);t[124](i),m=Jn(i,t[125].bind(i)),O(o,p),O(o,h),O(h,y),de(k,y,null),O(y,d),O(y,b),O(b,v);for(let H=0;H<g.length;H+=1)g[H]&&g[H].m(v,null);t[126](b),O(y,I),O(y,X);for(let H=0;H<P.length;H+=1)P[H]&&P[H].m(X,null);O(X,Q);for(let H=0;H<K.length;H+=1)K[H]&&K[H].m(X,null);O(y,Ee);for(let H=0;H<V.length;H+=1)V[H]&&V[H].m(y,null);t[127](h),He=Jn(h,t[128].bind(h)),t[129](e),le=!0,ge||(Be=[tt(t[51].call(null,l)),tt(t[50].call(null,h)),Xe(h,"wheel",t[53]),tt(ke=t[57].call(null,h,{container:t[17],enabled:t[9],onMove:t[55],onEnd:t[56]})),Xe(e,"pointerdown",Kn(t[49])),Xe(e,"click",Kn(t[49])),Xe(e,"dblclick",t[49]),Xe(e,"pointerover",t[49]),Xe(e,"pointerleave",t[49])],ge=!0)},p(w,_){if(_[0]&12602388|_[1]&136314880){S=$(w[4]);let L;for(L=0;L<S.length;L+=1){const ye=Ro(w,S,L);A[L]?(A[L].p(ye,_),x(A[L],1)):(A[L]=So(ye),A[L].c(),x(A[L],1),A[L].m(e,n))}for(Ae(),L=S.length;L<A.length;L+=1)re(L);je()}const H={};_[0]&2&&(H.headers=w[1]),_[0]&524288&&(H.ganttBodyColumns=w[19]),_[0]&1&&(H.ganttBodyUnit=w[0]),s.$set(H),_[0]&134217728&&(me=$(w[27]),Ae(),c=It(c,_,Oe,1,w,me,f,r,Ot,Do,null,Co),je()),(!le||_[0]&8192)&&D(r,"width",w[13]+"px"),(!le||_[0]&2097152)&&U(i,"right-scrollbar-visible",w[21]);const j={};if(_[0]&524288&&(j.columns=w[19]),_[0]&128&&(j.columnStrokeColor=w[7]),_[0]&256&&(j.columnStrokeWidth=w[8]),_[0]&64&&(j.useCanvasColumns=w[6]),k.$set(j),_[0]&2048&&(ze=$(w[11]),Ae(),g=It(g,_,Ie,1,w,ze,R,v,Ot,zo,null,To),je()),(!le||_[0]&4194304)&&D(v,"transform","translateY("+w[22]+"px)"),(!le||_[0]&1024)&&D(b,"height",w[10]+"px"),_[0]&134217728&&(ve=$(w[27]),Ae(),P=It(P,_,Ze,1,w,ve,J,X,Ot,Mo,Q,yo),je()),_[0]&16777216&&(Le=$(w[24]),Ae(),K=It(K,_,Ge,1,w,Le,ie,X,Ot,Eo,null,vo),je()),_[0]&12584992|_[1]&134217728){We=$(w[5]);let L;for(L=0;L<We.length;L+=1){const ye=ko(w,We,L);V[L]?(V[L].p(ye,_),x(V[L],1)):(V[L]=Ho(ye),V[L].c(),x(V[L],1),V[L].m(y,null))}for(Ae(),L=We.length;L<V.length;L+=1)Ue(L);je()}(!le||_[0]&8192)&&D(y,"width",w[13]+"px"),ke&&Bt(ke.update)&&_[0]&131584&&ke.update.call(null,{container:w[17],enabled:w[9],onMove:w[55],onEnd:w[56]}),(!le||_[0]&1048576)&&U(h,"zooming",w[20]),(!le||_[0]&8&&De!==(De="sg-gantt "+w[3]+" svelte-rujbxv"))&&C(e,"class",De),(!le||_[0]&262152)&&U(e,"sg-disable-transition",w[18])},i(w){if(!le){for(let _=0;_<S.length;_+=1)x(A[_]);x(s.$$.fragment,w);for(let _=0;_<me.length;_+=1)x(c[_]);x(k.$$.fragment,w);for(let _=0;_<ze.length;_+=1)x(g[_]);for(let _=0;_<ve.length;_+=1)x(P[_]);for(let _=0;_<Le.length;_+=1)x(K[_]);for(let _=0;_<We.length;_+=1)x(V[_]);le=!0}},o(w){A=A.filter(Boolean);for(let _=0;_<A.length;_+=1)N(A[_]);N(s.$$.fragment,w);for(let _=0;_<c.length;_+=1)N(c[_]);N(k.$$.fragment,w);for(let _=0;_<g.length;_+=1)N(g[_]);for(let _=0;_<P.length;_+=1)N(P[_]);for(let _=0;_<K.length;_+=1)N(K[_]);V=V.filter(Boolean);for(let _=0;_<V.length;_+=1)N(V[_]);le=!1},d(w){w&&M(e),at(A,w),he(s);for(let _=0;_<c.length;_+=1)c[_].d();t[124](null),m(),he(k);for(let _=0;_<g.length;_+=1)g[_].d();t[126](null);for(let _=0;_<P.length;_+=1)P[_].d();for(let _=0;_<K.length;_+=1)K[_].d();at(V,w),t[127](null),He(),t[129](null),ge=!1,Qe(Be)}}}function Ws(t){let e,n,o={$$slots:{default:[Ls]},$$scope:{ctx:t}};return e=new gl({props:o}),t[130](e),{c(){_e(e.$$.fragment)},m(i,l){de(e,i,l),n=!0},p(i,l){const r={};l[0]&503316479|l[1]&134217728|l[5]&16384&&(r.$$scope={dirty:l,ctx:i}),e.$set(r)},i(i){n||(x(e.$$.fragment,i),n=!0)},o(i){N(e.$$.fragment,i),n=!1},d(i){t[130](null),he(e,i)}}}function Bo(t){for(const e in t)if(t[e]==null)throw new Error(`"${e}" is not set`)}function cn(t){return t instanceof Date?t.valueOf():t}function gn(t){}function Ps(t,e,n){const o=["rows","tasks","timeRanges","rowPadding","rowHeight","from","to","minWidth","fitWidth","classes","headers","zoomLevels","taskContent","tableWidth","resizeHandleWidth","onTaskButtonClick","dateAdapter","magnetUnit","magnetOffset","columnUnit","columnOffset","ganttTableModules","ganttBodyModules","reflectOnParentRows","reflectOnChildRows","useCanvasColumns","columnStrokeColor","columnStrokeWidth","highlightedDurations","highlightColor","taskElementHook","layout","columnService","api","taskFactory","rowFactory","dndManager","timeRangeFactory","utils","refreshTimeRanges","refreshTasks","getRowContainer","selectTask","unselectTasks","scrollToRow","scrollToTask","updateTask","updateTasks","removeTask","removeTasks","updateRow","updateRows","getRow","getTask","getTasks","enableCreateTask","onCreateTask","onCreatedTask"];let i=Zn(e,o),l,r,s,a,c,f,m,p,h,y,k,d,b,v,g,R,I,X,P,J,Q,K,ie,Ee,He=[],ke=!1,{rows:De}=e,{tasks:le=[]}=e,{timeRanges:ge=[]}=e;Bo({rows:De});let{rowPadding:Be=6}=e,{rowHeight:S=52}=e;const A=fe(S);Y(t,A,u=>n(139,I=u));const re=fe(Be);Y(t,re,u=>n(123,k=u));let{from:me}=e,{to:Oe}=e;Bo({from:me,to:Oe});const ze=fe(cn(me));Y(t,ze,u=>n(122,y=u));const Ie=fe(cn(Oe));Y(t,Ie,u=>n(121,h=u));let{minWidth:ve=800}=e,{fitWidth:Ze=!1}=e;const Le=fe(ve);Y(t,Le,u=>n(135,b=u));const Ge=fe(Ze);Y(t,Ge,u=>n(134,d=u));let{classes:We=[]}=e,{headers:V=[{unit:"day",format:"MMMM Do"},{unit:"hour",format:"H:mm"}]}=e,{zoomLevels:Ue=[{headers:[{unit:"day",format:"DD.MM.YYYY"},{unit:"hour",format:"HH"}],minWidth:800,fitWidth:!0},{headers:[{unit:"hour",format:"ddd D/M, H A"},{unit:"minute",format:"mm",offset:15}],minWidth:5e3,fitWidth:!1}]}=e,{taskContent:w=null}=e,{tableWidth:_=240}=e,{resizeHandleWidth:H=10}=e,{onTaskButtonClick:j=null}=e,{dateAdapter:L=new Ts}=e,{magnetUnit:ye="minute"}=e,{magnetOffset:F=15}=e,xe;ot(ye,F);function ot(u,T){u&&T&&n(108,xe=Al(u,T))}let{columnUnit:Pe="minute"}=e,{columnOffset:qe=15}=e,{ganttTableModules:qt=[]}=e,{ganttBodyModules:Qt=[]}=e,{reflectOnParentRows:dt=!0}=e,{reflectOnChildRows:ht=!1}=e,{useCanvasColumns:Lt=!0}=e,{columnStrokeColor:Vt="#efefef"}=e,{columnStrokeWidth:gt=1}=e,{highlightedDurations:kt}=e,{highlightColor:vt="#6eb859"}=e,{taskElementHook:yt=null}=e,{layout:Ke="overlap"}=e;const mt=fe(Ke);Y(t,mt,u=>n(138,R=u));const Je=fe(null);Y(t,Je,u=>n(28,J=u));const Zt=fe(null);Y(t,Zt,u=>n(12,f=u));const Kt=fe(null);Y(t,Kt,u=>n(26,X=u));const wn=Mn([Je,Le,Ge],([u,T,z])=>z&&u>T?u:T);Y(t,wn,u=>n(13,p=u));const Bn=il();Mt("dataStore",Bn);const{rowStore:Tt,taskStore:Fe,timeRangeStore:Ln,allTasks:Wn,allRows:Pn,allTimeRanges:An,rowTaskCache:jn,draggingTaskCache:Jt}=Bn;Y(t,Tt,u=>n(119,c=u)),Y(t,Fe,u=>n(117,s=u)),Y(t,Wn,u=>n(120,m=u)),Y(t,Pn,u=>n(116,r=u)),Y(t,An,u=>n(27,P=u)),Y(t,jn,u=>n(118,a=u)),Y(t,Jt,u=>n(115,l=u));const it={getColumnByDate(u){const T=ks($t,u);return T[0]?T[0]:T[1]},getColumnByPosition(u){const T=ps($t,u);return T[0]?T[0]:T[1]},getPositionByDate(u){if(!u)return null;const T=this.getColumnByDate(u),W=(u-T.from)/T.duration*T.width;return T.left+W},getDateByPosition(u){const T=this.getColumnByPosition(u);u=u-T.left;let z=T.duration/T.width*u;return T.from+z},roundTo(u){return Math.round(u/xe)*xe}};let bn=!1;async function ai(){n(18,bn=!0),await eo(),Q.offsetHeight,n(18,bn=!1)}let $t;function ci(u,T,z,W,G){u instanceof Date&&(u=u.valueOf()),T instanceof Date&&(T=T.valueOf());let ne=[];const Te=oi(u.valueOf(),T.valueOf(),z,W,kt);let ee=0,be=0;return Te.forEach(function(ue){ee=be,be=Hn(ue.to,y,h,p),ne.push({width:be-ee,from:ue.from,to:ue.to,left:ee,duration:ue.duration,...ue.isHighlighted&&{bgHighlightColor:vt}})}),ne}Mt("dimensions",{from:ze,to:Ie,width:wn,visibleWidth:Je,visibleHeight:Zt,headerHeight:Kt}),Mt("options",{dateAdapter:L,taskElementHook:yt,taskContent:w,rowPadding:re,rowHeight:A,layout:mt,resizeHandleWidth:H,reflectOnParentRows:dt,reflectOnChildRows:ht,onTaskButtonClick:j});const Wt=fe(null);Y(t,Wt,u=>n(136,v=u));const Pt=fe(null);Y(t,Pt,u=>n(137,g=u));const Yn={scrollables:He,hoveredRow:Wt,selectedRow:Pt};Mt("gantt",Yn),Jo(()=>{Object.assign(Yn,{rowContainer:Ee,mainContainer:ie,mainHeaderContainer:K}),ae.registerEvent("tasks","move"),ae.registerEvent("tasks","select"),ae.registerEvent("tasks","switchRow"),ae.registerEvent("tasks","moveEnd"),ae.registerEvent("tasks","change"),ae.registerEvent("tasks","changed"),ae.registerEvent("gantt","viewChanged"),ae.registerEvent("gantt","dateSelected"),ae.registerEvent("tasks","dblclicked"),ae.registerEvent("timeranges","clicked"),ae.registerEvent("timeranges","resized"),ae.registerEvent("timeranges","changed"),n(107,ke=!0)});const{onDelegatedEvent:At,offDelegatedEvent:en,onEvent:ui}=vs();At("click","data-task-id",(u,T,z)=>{const W=T,G=s.entities[W];ni(u)&&!z.classList.contains("sg-task-reflected")&&!z.classList.contains("sg-ignore-click")&&(u.ctrlKey?wt.toggleSelection(W):wt.selectSingle(W)),ae.tasks.raise.select(G)}),At("pointerover","data-row-id",(u,T,z)=>{oe(Wt,v=T,v)}),At("click","data-row-id",(u,T,z)=>{if(wt.unSelectTasks(),g==T){oe(Pt,g=null,g);return}oe(Pt,g=T,g)}),At("dblclick","data-task-id",(u,T,z)=>{const W=T;ae.tasks.raise.dblclicked(s.entities[W],u)}),At("pointerleave","empty",(u,T,z)=>{oe(Wt,v=null,v)}),Ji(()=>{en("click","data-task-id"),en("click","data-row-id"),en("pointerdown","data-task-id"),en("dblclick","data-task-id"),wt.unSelectTasks()});let _n=0;function fi(u){const T=z=>{const{scrollTop:W,scrollLeft:G}=u;He.forEach(ne=>{ne.orientation==="horizontal"?ne.node.scrollLeft=G:ne.node.scrollTop=W}),n(109,_n=W)};return u.addEventListener("scroll",T),{destroy(){u.removeEventListener("scroll",T,!1)}}}function di(u){He.push({node:u,orientation:"horizontal"})}function hi(u){n(2,_=u.detail.left)}let lt=0,pn=!1;async function gi(u){if(u.ctrlKey){u.preventDefault();const T=lt;if(u.deltaY>0?lt=Math.max(lt-1,0):lt=Math.min(lt+1,Ue.length-1),T!=lt&&Ue[lt]){const z={columnUnit:Pe,columnOffset:qe,minWidth:b,...Ue[lt]},W=z.minWidth/p,G=ie,ne=_t(G,u),be=(G.scrollLeft+ne.x)*W-ne.x+G.clientWidth/2;n(0,Pe=z.columnUnit),n(59,qe=z.columnOffset),oe(Le,b=z.minWidth,b),z.headers&&n(1,V=z.headers),z.fitWidth&&oe(Ge,d=z.fitWidth,d),ae.gantt.raise.viewChanged(),n(20,pn=!0),await eo(),G.scrollLeft=be,n(20,pn=!1)}}}function mi(u){oe(ze,y=u.detail.from,y),oe(Ie,h=u.detail.to,h),ae.gantt.raise.dateSelected({from:y,to:h})}function wi(u){const T=Ct.createRows(u);Tt.addAll(T)}async function bi(u){n(60,Ne.rowEntities=c.entities,Ne);const T=[],z={};for(const W of u){l[W.id]&&(z[W.id]=!0);const G=Ne.createTask(W);T.push(G)}oe(Jt,l=z,l),Fe.addAll(T)}let Ye={};function _i(u){const T=u.map(z=>In.create(z));Ln.addAll(T)}const ae=new gs,wt=new _s(Fe),Ne=new ms(it),Ct=new ws,On=new ul(Tt),In=new bs(it),we=new Xl;Mt("services",{utils:we,api:ae,dndManager:On,selectionManager:wt,columnService:it});function Un(){Ln._update(({ids:u,entities:T})=>(u.forEach(z=>{const W=T[z],G=it.getPositionByDate(W.model.from)|0,ne=it.getPositionByDate(W.model.to)|0;W.left=G,W.width=ne-G}),{ids:u,entities:T}))}function xn(){m.forEach(u=>{const T=it.getPositionByDate(u.model.from)|0,z=it.getPositionByDate(u.model.to)|0;u.left=T,u.width=z-T}),Fe.refresh()}function pi(){return Ee}function ki(u){s.entities[u]&&wt.selectSingle(u)}function vi(){wt.unSelectTasks()}function yi(u,T="auto"){const{scrollTop:z,clientHeight:W}=ie,G=r.findIndex(Te=>Te.model.id==u);if(G===-1)return;const ne=G*S;ne<z&&ie.scrollTo({top:ne,behavior:T}),ne>z+W&&ie.scrollTo({top:ne+S-W,behavior:T})}function Ti(u,T="auto"){const{scrollLeft:z,scrollTop:W,clientWidth:G,clientHeight:ne}=ie,Te=s.entities[u];if(!Te)return;const ee=Te.left,ue=r.findIndex(Fi=>Fi.model.id==Te.model.resourceId)*S,$e={top:void 0,left:void 0,behavior:T};ee<z&&($e.left=ee),ee>z+G&&($e.left=ee+Te.width-G),ue<W&&($e.top=ue),ue>W+ne&&($e.top=ue+S-ne),ie.scrollTo($e)}function Ci(u){const T=Ne.createTask(u);Fe.upsert(T)}function Ri(u){const T=u.map(z=>Ne.createTask(z));Fe.upsertAll(T)}function Si(u){Fe.delete(u)}function Di(u){Fe.deleteAll(u)}function zi(u){const T=Ct.createRow(u,null);Tt.upsert(T)}function Mi(u){const T=u.map(z=>Ct.createRow(z,null));Tt.upsertAll(T)}function Ei(u){return c.entities[u]}function Hi(u){return s.entities[u]}function Bi(u){return a[u]?a[u].map(T=>s.entities[T]):null}let Rt=[],Fn,kn,jt,tn,Nn=0,Xn=0,nn=[],Gn,on,{enableCreateTask:qn=!1}=e,{onCreateTask:vn=u=>({id:`creating-task-${(Math.random()+1).toString(36).substring(2,7)}`,label:" ",...u})}=e,{onCreatedTask:yn=u=>{}}=e,Me=null,Yt=null;function Li({from:u,to:T,x:z,width:W,y:G}){if(!Me){const Te=r.find(ee=>ee.y<G&&G<ee.y+ee.height).model.id;Me=Ne.createTask(vn({resourceId:Te,from:u,to:T})),Fe.upsert(Me),oe(Jt,l[Me.model.id]=!0,l)}Yt.trigger("move",Me.model.id,{x:z,width:W})}function Wi({from:u,to:T,x:z,width:W}){Me.model.from=u,Me.model.to=T,Me.left=z,Me.width=W,Yt.trigger("move",Me.model.id,{x:z,width:W}),Fe.upsert(Me),delete l[Me.model.id],yn(Me),Me=null}const Pi=zs();function Ai(u){rt[u?"unshift":"push"](()=>{K=u,n(15,K)})}function ji(){X=this.clientHeight,Kt.set(X)}function Yi(u){rt[u?"unshift":"push"](()=>{Ee=u,n(17,Ee)})}function Oi(u){rt[u?"unshift":"push"](()=>{ie=u,n(16,ie)})}function Ii(){f=this.clientHeight,Zt.set(f),J=this.clientWidth,Je.set(J)}function Ui(u){rt[u?"unshift":"push"](()=>{Q=u,n(14,Q)})}function xi(u){rt[u?"unshift":"push"](()=>{Yt=u,n(25,Yt)})}return t.$$set=u=>{e=nt(nt({},e),Qi(u)),n(58,i=Zn(e,o)),"rows"in u&&n(63,De=u.rows),"tasks"in u&&n(64,le=u.tasks),"timeRanges"in u&&n(65,ge=u.timeRanges),"rowPadding"in u&&n(66,Be=u.rowPadding),"rowHeight"in u&&n(67,S=u.rowHeight),"from"in u&&n(68,me=u.from),"to"in u&&n(69,Oe=u.to),"minWidth"in u&&n(70,ve=u.minWidth),"fitWidth"in u&&n(71,Ze=u.fitWidth),"classes"in u&&n(3,We=u.classes),"headers"in u&&n(1,V=u.headers),"zoomLevels"in u&&n(72,Ue=u.zoomLevels),"taskContent"in u&&n(73,w=u.taskContent),"tableWidth"in u&&n(2,_=u.tableWidth),"resizeHandleWidth"in u&&n(74,H=u.resizeHandleWidth),"onTaskButtonClick"in u&&n(75,j=u.onTaskButtonClick),"dateAdapter"in u&&n(76,L=u.dateAdapter),"magnetUnit"in u&&n(77,ye=u.magnetUnit),"magnetOffset"in u&&n(78,F=u.magnetOffset),"columnUnit"in u&&n(0,Pe=u.columnUnit),"columnOffset"in u&&n(59,qe=u.columnOffset),"ganttTableModules"in u&&n(4,qt=u.ganttTableModules),"ganttBodyModules"in u&&n(5,Qt=u.ganttBodyModules),"reflectOnParentRows"in u&&n(79,dt=u.reflectOnParentRows),"reflectOnChildRows"in u&&n(80,ht=u.reflectOnChildRows),"useCanvasColumns"in u&&n(6,Lt=u.useCanvasColumns),"columnStrokeColor"in u&&n(7,Vt=u.columnStrokeColor),"columnStrokeWidth"in u&&n(8,gt=u.columnStrokeWidth),"highlightedDurations"in u&&n(81,kt=u.highlightedDurations),"highlightColor"in u&&n(82,vt=u.highlightColor),"taskElementHook"in u&&n(83,yt=u.taskElementHook),"layout"in u&&n(84,Ke=u.layout),"enableCreateTask"in u&&n(9,qn=u.enableCreateTask),"onCreateTask"in u&&n(105,vn=u.onCreateTask),"onCreatedTask"in u&&n(106,yn=u.onCreatedTask)},t.$$.update=()=>{if(t.$$.dirty[2]&2|t.$$.dirty[3]&16384&&ke&&wi(De),t.$$.dirty[2]&4|t.$$.dirty[3]&16384&&ke&&bi(le),t.$$.dirty[2]&8|t.$$.dirty[3]&16384&&ke&&_i(ge),t.$$.dirty[2]&32&&oe(A,I=S,I),t.$$.dirty[2]&16&&oe(re,k=Be,k),t.$$.dirty[2]&64&&oe(ze,y=cn(me),y),t.$$.dirty[2]&128&&oe(Ie,h=cn(Oe),h),t.$$.dirty[2]&768&&(oe(Le,b=ve,b),oe(Ge,d=Ze,d)),t.$$.dirty[2]&98304&&ot(ye,F),t.$$.dirty[2]&4194304&&oe(mt,R=Ke,R),t.$$.dirty[0]&8193|t.$$.dirty[1]&268435456|t.$$.dirty[3]&805306368&&(n(19,$t=ci(y,h,Pe,qe)),ai(),Un(),xn()),t.$$.dirty[2]&393216|t.$$.dirty[3]&1275199488){n(110,Ye={});const u={rowPadding:k};for(const T of m){const z=c.entities[T.model.resourceId];z&&(ht&&z.allChildren&&z.allChildren.forEach(W=>{const G=_o(T,W,u);Ye[W.model.id]||n(110,Ye[W.model.id]=[],Ye),Ye[W.model.id].push(G)}),dt&&z.allParents&&z.allParents.forEach(W=>{const G=_o(T,W,u);Ye[W.model.id]||n(110,Ye[W.model.id]=[],Ye),Ye[W.model.id].push(G)}))}}if(t.$$.dirty[3]&1140850688&&(n(60,Ne.rowPadding=k,Ne),n(60,Ne.rowEntities=c.entities,Ne)),t.$$.dirty[2]&32&&n(61,Ct.rowHeight=S,Ct),t.$$.dirty[0]&8192|t.$$.dirty[2]&114688|t.$$.dirty[3]&805339136&&(n(62,we.from=y,we),n(62,we.to=h,we),n(62,we.width=p,we),n(62,we.magnetOffset=F,we),n(62,we.magnetUnit=ye,we),n(62,we.magnetDuration=xe,we),n(62,we.dateAdapter=L,we)),t.$$.dirty[3]&8388608&&n(111,Rt=r.filter(u=>!u.hidden)),t.$$.dirty[2]&32|t.$$.dirty[3]&262144&&n(10,kn=Rt.length*S),t.$$.dirty[0]&5120&&n(21,Fn=kn>f),t.$$.dirty[2]&32|t.$$.dirty[3]&65536&&n(112,jt=Math.floor(_n/S)),t.$$.dirty[0]&4096|t.$$.dirty[2]&32|t.$$.dirty[3]&786432&&n(113,tn=Math.min(jt+Math.ceil(f/S),Rt.length-1)),t.$$.dirty[2]&32|t.$$.dirty[3]&524288&&n(22,Nn=jt*S),t.$$.dirty[2]&32|t.$$.dirty[3]&1310720&&n(23,Xn=(Rt.length-tn-1)*S),t.$$.dirty[3]&1835008&&n(11,nn=Rt.slice(jt,tn+1)),t.$$.dirty[0]&2048|t.$$.dirty[3]&56754176){let Te=function(ee){const be=ee.model.id;on[be]!=null?z[on[be]]=ee:G=!1,W[be]=ne++};const u=[],T={},z=[],W={};let G=!0,ne=0;for(let ee=0;ee<nn.length;ee++){const be=nn[ee];if(a[be.model.id])for(let ue=0;ue<a[be.model.id].length;ue++){const $e=a[be.model.id][ue];u.push(s.entities[$e]),T[$e]=!0,Te(s.entities[$e])}if(Ye[be.model.id])for(const ue of Ye[be.model.id])u.push(ue),Te(ue)}for(const ee in l)T[ee]||(u.push(s.entities[ee]),T[ee]=!0,Te(s.entities[ee]));z.length!==u.length&&(G=!1),n(114,on=W),n(24,Gn=G?z:u)}if(t.$$.dirty[2]&4194352|t.$$.dirty[3]&117440512&&Ke==="pack")for(const u of c.ids){const T=a[u];if(T){const z=T.map(W=>s.entities[W]);Rs(z,{rowContentHeight:S-Be*2})}}},[Pe,V,_,We,qt,Qt,Lt,Vt,gt,qn,kn,nn,f,p,Q,K,ie,Ee,bn,$t,pn,Fn,Nn,Xn,Gn,Yt,X,P,J,A,re,ze,Ie,Le,Ge,mt,Je,Zt,Kt,wn,Tt,Fe,Wn,Pn,An,jn,Jt,Wt,Pt,ui,fi,di,hi,gi,mi,Li,Wi,Pi,i,qe,Ne,Ct,we,De,le,ge,Be,S,me,Oe,ve,Ze,Ue,w,H,j,L,ye,F,dt,ht,kt,vt,yt,Ke,it,ae,On,In,Un,xn,pi,ki,vi,yi,Ti,Ci,Ri,Si,Di,zi,Mi,Ei,Hi,Bi,vn,yn,ke,xe,_n,Ye,Rt,jt,tn,on,l,r,s,a,c,m,h,y,k,Ai,ji,Yi,Oi,Ii,Ui,xi]}class As extends Re{constructor(e){super(),Ce(this,e,Ps,Ws,pe,{rows:63,tasks:64,timeRanges:65,rowPadding:66,rowHeight:67,from:68,to:69,minWidth:70,fitWidth:71,classes:3,headers:1,zoomLevels:72,taskContent:73,tableWidth:2,resizeHandleWidth:74,onTaskButtonClick:75,dateAdapter:76,magnetUnit:77,magnetOffset:78,columnUnit:0,columnOffset:59,ganttTableModules:4,ganttBodyModules:5,reflectOnParentRows:79,reflectOnChildRows:80,useCanvasColumns:6,columnStrokeColor:7,columnStrokeWidth:8,highlightedDurations:81,highlightColor:82,taskElementHook:83,layout:84,columnService:85,api:86,taskFactory:60,rowFactory:61,dndManager:87,timeRangeFactory:88,utils:62,refreshTimeRanges:89,refreshTasks:90,getRowContainer:91,selectTask:92,unselectTasks:93,scrollToRow:94,scrollToTask:95,updateTask:96,updateTasks:97,removeTask:98,removeTasks:99,updateRow:100,updateRows:101,getRow:102,getTask:103,getTasks:104,enableCreateTask:9,onCreateTask:105,onCreatedTask:106},null,[-1,-1,-1,-1,-1,-1])}get columnService(){return this.$$.ctx[85]}get api(){return this.$$.ctx[86]}get taskFactory(){return this.$$.ctx[60]}get rowFactory(){return this.$$.ctx[61]}get dndManager(){return this.$$.ctx[87]}get timeRangeFactory(){return this.$$.ctx[88]}get utils(){return this.$$.ctx[62]}get refreshTimeRanges(){return this.$$.ctx[89]}get refreshTasks(){return this.$$.ctx[90]}get getRowContainer(){return this.$$.ctx[91]}get selectTask(){return this.$$.ctx[92]}get unselectTasks(){return this.$$.ctx[93]}get scrollToRow(){return this.$$.ctx[94]}get scrollToTask(){return this.$$.ctx[95]}get updateTask(){return this.$$.ctx[96]}get updateTasks(){return this.$$.ctx[97]}get removeTask(){return this.$$.ctx[98]}get removeTasks(){return this.$$.ctx[99]}get updateRow(){return this.$$.ctx[100]}get updateRows(){return this.$$.ctx[101]}get getRow(){return this.$$.ctx[102]}get getTask(){return this.$$.ctx[103]}get getTasks(){return this.$$.ctx[104]}}var js=".sg-tree-expander.svelte-1tk4vqn{cursor:pointer;min-width:1.4em;display:flex;justify-content:center;align-items:center}.sg-cell-inner.svelte-1tk4vqn{display:flex}";Se(js);function Lo(t){let e,n,o;function i(s,a){return s[0].model.expanded?Os:Ys}let l=i(t),r=l(t);return{c(){e=B("div"),r.c(),C(e,"class","sg-tree-expander svelte-1tk4vqn")},m(s,a){E(s,e,a),r.m(e,null),n||(o=Xe(e,"click",t[1]),n=!0)},p(s,a){l!==(l=i(s))&&(r.d(1),r=l(s),r&&(r.c(),r.m(e,null)))},d(s){s&&M(e),r.d(),n=!1,o()}}}function Ys(t){let e;return{c(){e=B("i"),C(e,"class","fas fa-angle-right")},m(n,o){E(n,e,o)},d(n){n&&M(e)}}}function Os(t){let e;return{c(){e=B("i"),C(e,"class","fas fa-angle-down")},m(n,o){E(n,e,o)},d(n){n&&M(e)}}}function Is(t){let e,n,o,i=t[0].children&&Lo(t);const l=t[3].default,r=qo(l,t,t[2],null);return{c(){e=B("div"),i&&i.c(),n=se(),r&&r.c(),C(e,"class","sg-cell-inner svelte-1tk4vqn"),D(e,"padding-left",t[0].childLevel*3+"em")},m(s,a){E(s,e,a),i&&i.m(e,null),O(e,n),r&&r.m(e,null),o=!0},p(s,[a]){s[0].children?i?i.p(s,a):(i=Lo(s),i.c(),i.m(e,n)):i&&(i.d(1),i=null),r&&r.p&&(!o||a&4)&&Zo(r,l,s,s[2],o?Vo(l,s[2],a,null):Ko(s[2]),null),(!o||a&1)&&D(e,"padding-left",s[0].childLevel*3+"em")},i(s){o||(x(r,s),o=!0)},o(s){N(r,s),o=!1},d(s){s&&M(e),i&&i.d(),r&&r.d(s)}}}function Us(t,e,n){let{$$slots:o={},$$scope:i}=e,{row:l}=e;const r=Gt();function s(){l.model.expanded||l.model.expanded==null?r("rowCollapsed",{row:l}):r("rowExpanded",{row:l})}return t.$$set=a=>{"row"in a&&n(0,l=a.row),"$$scope"in a&&n(2,i=a.$$scope)},[l,s,i,o]}class xs extends Re{constructor(e){super(),Ce(this,e,Us,Is,pe,{row:0})}}var Fs=".sg-table-row.svelte-oze9vk{display:inline-flex;min-width:100%;align-items:stretch;position:relative;font-weight:400;font-size:14px}.sg-table-cell.svelte-oze9vk{border-left:1px solid #eee}.sg-table-body-cell.svelte-oze9vk{border-bottom:#efefef 1px solid;background-color:#fff;font-weight:bold}.sg-resource-image.svelte-oze9vk{width:2.4em;height:2.4em;border-radius:50%;margin-right:0.6em;background:#047c69}.sg-resource-info.svelte-oze9vk{flex:1;height:100%;display:flex;flex-direction:row;align-items:center}.sg-table-icon.svelte-oze9vk{margin-right:0.5em}";Se(Fs);function Wo(t,e,n){const o=t.slice();return o[12]=e[n],o}function Ns(t){let e,n,o=t[1].model.iconClass&&Po(t);function i(s,a){return s[1].model.headerHtml?Vs:s[12].renderer?Qs:s[12].type==="resourceInfo"?qs:Gs}let l=i(t),r=l(t);return{c(){o&&o.c(),e=se(),r.c(),n=ce()},m(s,a){o&&o.m(s,a),E(s,e,a),r.m(s,a),E(s,n,a)},p(s,a){s[1].model.iconClass?o?o.p(s,a):(o=Po(s),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),l===(l=i(s))&&r?r.p(s,a):(r.d(1),r=l(s),r&&(r.c(),r.m(n.parentNode,n)))},i:Z,o:Z,d(s){s&&(M(e),M(n)),o&&o.d(s),r.d(s)}}}function Xs(t){let e,n;return e=new xs({props:{row:t[1],$$slots:{default:[$s]},$$scope:{ctx:t}}}),e.$on("rowCollapsed",t[8]),e.$on("rowExpanded",t[9]),{c(){_e(e.$$.fragment)},m(o,i){de(e,o,i),n=!0},p(o,i){const l={};i&2&&(l.row=o[1]),i&32771&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(x(e.$$.fragment,o),n=!0)},o(o){N(e.$$.fragment,o),n=!1},d(o){he(e,o)}}}function Po(t){let e,n,o;return{c(){e=B("div"),n=B("i"),C(n,"class",o=dn(t[1].model.iconClass)+" svelte-oze9vk"),C(e,"class","sg-table-icon svelte-oze9vk")},m(i,l){E(i,e,l),O(e,n)},p(i,l){l&2&&o!==(o=dn(i[1].model.iconClass)+" svelte-oze9vk")&&C(n,"class",o)},d(i){i&&M(e)}}}function Gs(t){let e=t[1].model[t[12].property]+"",n;return{c(){n=Ve(e)},m(o,i){E(o,n,i)},p(o,i){i&3&&e!==(e=o[1].model[o[12].property]+"")&&ft(n,e)},d(o){o&&M(n)}}}function qs(t){let e,n,o,i,l=t[1].model[t[12].property]+"",r;return{c(){e=B("img"),o=se(),i=B("div"),r=Ve(l),C(e,"class","sg-resource-image svelte-oze9vk"),Vn(e.src,n=t[1].model.imageSrc)||C(e,"src",n),C(e,"alt",""),C(i,"class","sg-resource-title")},m(s,a){E(s,e,a),E(s,o,a),E(s,i,a),O(i,r)},p(s,a){a&2&&!Vn(e.src,n=s[1].model.imageSrc)&&C(e,"src",n),a&3&&l!==(l=s[1].model[s[12].property]+"")&&ft(r,l)},d(s){s&&(M(e),M(o),M(i))}}}function Qs(t){let e,n=t[12].renderer(t[1])+"",o;return{c(){e=new pt(!1),o=ce(),e.a=o},m(i,l){e.m(n,i,l),E(i,o,l)},p(i,l){l&3&&n!==(n=i[12].renderer(i[1])+"")&&e.p(n)},d(i){i&&(M(o),e.d())}}}function Vs(t){let e,n=t[1].model.headerHtml+"",o;return{c(){e=new pt(!1),o=ce(),e.a=o},m(i,l){e.m(n,i,l),E(i,o,l)},p(i,l){l&2&&n!==(n=i[1].model.headerHtml+"")&&e.p(n)},d(i){i&&(M(o),e.d())}}}function Ao(t){let e,n,o;return{c(){e=B("div"),n=B("i"),C(n,"class",o=dn(t[1].model.iconClass)+" svelte-oze9vk"),C(e,"class","sg-table-icon svelte-oze9vk")},m(i,l){E(i,e,l),O(e,n)},p(i,l){l&2&&o!==(o=dn(i[1].model.iconClass)+" svelte-oze9vk")&&C(n,"class",o)},d(i){i&&M(e)}}}function Zs(t){let e=t[1].model[t[12].property]+"",n;return{c(){n=Ve(e)},m(o,i){E(o,n,i)},p(o,i){i&3&&e!==(e=o[1].model[o[12].property]+"")&&ft(n,e)},d(o){o&&M(n)}}}function Ks(t){let e,n=t[12].renderer(t[1])+"",o;return{c(){e=new pt(!1),o=ce(),e.a=o},m(i,l){e.m(n,i,l),E(i,o,l)},p(i,l){l&3&&n!==(n=i[12].renderer(i[1])+"")&&e.p(n)},d(i){i&&(M(o),e.d())}}}function Js(t){let e,n=t[1].model.headerHtml+"",o;return{c(){e=new pt(!1),o=ce(),e.a=o},m(i,l){e.m(n,i,l),E(i,o,l)},p(i,l){l&2&&n!==(n=i[1].model.headerHtml+"")&&e.p(n)},d(i){i&&(M(o),e.d())}}}function $s(t){let e,n,o=t[1].model.iconClass&&Ao(t);function i(s,a){return s[1].model.headerHtml?Js:s[12].renderer?Ks:Zs}let l=i(t),r=l(t);return{c(){o&&o.c(),e=se(),r.c(),n=ce()},m(s,a){o&&o.m(s,a),E(s,e,a),r.m(s,a),E(s,n,a)},p(s,a){s[1].model.iconClass?o?o.p(s,a):(o=Ao(s),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),l===(l=i(s))&&r?r.p(s,a):(r.d(1),r=l(s),r&&(r.c(),r.m(n.parentNode,n)))},d(s){s&&(M(e),M(n)),o&&o.d(s),r.d(s)}}}function jo(t){let e,n,o,i,l;const r=[Xs,Ns],s=[];function a(c,f){return c[12].type=="tree"?0:1}return n=a(t),o=s[n]=r[n](t),{c(){e=B("div"),o.c(),i=se(),C(e,"class","sg-table-body-cell sg-table-cell svelte-oze9vk"),D(e,"width",t[12].width+"px")},m(c,f){E(c,e,f),s[n].m(e,null),O(e,i),l=!0},p(c,f){let m=n;n=a(c),n===m?s[n].p(c,f):(Ae(),N(s[m],1,1,()=>{s[m]=null}),je(),o=s[n],o?o.p(c,f):(o=s[n]=r[n](c),o.c()),x(o,1),o.m(e,i)),(!l||f&1)&&D(e,"width",c[12].width+"px")},i(c){l||(x(o),l=!0)},o(c){N(o),l=!1},d(c){c&&M(e),s[n].d()}}}function er(t){let e,n,o,i,l=$(t[0]),r=[];for(let a=0;a<l.length;a+=1)r[a]=jo(Wo(t,l,a));const s=a=>N(r[a],1,1,()=>{r[a]=null});return{c(){e=B("div");for(let a=0;a<r.length;a+=1)r[a].c();C(e,"data-row-id",n=t[1].model.id),D(e,"height",t[2]+"px"),C(e,"class",o="sg-table-row "+(t[1].model.classes||"")+" svelte-oze9vk"),U(e,"sg-row-expanded",t[1].model.expanded),U(e,"sg-hover",t[3]==t[1].model.id),U(e,"sg-selected",t[4]==t[1].model.id)},m(a,c){E(a,e,c);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null);i=!0},p(a,[c]){if(c&3){l=$(a[0]);let f;for(f=0;f<l.length;f+=1){const m=Wo(a,l,f);r[f]?(r[f].p(m,c),x(r[f],1)):(r[f]=jo(m),r[f].c(),x(r[f],1),r[f].m(e,null))}for(Ae(),f=l.length;f<r.length;f+=1)s(f);je()}(!i||c&2&&n!==(n=a[1].model.id))&&C(e,"data-row-id",n),(!i||c&4)&&D(e,"height",a[2]+"px"),(!i||c&2&&o!==(o="sg-table-row "+(a[1].model.classes||"")+" svelte-oze9vk"))&&C(e,"class",o),(!i||c&2)&&U(e,"sg-row-expanded",a[1].model.expanded),(!i||c&10)&&U(e,"sg-hover",a[3]==a[1].model.id),(!i||c&18)&&U(e,"sg-selected",a[4]==a[1].model.id)},i(a){if(!i){for(let c=0;c<l.length;c+=1)x(r[c]);i=!0}},o(a){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)N(r[c]);i=!1},d(a){a&&M(e),at(r,a)}}}function tr(t,e,n){let o,i,l,{headers:r=null}=e,{row:s=null}=e;const{rowHeight:a}=te("options");Y(t,a,h=>n(2,o=h));const{hoveredRow:c,selectedRow:f}=te("gantt");Y(t,c,h=>n(3,i=h)),Y(t,f,h=>n(4,l=h)),Gt();function m(h){Sn.call(this,t,h)}function p(h){Sn.call(this,t,h)}return t.$$set=h=>{"headers"in h&&n(0,r=h.headers),"row"in h&&n(1,s=h.row)},t.$$.update=()=>{t.$$.dirty&2&&s.parent&&s.childLevel*3},[r,s,o,i,l,a,c,f,m,p]}class nr extends Re{constructor(e){super(),Ce(this,e,tr,er,pe,{headers:0,row:1})}}var or=".bottom-scrollbar-visible.svelte-afbyi7{padding-bottom:17px}.sg-table.svelte-afbyi7{overflow-x:auto;display:flex;flex-direction:column}.sg-table-scroller.svelte-afbyi7{width:100%;border-bottom:1px solid #efefef;overflow-y:hidden}.sg-table-header.svelte-afbyi7{display:flex;align-items:stretch;overflow:hidden;border-bottom:#efefef 1px solid;background-color:#fbfbfb}.sg-table-body.svelte-afbyi7{display:flex;flex:1 1 0;width:100%;overflow-y:hidden}.sg-table-header-cell.svelte-afbyi7{font-size:14px;font-weight:400}.sg-table-cell{white-space:nowrap;overflow:hidden;display:flex;align-items:center;flex-shrink:0;padding:0 0.5em;height:100%}.sg-table-cell:last-child{flex-grow:1}";Se(or);function Yo(t,e,n){const o=t.slice();return o[32]=e[n],o}function Oo(t,e,n){const o=t.slice();return o[35]=e[n],o}function Io(t){let e,n=t[35].title+"",o,i;return{c(){e=B("div"),o=Ve(n),i=se(),C(e,"class","sg-table-header-cell sg-table-cell svelte-afbyi7"),D(e,"width",t[35].width+"px")},m(l,r){E(l,e,r),O(e,o),O(e,i)},p(l,r){r[0]&32&&n!==(n=l[35].title+"")&&ft(o,n),r[0]&32&&D(e,"width",l[35].width+"px")},d(l){l&&M(e)}}}function Uo(t){let e,n;return e=new nr({props:{row:t[32],headers:t[5]}}),e.$on("rowExpanded",t[17]),e.$on("rowCollapsed",t[18]),{c(){_e(e.$$.fragment)},m(o,i){de(e,o,i),n=!0},p(o,i){const l={};i[0]&16&&(l.row=o[32]),i[0]&32&&(l.headers=o[5]),e.$set(l)},i(o){n||(x(e.$$.fragment,o),n=!0)},o(o){N(e.$$.fragment,o),n=!1},d(o){he(e,o)}}}function ir(t){let e,n,o,i,l,r,s,a,c,f=$(t[5]),m=[];for(let k=0;k<f.length;k+=1)m[k]=Io(Oo(t,f,k));let p=$(t[4]),h=[];for(let k=0;k<p.length;k+=1)h[k]=Uo(Yo(t,p,k));const y=k=>N(h[k],1,1,()=>{h[k]=null});return{c(){e=B("div"),n=B("div");for(let k=0;k<m.length;k+=1)m[k].c();o=se(),i=B("div"),l=B("div"),r=B("div");for(let k=0;k<h.length;k+=1)h[k].c();C(n,"class","sg-table-header svelte-afbyi7"),D(n,"height",t[8]+"px"),C(r,"class","sg-table-rows svelte-afbyi7"),D(r,"padding-top",t[1]+"px"),D(r,"padding-bottom",t[2]+"px"),D(r,"height",t[3]+"px"),C(l,"class","sg-table-scroller svelte-afbyi7"),C(i,"class","sg-table-body svelte-afbyi7"),U(i,"bottom-scrollbar-visible",t[7]),C(e,"class","sg-table sg-view svelte-afbyi7"),D(e,"width",t[0]+"px")},m(k,d){E(k,e,d),O(e,n);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(n,null);t[22](n),O(e,o),O(e,i),O(i,l),O(l,r);for(let b=0;b<h.length;b+=1)h[b]&&h[b].m(r,null);s=!0,a||(c=tt(t[16].call(null,l)),a=!0)},p(k,d){if(d[0]&32){f=$(k[5]);let b;for(b=0;b<f.length;b+=1){const v=Oo(k,f,b);m[b]?m[b].p(v,d):(m[b]=Io(v),m[b].c(),m[b].m(n,null))}for(;b<m.length;b+=1)m[b].d(1);m.length=f.length}if((!s||d[0]&256)&&D(n,"height",k[8]+"px"),d[0]&393264){p=$(k[4]);let b;for(b=0;b<p.length;b+=1){const v=Yo(k,p,b);h[b]?(h[b].p(v,d),x(h[b],1)):(h[b]=Uo(v),h[b].c(),x(h[b],1),h[b].m(r,null))}for(Ae(),b=p.length;b<h.length;b+=1)y(b);je()}(!s||d[0]&2)&&D(r,"padding-top",k[1]+"px"),(!s||d[0]&4)&&D(r,"padding-bottom",k[2]+"px"),(!s||d[0]&8)&&D(r,"height",k[3]+"px"),(!s||d[0]&128)&&U(i,"bottom-scrollbar-visible",k[7]),(!s||d[0]&1)&&D(e,"width",k[0]+"px")},i(k){if(!s){for(let d=0;d<p.length;d+=1)x(h[d]);s=!0}},o(k){h=h.filter(Boolean);for(let d=0;d<h.length;d+=1)N(h[d]);s=!1},d(k){k&&M(e),at(m,k),t[22](null),at(h,k),a=!1,c()}}}function si(t){t.forEach(e=>{e.children&&si(e.children),e.hidden=!0})}function ri(t,e=!1){t.forEach(n=>{n.children&&ri(n.children,!n.model.expanded),n.hidden=e})}function lr(t,e,n){let o,i,l,r,s,a,c;const f=Gt();let{tableWidth:m}=e,{paddingTop:p}=e,{paddingBottom:h}=e,{rowContainerHeight:y}=e,{visibleRows:k}=e,{tableHeaders:d=[{title:"Name",property:"label",width:100}]}=e;const{from:b,to:v,width:g,visibleWidth:R,headerHeight:I}=te("dimensions");Y(t,g,S=>n(21,i=S)),Y(t,R,S=>n(20,o=S)),Y(t,I,S=>n(8,c=S));const{rowPadding:X,rowHeight:P}=te("options");Y(t,X,S=>n(23,l=S)),Y(t,P,S=>n(26,a=S));const{rowStore:J,taskStore:Q}=te("dataStore");Y(t,J,S=>n(25,s=S)),Y(t,Q,S=>n(24,r=S));const{scrollables:K}=te("gantt");Jo(()=>{f("init",{module:this})});let ie;function Ee(S){K.push({node:S,orientation:"vertical"});function A(re){n(6,ie.scrollLeft=S.scrollLeft,ie)}return S.addEventListener("scroll",A),{destroy(){S.removeEventListener("scroll",A)}}}let He;function ke(S){const A=S.detail.row;A.model.expanded=!0,A.children&&ri(A.children),le()}function De(S){const A=S.detail.row;A.model.expanded=!1,A.children&&si(A.children),le()}function le(){let S=0;s.ids.forEach(A=>{s.entities[A].hidden||(oe(J,s.entities[A].y=S,s),S+=a)}),r.ids.forEach(A=>{const re=r.entities[A],me=s.entities[re.model.resourceId];oe(Q,r.entities[A].top=me.y+l,r)})}let ge;function Be(S){rt[S?"unshift":"push"](()=>{ie=S,n(6,ie)})}return t.$$set=S=>{"tableWidth"in S&&n(0,m=S.tableWidth),"paddingTop"in S&&n(1,p=S.paddingTop),"paddingBottom"in S&&n(2,h=S.paddingBottom),"rowContainerHeight"in S&&n(3,y=S.rowContainerHeight),"visibleRows"in S&&n(4,k=S.visibleRows),"tableHeaders"in S&&n(5,d=S.tableHeaders)},t.$$.update=()=>{if(t.$$.dirty[0]&32){let S=0;d.forEach(A=>{S+=A.width}),n(19,He=S)}t.$$.dirty[0]&3670017&&n(7,ge=i>o&&He<=m)},[m,p,h,y,k,d,ie,ge,c,g,R,I,X,P,J,Q,Ee,ke,De,He,o,i,Be]}class sr extends Re{constructor(e){super(),Ce(this,e,lr,ir,pe,{tableWidth:0,paddingTop:1,paddingBottom:2,rowContainerHeight:3,visibleRows:4,tableHeaders:5},null,[-1,-1])}}var pr=sr,rr=".sg-dependency.svelte-12syssu{position:absolute;width:100%;height:100%}.arrow.svelte-12syssu{position:absolute;left:0px;pointer-events:none}.select-area.svelte-12syssu{pointer-events:visible;position:absolute}";Se(rr);function xo(t){let e,n,o,i;return{c(){e=B("div"),n=un("svg"),o=un("path"),i=un("path"),C(o,"class","select-area svelte-12syssu"),C(o,"d",t[6]),C(o,"stroke",t[1]),C(o,"stroke-width",t[2]),C(o,"fill","transparent"),C(i,"d",t[5]),C(i,"fill",t[1]),C(n,"class","arrow svelte-12syssu"),C(n,"xmlns","http://www.w3.org/2000/svg"),C(n,"shape-rendering","crispEdges"),C(n,"height","100%"),C(n,"width","100%"),C(e,"class","sg-dependency svelte-12syssu"),D(e,"left","0"),D(e,"top","0"),C(e,"data-dependency-id",t[0])},m(l,r){E(l,e,r),O(e,n),O(n,o),O(n,i)},p(l,r){r&64&&C(o,"d",l[6]),r&2&&C(o,"stroke",l[1]),r&4&&C(o,"stroke-width",l[2]),r&32&&C(i,"d",l[5]),r&2&&C(i,"fill",l[1]),r&1&&C(e,"data-dependency-id",l[0])},d(l){l&&M(e)}}}function ar(t){let e,n=(!t[3]&&!t[4]||t[3]!==t[4])&&xo(t);return{c(){n&&n.c(),e=ce()},m(o,i){n&&n.m(o,i),E(o,e,i)},p(o,[i]){!o[3]&&!o[4]||o[3]!==o[4]?n?n.p(o,i):(n=xo(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Z,o:Z,d(o){o&&M(e),n&&n.d(o)}}}const et=12,st=5;function cr(t,e,n){let o,i;const{rowStore:l,taskStore:r}=te("dataStore");Y(t,l,v=>n(13,o=v)),Y(t,r,v=>n(14,i=v));let{id:s}=e,{fromId:a}=e,{toId:c}=e,{stroke:f="red"}=e,{strokeWidth:m=2}=e,p,h,y,k,d,b;return t.$$set=v=>{"id"in v&&n(0,s=v.id),"fromId"in v&&n(9,a=v.fromId),"toId"in v&&n(10,c=v.toId),"stroke"in v&&n(1,f=v.stroke),"strokeWidth"in v&&n(2,m=v.strokeWidth)},t.$$.update=()=>{if(t.$$.dirty&32344){n(11,y=i.entities[a]),n(3,k=o.entities[y.model.resourceId].hidden),n(12,d=i.entities[c]),n(4,b=o.entities[d.model.resourceId].hidden);let v=y.top+y.height/2,g=y.left+y.width,R=d.top+d.height/2,I=d.left,X=I-g,P=R-v;k?(n(6,h=`M${I} ${R}`),g+et>=I&&v!=R?n(6,h+=`L ${I+1.5-et} ${R}`):n(6,h+=`L ${I+1.5-X/2} ${R}`),n(6,h+="m -2 -2 a 2 2 0 1 1 0 4 a 2 2 0 1 1 0 -4"),n(5,p=`M${d.left-st}  ${d.top+d.height/2-st} 
                            L${d.left} ${d.top+d.height/2} 
                            L${d.left-st} ${d.top+d.height/2+st} Z`)):b?(n(6,h=`M${g} ${v}`),g+et>=I&&v!=R?n(6,h+=`L ${g+1.5+et} ${v}`):n(6,h+=`L ${g+1.5+X/2} ${v}`),n(6,h+="m -2 -2 a 2 2 0 1 1 0 4 a 2 2 0 1 1 0 -4"),n(5,p="")):!k&&!b&&(n(6,h=`M${g} ${v}`),g+et>=I&&v!=R?n(6,h+=`L ${g+et} ${v} 
                            L ${g+et} ${v+P/2}
                            L ${I-et} ${v+P/2}
                            L ${I-et} ${R}
                            L ${I-2} ${R}`):n(6,h+=`L ${g+X/2} ${v} 
                            L ${g+X/2} ${R}
                            L ${I-2} ${R}`),n(5,p=`M${d.left-st} ${d.top+d.height/2-st} 
                            L${d.left} ${d.top+d.height/2} 
                            L${d.left-st} ${d.top+d.height/2+st} Z`))}},[s,f,m,k,b,p,h,l,r,a,c,y,d,o,i]}class ur extends Re{constructor(e){super(),Ce(this,e,cr,ar,pe,{id:0,fromId:9,toId:10,stroke:1,strokeWidth:2})}}var fr=".dependency-container.svelte-epxabx{position:absolute;width:100%;height:100%;pointer-events:none;top:0;float:left;overflow:hidden;z-index:0}";Se(fr);function Fo(t,e,n){const o=t.slice();return o[7]=e[n],o}function No(t,e){let n,o,i;const l=[e[7]];let r={};for(let s=0;s<l.length;s+=1)r=nt(r,l[s]);return o=new ur({props:r}),{key:t,first:null,c(){n=ce(),_e(o.$$.fragment),this.first=n},m(s,a){E(s,n,a),de(o,s,a),i=!0},p(s,a){e=s;const c=a&1?ct(l,[ut(e[7])]):{};o.$set(c)},i(s){i||(x(o.$$.fragment,s),i=!0)},o(s){N(o.$$.fragment,s),i=!1},d(s){s&&M(n),he(o,s)}}}function dr(t){let e,n=[],o=new Map,i,l=$(t[0]);const r=s=>s[7].id;for(let s=0;s<l.length;s+=1){let a=Fo(t,l,s),c=r(a);o.set(c,n[s]=No(c,a))}return{c(){e=B("div");for(let s=0;s<n.length;s+=1)n[s].c();C(e,"class","dependency-container svelte-epxabx")},m(s,a){E(s,e,a);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);i=!0},p(s,[a]){a&1&&(l=$(s[0]),Ae(),n=It(n,a,r,1,s,l,o,e,Ot,No,null,Fo),je())},i(s){if(!i){for(let a=0;a<l.length;a+=1)x(n[a]);i=!0}},o(s){for(let a=0;a<n.length;a+=1)N(n[a]);i=!1},d(s){s&&M(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function hr(t,e,n){let o,i;const{visibleHeight:l}=te("dimensions");Y(t,l,f=>n(5,o=f));const{taskStore:r}=te("dataStore");Y(t,r,f=>n(6,i=f));let{paddingTop:s}=e,{dependencies:a=[]}=e,c=[];return t.$$set=f=>{"paddingTop"in f&&n(3,s=f.paddingTop),"dependencies"in f&&n(4,a=f.dependencies)},t.$$.update=()=>{if(t.$$.dirty&120){const f=[];for(let m=0;m<a.length;m++){const p=a[m],h=i.entities,y=h[p.fromId],k=h[p.toId];y&&k&&Math.min(y.top,k.top)<=s+o&&Math.max(y.top,k.top)>=s&&f.push(p)}n(0,c=f)}},[c,l,r,s,a,o,i]}class gr extends Re{constructor(e){super(),Ce(this,e,hr,dr,pe,{paddingTop:3,dependencies:4})}}const kr=gr,mr={enabled:!0,elementContent:()=>{const t=document.createElement("div");return t.innerHTML="New Task",Object.assign(t.style,{position:"absolute",background:"#eee",padding:"0.5em 1em",fontSize:"12px",pointerEvents:"none"}),t}};class vr{constructor(e,n){q(this,"draggable");q(this,"element");q(this,"options");this.options=Object.assign({},mr,n),this.draggable=mn(e,{onDrag:this.onDrag.bind(this),dragAllowed:()=>this.options.enabled,resizeAllowed:!1,onDrop:this.onDrop.bind(this),container:document.body,getX:o=>o.pageX,getY:o=>o.pageY,getWidth:()=>0})}onDrag({x:e,y:n}){this.element||(this.element=this.options.elementContent(),document.body.appendChild(this.element),this.options.dragging=!0),this.element.style.top=n+"px",this.element.style.left=e+"px"}onDrop(e){var i,l,r,s;const n=this.options.gantt,o=n.dndManager.getTarget("row",e.mouseEvent);if(o){const a=_t(n.getRowContainer(),e.mouseEvent),c=n.utils.getDateByPosition(a.x);(l=(i=this.options).onsuccess)==null||l.call(i,o,c,n)}else(s=(r=this.options).onfail)==null||s.call(r);document.body.removeChild(this.element),this.options.dragging=!1,this.element=null}}class yr{constructor(e){q(this,"moment");this.moment=e}format(e,n){return this.moment(e).format(n)}roundTo(e,n,o){const i=this.moment(e);return wr(i,o,n),i.valueOf()}}const Xo={hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function wr(t,e,n,o="round"){e===1&&n==="day"&&(e=24,n="hours"),Xo[n]&&(n=Xo[n]);const i={hours:24,minutes:60,seconds:60,milliseconds:1e3};i[n]||console.warn(`Rounding dates by ${n} is not supported`);let l=0,r=!1,s=1,a;for(const c in i)c===n?(l=t.get(n),a=i[c],r=!0):r&&(s*=i[c],l+=t.get(c)/s,t.set(c,0));return l=Math[o](l/e)*e,l=Math.min(l,a),t.set(n,l),t}const Tr=As;export{yr as M,pr as S,Tr as a,kr as b,vr as c,_r as g};
