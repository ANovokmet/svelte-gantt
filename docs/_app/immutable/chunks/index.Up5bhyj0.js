var nl=Object.defineProperty;var sl=(e,t,n)=>t in e?nl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ls=(e,t,n)=>(sl(e,typeof t!="symbol"?t+"":t,n),n);import{s as Ve,e as F,a as De,c as U,b as z,g as pe,f as v,r as Y,J as W,a6 as X,i as H,h as G,a7 as xt,G as yt,O as hr,n as Ae,A as mr,a1 as ve,k as Z,H as Zt,z as Xt,t as Qt,d as Jt,j as Kt,a8 as ks,l as $,q as gr,v as _r,w as wr,x as yr,$ as Gn,a9 as an,a0 as _e,a2 as go,D as qt,Q as di,aa as ci,ab as fi,m as hi,B as _o,o as Wt,p as rl,K as vs,L as mi,C as An,ac as bs,ad as gi}from"./scheduler.lruobs1Y.js";import{S as Be,i as Ge,a as q,t as J,g as nt,c as st,b as He,d as ze,m as Ie,e as Le}from"./index.DyGm78TJ.js";import{e as ye,u as ms,o as gs}from"./each.DqwAsWNO.js";import{g as dn,a as cn}from"./spread.CgU5AtxT.js";import{d as kr,w as Pe}from"./entry.0-2BfHub.js";import"./paths.oQcPQ3IF.js";import"./store.CCmTIowZ.js";function Qs(){const{subscribe:e,set:t,update:n}=Pe({ids:[],entities:{}});return{set:t,_update:n,subscribe:e,add:s=>n(({ids:r,entities:i})=>({ids:[...r,s.model.id],entities:{...i,[s.model.id]:s}})),delete:s=>n(r=>{const{[s]:i,...o}=r.entities;return{ids:r.ids.filter(a=>a!==s),entities:o}}),deleteAll:s=>n(r=>{const i={...r.entities},o=new Set(s);for(let a=0;a<r.ids.length;a++)o.has(r.ids[a])&&delete i[r.ids[a]];return{ids:r.ids.filter(a=>!o.has(a)),entities:i}}),update:s=>n(({ids:r,entities:i})=>({ids:r,entities:{...i,[s.model.id]:s}})),upsert:s=>n(({ids:r,entities:i})=>({ids:r.indexOf(s.model.id)!==-1?r:[...r,s.model.id],entities:{...i,[s.model.id]:s}})),upsertAll:s=>n(r=>{const i={...r.entities},o=[...r.ids];for(let a=0;a<s.length;a++)o.indexOf(s[a].model.id)===-1&&o.push(s[a].model.id),i[s[a].model.id]=s[a];return{ids:o,entities:i}}),addAll:s=>{const r=[],i={};for(let o=0;o<s.length;o++)r.push(s[o].model.id),i[s[o].model.id]=s[o];t({ids:r,entities:i})},refresh:()=>n(s=>({...s}))}}function Js(e){return kr(e,({ids:t,entities:n})=>{const s=[];for(let r=0;r<t.length;r++)s.push(n[t[r]]);return s})}function il(){const e=Qs(),t=Qs(),n=Qs(),s=Js(e),r=Js(t),i=Js(n),o=kr(s,a=>{const l={};for(let u=0;u<a.length;u++){const c=a[u];l[c.model.resourceId]||(l[c.model.resourceId]=[]),l[c.model.resourceId].push(c.model.id)}return l});return{taskStore:e,rowStore:t,timeRangeStore:n,allTasks:s,allRows:r,allTimeRanges:i,rowTaskCache:o}}function wo(e){return e.which===1}function wn(e,t){const n=e.getBoundingClientRect(),s=t.clientX-n.left,r=t.clientY-n.top;return{x:s,y:r}}function ol(e,t){const n=e.getBoundingClientRect(),s=t.clientX-n.left,r=t.clientY-n.top;return[s,r]}function al(e,t,n,s,r){e.addEventListener(t,function i(){e.removeEventListener(t,i,r),n.apply(this,arguments,s)})}function Ds(e,t=document.body){t.style.cursor=e}function xn(e){return e?typeof e=="string"?e:Array.isArray(e)?e.join(" "):"":""}function ll(e,t){let n=!1;return function(){n||(e.apply(null,arguments),n=!0,setTimeout(function(){n=!1},t))}}const us=40,ds=40;function ul(e,t){return{left:e.clientX-t.left<0+us,top:e.clientY-t.top<0+us,right:e.clientX-t.left>t.width-us,bottom:e.clientY-t.top>t.height-us}}const yo=ll((e,t)=>{const n=t.getBoundingClientRect(),s=ul(e,n);(s.left||s.right)&&t.scrollTo({left:t.scrollLeft+(s.left?-ds:ds),behavior:"smooth"}),(s.top||s.bottom)&&t.scrollTo({top:t.scrollTop+(s.top?-ds:ds),behavior:"smooth"})},250);function dl(e){const n=document.elementsFromPoint(e.clientX,e.clientY).find(s=>!!s.getAttribute("data-row-id"));return n!==void 0?n.getAttribute("data-row-id"):null}function cl(e){return{getPositionByDate(t){return vr(t,e.from,e.to,e.width)},getDateByPosition(t){return fl(t,e.from,e.to,e.width)},roundTo(t){return e.dateAdapter?e.dateAdapter.roundTo(t,e.magnetUnit,e.magnetOffset):null}}}function vr(e,t,n,s){if(!e)return;const r=e-t,i=n-t;return r/i*s}function fl(e,t,n,s){const r=e/s*(n-t);return t+r}function ir(e,t,n,s){let r=-1,i=e.length;for(;i-r>1;){const o=Math.floor((r+i)/2);n(e[o])<=t?r=o:i=o}return e[r]!==void 0&&n(e[r])===t&&(i=r),[r,i]}function ko(e,t,n,s){const r=ir(e,t,n);return[e[r[0]],e[r[1]]]}function Ks(e){return e.draggable??e.enableDragging??!0}function fn(e){return e.resizable??e.enableResize??!0}function _i(e){let t;return{c(){t=F("div"),this.h()},l(n){t=U(n,"DIV",{class:!0}),z(t).forEach(v),this.h()},h(){Y(t,"class","sg-milestone__diamond svelte-3whqv0")},m(n,s){H(n,t,s)},d(n){n&&v(t)}}}function wi(e){let t;return{c(){t=F("div"),this.h()},l(n){t=U(n,"DIV",{class:!0,style:!0}),z(t).forEach(v),this.h()},h(){Y(t,"class","sg-task-background svelte-3whqv0"),W(t,"width",e[0].amountDone+"%")},m(n,s){H(n,t,s)},p(n,s){s&1&&W(t,"width",n[0].amountDone+"%")},d(n){n&&v(t)}}}function hl(e){let t=e[0].label+"",n;return{c(){n=Qt(t)},l(s){n=Jt(s,t)},m(s,r){H(s,n,r)},p(s,r){r&1&&t!==(t=s[0].label+"")&&Kt(n,t)},d(s){s&&v(n)}}}function ml(e){let t,n=e[12](e[0])+"",s;return{c(){t=new Zt(!1),s=$(),this.h()},l(r){t=Xt(r,!1),s=$(),this.h()},h(){t.a=s},m(r,i){t.m(n,r,i),H(r,s,i)},p(r,i){i&1&&n!==(n=r[12](r[0])+"")&&t.p(n)},d(r){r&&(v(s),t.d())}}}function gl(e){let t,n=e[0].html+"",s;return{c(){t=new Zt(!1),s=$(),this.h()},l(r){t=Xt(r,!1),s=$(),this.h()},h(){t.a=s},m(r,i){t.m(n,r,i),H(r,s,i)},p(r,i){i&1&&n!==(n=r[0].html+"")&&t.p(n)},d(r){r&&(v(s),t.d())}}}function yi(e){let t,n,s=e[0].buttonHtml+"",r,i,o;return{c(){t=F("span"),n=new Zt(!1),this.h()},l(a){t=U(a,"SPAN",{class:!0,role:!0,tabindex:!0});var l=z(t);n=Xt(l,!1),l.forEach(v),this.h()},h(){n.a=null,Y(t,"class",r="sg-task-button "+e[0].buttonClasses+" svelte-3whqv0"),Y(t,"role","button"),Y(t,"tabindex","0")},m(a,l){H(a,t,l),n.m(s,t),i||(o=yt(t,"click",e[15]),i=!0)},p(a,l){l&1&&s!==(s=a[0].buttonHtml+"")&&n.p(s),l&1&&r!==(r="sg-task-button "+a[0].buttonClasses+" svelte-3whqv0")&&Y(t,"class",r)},d(a){a&&v(t),i=!1,o()}}}function ki(e){let t,n=e[0].labelBottom+"",s;return{c(){t=F("span"),s=Qt(n),this.h()},l(r){t=U(r,"SPAN",{class:!0});var i=z(t);s=Jt(i,n),i.forEach(v),this.h()},h(){Y(t,"class","sg-label-bottom svelte-3whqv0")},m(r,i){H(r,t,i),G(t,s)},p(r,i){i&1&&n!==(n=r[0].labelBottom+"")&&Kt(s,n)},d(r){r&&v(t)}}}function _l(e){let t,n,s,r,i,o,a,l,u,c,b,h=e[0].type==="milestone"&&_i(),T=e[0].amountDone&&wi(e);function M(_,m){return _[0].html?gl:_[12]?ml:hl}let S=M(e),f=S(e),w=e[0].showButton&&yi(e),g=e[0].labelBottom&&ki(e);return{c(){t=F("div"),h&&h.c(),n=De(),T&&T.c(),s=De(),r=F("div"),f.c(),i=De(),w&&w.c(),o=De(),g&&g.c(),this.h()},l(_){t=U(_,"DIV",{"data-task-id":!0,class:!0,style:!0});var m=z(t);h&&h.l(m),n=pe(m),T&&T.l(m),s=pe(m),r=U(m,"DIV",{class:!0});var I=z(r);f.l(I),i=pe(I),w&&w.l(I),I.forEach(v),o=pe(m),g&&g.l(m),m.forEach(v),this.h()},h(){Y(r,"class","sg-task-content svelte-3whqv0"),Y(t,"data-task-id",a=e[0].id),Y(t,"class",l="sg-task "+e[9]+" svelte-3whqv0"),W(t,"width",e[4]+"px"),W(t,"height",e[1]+"px"),W(t,"left",e[2]+"px"),W(t,"top",e[3]+"px"),X(t,"sg-milestone",e[0].type==="milestone"),X(t,"moving",e[8]),X(t,"animating",e[6]),X(t,"sg-task-reflected",e[5]),X(t,"sg-task-selected",e[10][e[0].id]),X(t,"resize-enabled",e[7]),X(t,"sg-task--sticky",e[0].stickyLabel),X(t,"sg-ignore-click",vi),X(t,"sg-task-instant",e[4]===0)},m(_,m){H(_,t,m),h&&h.m(t,null),G(t,n),T&&T.m(t,null),G(t,s),G(t,r),f.m(r,null),G(r,i),w&&w.m(r,null),G(t,o),g&&g.m(t,null),c||(b=[xt(u=e[14].call(null,t,e[0])),yt(t,"pointerdown",e[19])],c=!0)},p(_,[m]){_[0].type==="milestone"?h||(h=_i(),h.c(),h.m(t,n)):h&&(h.d(1),h=null),_[0].amountDone?T?T.p(_,m):(T=wi(_),T.c(),T.m(t,s)):T&&(T.d(1),T=null),S===(S=M(_))&&f?f.p(_,m):(f.d(1),f=S(_),f&&(f.c(),f.m(r,i))),_[0].showButton?w?w.p(_,m):(w=yi(_),w.c(),w.m(r,null)):w&&(w.d(1),w=null),_[0].labelBottom?g?g.p(_,m):(g=ki(_),g.c(),g.m(t,null)):g&&(g.d(1),g=null),m&1&&a!==(a=_[0].id)&&Y(t,"data-task-id",a),m&512&&l!==(l="sg-task "+_[9]+" svelte-3whqv0")&&Y(t,"class",l),m&16&&W(t,"width",_[4]+"px"),m&2&&W(t,"height",_[1]+"px"),m&4&&W(t,"left",_[2]+"px"),m&8&&W(t,"top",_[3]+"px"),u&&hr(u.update)&&m&1&&u.update.call(null,_[0]),m&513&&X(t,"sg-milestone",_[0].type==="milestone"),m&768&&X(t,"moving",_[8]),m&576&&X(t,"animating",_[6]),m&544&&X(t,"sg-task-reflected",_[5]),m&1537&&X(t,"sg-task-selected",_[10][_[0].id]),m&640&&X(t,"resize-enabled",_[7]),m&513&&X(t,"sg-task--sticky",_[0].stickyLabel),m&512&&X(t,"sg-ignore-click",vi),m&528&&X(t,"sg-task-instant",_[4]===0)},i:Ae,o:Ae,d(_){_&&v(t),h&&h.d(),T&&T.d(),f.d(),w&&w.d(),g&&g.d(),c=!1,mr(b)}}}let vi=!1;function wl(e,t,n){let s,r,i,{model:o}=t,{height:a}=t,{left:l}=t,{top:u}=t,{width:c}=t,{reflected:b=!1}=t,{animating:h=!0}=t,{dragging:T=!1}=t,{resizing:M=!1}=t;const{rowStore:S}=ve("dataStore");Z(e,S,V=>n(18,r=V));const{taskContent:f,onTaskButtonClick:w,taskElementHook:g}=ve("options"),{selectionManager:_}=ve("services"),m=_._selectedTasks;Z(e,m,V=>n(10,i=V));function I(V,Oe){if(g)return g(V,Oe)}function L(V){w&&w(o,V)}let me,ue;function dt(V){ks.call(this,e,V)}return e.$$set=V=>{"model"in V&&n(0,o=V.model),"height"in V&&n(1,a=V.height),"left"in V&&n(2,l=V.left),"top"in V&&n(3,u=V.top),"width"in V&&n(4,c=V.width),"reflected"in V&&n(5,b=V.reflected),"animating"in V&&n(6,h=V.animating),"dragging"in V&&n(16,T=V.dragging),"resizing"in V&&n(17,M=V.resizing)},e.$$.update=()=>{if(e.$$.dirty&1&&n(9,s=o.classes?xn(o.classes):"sg-task-default"),e.$$.dirty&262145){const V=r.entities[o.resourceId].model;n(7,me=o.type!=="milestone"&&fn(V)&&fn(o))}e.$$.dirty&196608&&n(8,ue=T||M)},[o,a,l,u,c,b,h,me,ue,s,i,S,f,m,I,L,T,M,r,dt]}class yl extends Be{constructor(t){super(),Ge(this,t,wl,_l,Ve,{model:0,height:1,left:2,top:3,width:4,reflected:5,animating:6,dragging:16,resizing:17})}}function bi(e){let t,n=e[0].model.contentHtml+"",s;return{c(){t=new Zt(!1),s=$(),this.h()},l(r){t=Xt(r,!1),s=$(),this.h()},h(){t.a=s},m(r,i){t.m(n,r,i),H(r,s,i)},p(r,i){i&1&&n!==(n=r[0].model.contentHtml+"")&&t.p(n)},d(r){r&&(v(s),t.d())}}}function kl(e){let t,n,s,r=e[0].model.contentHtml&&bi(e);return{c(){t=F("div"),r&&r.c(),this.h()},l(i){t=U(i,"DIV",{class:!0,"data-row-id":!0,style:!0});var o=z(t);r&&r.l(o),o.forEach(v),this.h()},h(){Y(t,"class",n="sg-row "+e[1]+" svelte-7u5y5s"),Y(t,"data-row-id",s=e[0].model.id),W(t,"height",e[0].height+"px"),X(t,"sg-hover",e[2]==e[0].model.id),X(t,"sg-selected",e[3]==e[0].model.id)},m(i,o){H(i,t,o),r&&r.m(t,null)},p(i,[o]){i[0].model.contentHtml?r?r.p(i,o):(r=bi(i),r.c(),r.m(t,null)):r&&(r.d(1),r=null),o&2&&n!==(n="sg-row "+i[1]+" svelte-7u5y5s")&&Y(t,"class",n),o&1&&s!==(s=i[0].model.id)&&Y(t,"data-row-id",s),o&1&&W(t,"height",i[0].height+"px"),o&7&&X(t,"sg-hover",i[2]==i[0].model.id),o&11&&X(t,"sg-selected",i[3]==i[0].model.id)},i:Ae,o:Ae,d(i){i&&v(t),r&&r.d()}}}function vl(e,t,n){let s,r,i,{row:o}=t;const{hoveredRow:a,selectedRow:l}=ve("gantt");return Z(e,a,u=>n(2,r=u)),Z(e,l,u=>n(3,i=u)),e.$$set=u=>{"row"in u&&n(0,o=u.row)},e.$$.update=()=>{e.$$.dirty&1&&n(1,s=xn(o.model.classes))},[o,s,r,i,a,l]}class bl extends Be{constructor(t){super(),Ge(this,t,vl,kl,Ve,{row:0})}}function Di(e){let t,n=e[0].label+"",s;return{c(){t=F("div"),s=Qt(n),this.h()},l(r){t=U(r,"DIV",{class:!0});var i=z(t);s=Jt(i,n),i.forEach(v),this.h()},h(){Y(t,"class","sg-time-range-label svelte-w7p5la")},m(r,i){H(r,t,i),G(t,s)},p(r,i){i&1&&n!==(n=r[0].label+"")&&Kt(s,n)},d(r){r&&v(t)}}}function Dl(e){let t,n,s=e[0].label&&Di(e);return{c(){t=F("div"),s&&s.c(),this.h()},l(r){t=U(r,"DIV",{class:!0,style:!0});var i=z(t);s&&s.l(i),i.forEach(v),this.h()},h(){Y(t,"class",n="sg-time-range "+e[4]+" svelte-w7p5la"),W(t,"width",e[2]+"px"),W(t,"left",e[1]+"px"),X(t,"moving",e[3])},m(r,i){H(r,t,i),s&&s.m(t,null)},p(r,[i]){r[0].label?s?s.p(r,i):(s=Di(r),s.c(),s.m(t,null)):s&&(s.d(1),s=null),i&16&&n!==(n="sg-time-range "+r[4]+" svelte-w7p5la")&&Y(t,"class",n),i&4&&W(t,"width",r[2]+"px"),i&2&&W(t,"left",r[1]+"px"),i&24&&X(t,"moving",r[3])},i:Ae,o:Ae,d(r){r&&v(t),s&&s.d()}}}function pl(e,t,n){let s,{model:r}=t,{left:i}=t,{width:o}=t,{resizing:a=!1}=t;return e.$$set=l=>{"model"in l&&n(0,r=l.model),"left"in l&&n(1,i=l.left),"width"in l&&n(2,o=l.width),"resizing"in l&&n(3,a=l.resizing)},e.$$.update=()=>{e.$$.dirty&1&&n(4,s=xn(r.classes))},[r,i,o,a,s]}class Sl extends Be{constructor(t){super(),Ge(this,t,pl,Dl,Ve,{model:0,left:1,width:2,resizing:3})}}const Ml=2,Tl=2;function pi(e){return e instanceof Function?()=>e():()=>e}function vo(e,t){const n=bo(t);return e.addEventListener("pointerdown",n),{destroy(){e.removeEventListener("pointerdown",n,!1)}}}function bo(e){let t,n,s,r,i=!1,o=!1,a,l,u=!1;const c=pi(e.dragAllowed),b=pi(e.resizeAllowed);function h(S){if(!wo(S))return;S.stopPropagation(),S.preventDefault();const f=c(),w=b();if(!f&&!w)return;const g=e.getX(S),_=e.getY(S),m=e.getWidth();a=S.clientX,l=S.clientY,s=g+m,t=wn(e.container,S).x-g,n=wn(e.container,S).y-_,w&&t<=e.resizeHandleWidth&&(r="left",o=!0),w&&t>=m-e.resizeHandleWidth&&(r="right",o=!0),f&&!o&&(i=!0),(i||o)&&e.onDown&&e.onDown({mouseEvent:S,x:g,width:m,y:_,resizing:o,dragging:i}),window.addEventListener("pointermove",T,!1),al(window,"pointerup",M)}function T(S){if(!u)if(Math.abs(S.clientX-a)>Ml||Math.abs(S.clientY-l)>Tl)u=!0;else return;if(S.preventDefault(),o){const f=wn(e.container,S),w=e.getX(S),g=e.getWidth();let _,m;r==="left"?s-f.x<=0?(r="right",_=s,m=s-f.x,s=s+g):(_=f.x,m=s-f.x):r==="right"&&(f.x-w<=0?(r="left",_=f.x,m=f.x-w,s=w):(_=w,m=f.x-w)),e.onResize&&e.onResize({x:_,width:m,event:S})}if(i&&e.onDrag){const f=wn(e.container,S);e.onDrag({x:f.x-t,y:f.y-n,event:S})}}function M(S){const f=e.getX(S),w=e.getY(S),g=e.getWidth();e.onMouseUp&&e.onMouseUp(),u&&e.onDrop&&e.onDrop({mouseEvent:S,x:f,y:w,width:g,dragging:i,resizing:o}),t=null,n=null,s=null,i=!1,o=!1,a=null,l=null,u=!1,window.removeEventListener("pointermove",T,!1)}return h}const Yl=e=>({}),Si=e=>({context:e[6]});function Ol(e){let t;const n=e[9].default,s=gr(n,e,e[8],Si);return{c(){s&&s.c()},l(r){s&&s.l(r)},m(r,i){s&&s.m(r,i),t=!0},p(r,[i]){s&&s.p&&(!t||i&256)&&_r(s,n,r,r[8],t?yr(n,r[8],i,Yl):wr(r[8]),Si)},i(r){t||(q(s,r),t=!0)},o(r){J(s,r),t=!1},d(r){s&&s.d(r)}}}function Cl(e,t,n){let s,r,i,o,a,l,{$$slots:u={},$$scope:c}=t,{items:b={}}=t,h=[];const T=Pe(!1);Z(e,T,C=>n(15,a=C));const M=Pe({});Z(e,M,C=>n(13,i=C));const{taskStore:S,rowStore:f}=ve("dataStore");Z(e,S,C=>n(14,o=C)),Z(e,f,C=>n(12,r=C));const w=ve("gantt"),{rowPadding:g}=ve("options");Z(e,g,C=>n(11,s=C));const{api:_,utils:m,columnService:I,selectionManager:L}=ve("services"),me=Gn(),ue=L._selectedTasks;Z(e,ue,C=>n(16,l=C));const dt={rootState:M,dragAllowed({model:C}){const te=r.entities[C.resourceId].model;return Ks(te)&&Ks(C)},resizeAllowed({model:C}){const te=r.entities[C.resourceId].model;return C.type!=="milestone"&&fn(te)&&fn(C)},off(C){delete i[C]},save(C,te,ce){Ds(ce.dragging?"move":"e-resize");const{mouseEvent:ke}=ce;let K=[te];if(ke.ctrlKey)for(const[de,Se]of Object.entries(l))Se&&de!==String(te.model.id)&&K.push(o.entities[de]);h=[];for(const de of K)h.push(de.model.id),_e(M,i[de.model.id]={xDelta:de.left-C.x,yDelta:de.top-C.y,width:de.width,bWidth:C.width,widthDelta:de.width-C.width},i);me("itemsChange",{items:i})},dropAll(C){if(!C.dragging&&!C.resizing)return;_e(T,a=!1,a);const te=[];for(const ce of h){const ke=i[ce],K=o.entities[ce],de=K.model.id===ce,Se=Oe({...C,mouseEvent:{...C.mouseEvent,clientX:C.mouseEvent.clientX+ke.xDelta,clientY:C.mouseEvent.clientY+ke.yDelta},x:C.x+ke.xDelta,y:C.y+ke.yDelta,width:Math.abs((de?C.width:ke.bWidth)+ke.widthDelta)},K);te.push({valid:Se.valid,task:Se.task,targetRow:Se.targetRow,sourceRow:Se.sourceRow,current:Se.current,previous:Se.previous})}me("change",{changes:te}),_e(M,i={},i),h=[],me("itemsChange",{items:i})},moveAll({x:C,y:te,width:ce,event:ke},K,de){var Se;yo(ke,w.mainContainer),de.dragging&&_.tasks.raise.move(K.model),de.resizing&&_.tasks.raise.resize(K.model);for(const ge of h){const B=i[ge],ct=K.model.id===ge,Ee={x:C!=null?C+B.xDelta:null,y:te!=null?te+B.yDelta:null,width:ce!=null?Math.abs((ct?ce:B.bWidth)+B.widthDelta):null};_e(M,i[ge]={...i[ge],...de,x:Ee.x,y:Ee.y,width:Ee.width??((Se=i[ge])==null?void 0:Se.width)},i)}},setState(C,te){_e(M,i[C.model.id]={...i[C.model.id],...te},i)},mouseUp({model:C}){Ds("default"),_.tasks.raise.moveEnd(C)}};function V(C,te){_e(M,i[te]={...i[te],...C},i)}function Oe(C,te){const ce=te.model,ke=r.entities[ce.resourceId];let K;if(C.dragging){const je=dl(C.mouseEvent),mt=r.entities[je];Ks(mt.model)&&(K=mt)}else K=r.entities[ce.resourceId];V({dragging:!1,resizing:!1},ce.id),setTimeout(()=>{V({ignoreClick:!1},ce.id)});const de=m.roundTo(I.getDateByPosition(C.x)),Se=m.roundTo(I.getDateByPosition(C.x+C.width)),ge=I.getPositionByDate(de)|0,B=I.getPositionByDate(Se)|0,ct=ge,Ee=B-ge,ft=s+((K==null?void 0:K.y)??0),xe={left:ct,top:ft,width:Ee,from:de,to:Se},ht={left:te.left,width:te.width,top:te.top,from:ce.from,to:ce.to};return{valid:!0,task:te,current:xe,previous:ht,dragging:C.dragging,resizing:C.resizing,sourceRow:ke,targetRow:K}}return an("drag",dt),e.$$set=C=>{"items"in C&&n(7,b=C.items),"$$scope"in C&&n(8,c=C.$$scope)},e.$$.update=()=>{e.$$.dirty&128&&_e(M,i=b,i)},[T,M,S,f,g,ue,dt,b,c,u]}class Rl extends Be{constructor(t){super(),Ge(this,t,Cl,Ol,Ve,{items:7})}}const Pl=e=>({state:e&1}),Mi=e=>({state:e[0],onPointerDown:e[2]});function Wl(e){let t;const n=e[14].default,s=gr(n,e,e[13],Mi);return{c(){s&&s.c()},l(r){s&&s.l(r)},m(r,i){s&&s.m(r,i),t=!0},p(r,[i]){s&&s.p&&(!t||i&8193)&&_r(s,n,r,r[13],t?yr(n,r[13],i,Pl):wr(r[13]),Mi)},i(r){t||(q(s,r),t=!0)},o(r){J(s,r),t=!1},d(r){s&&s.d(r)}}}function El(e,t,n){let s,r,i,o,a,{$$slots:l={},$$scope:u}=t,{task:c}=t,b,h,T;const{rowContainer:M,mainContainer:S}=ve("gantt"),{resizeHandleWidth:f}=ve("options"),w=ve("drag"),g=w.rootState;Z(e,g,L=>n(12,a=L));const _=null,m=null,I=bo({container:M,resizeHandleWidth:f,getX:()=>b,getY:()=>h,getWidth:()=>T,dragAllowed(){return(w.dragAllowed??(()=>!0))(c)},resizeAllowed(){return(w.resizeAllowed??(()=>!0))(c)},onDown(L){w.save(L,c,L)},onMouseUp(){w.mouseUp(c)},onResize(L){w.moveAll(L,c,{x:L.x,y:L.width,resizing:!0,ignoreClick:!0})},onDrag(L){w.moveAll(L,c,{x:L.x,y:L.y,dragging:!0,ignoreClick:!0}),yo(L.event,S)},onDrop(L){w.dropAll(L)}});return go(()=>{w.off(c.model.id)}),e.$$set=L=>{"task"in L&&n(3,c=L.task),"$$scope"in L&&n(13,u=L.$$scope)},e.$$.update=()=>{e.$$.dirty&4104&&n(9,s=a[c.model.id]),e.$$.dirty&512&&n(11,r=(s==null?void 0:s.dragging)??!1),e.$$.dirty&512&&n(10,i=(s==null?void 0:s.resizing)??!1),e.$$.dirty&512&&(s==null||s.ignoreClick),e.$$.dirty&3592&&(r||i?(n(6,b=(s==null?void 0:s.x)??c.left),n(7,h=(s==null?void 0:s.y)??c.top),n(8,T=(s==null?void 0:s.width)??c.width)):(n(6,b=c.left),n(7,h=c.top),n(8,T=c.width))),e.$$.dirty&3520&&n(0,o={x:b,y:h,width:T,dragging:r,resizing:i})},[o,g,I,c,_,m,b,h,T,s,i,r,a,u,l]}class Hl extends Be{constructor(t){super(),Ge(this,t,El,Wl,Ve,{task:3,dragAllowed:4,resizeAllowed:5})}get dragAllowed(){return this.$$.ctx[4]}get resizeAllowed(){return this.$$.ctx[5]}}function Il(e){let t,n,s,r,i,o,a;return{c(){t=F("div"),n=F("div"),s=De(),r=F("div"),this.h()},l(l){t=U(l,"DIV",{class:!0,style:!0});var u=z(t);n=U(u,"DIV",{class:!0}),z(n).forEach(v),s=pe(u),r=U(u,"DIV",{class:!0}),z(r).forEach(v),u.forEach(v),this.h()},h(){Y(n,"class","sg-time-range-handle-left svelte-w4nglp"),Y(r,"class","sg-time-range-handle-right svelte-w4nglp"),Y(t,"class",i="sg-time-range-control "+e[2]+" svelte-w4nglp"),W(t,"width",e[1].width+"px"),W(t,"left",e[1].x+"px"),X(t,"sg-time-range-disabled",!fn(e[0]))},m(l,u){H(l,t,u),G(t,n),G(t,s),G(t,r),o||(a=[xt(e[3].call(null,n)),xt(e[3].call(null,r))],o=!0)},p(l,[u]){u&4&&i!==(i="sg-time-range-control "+l[2]+" svelte-w4nglp")&&Y(t,"class",i),u&2&&W(t,"width",l[1].width+"px"),u&2&&W(t,"left",l[1].x+"px"),u&5&&X(t,"sg-time-range-disabled",!fn(l[0]))},i:Ae,o:Ae,d(l){l&&v(t),o=!1,mr(a)}}}function Ll(e,t,n){const{rowContainer:s}=ve("gantt"),{api:r,utils:i,columnService:o}=ve("services"),{resizeHandleWidth:a}=ve("options"),{timeRangeStore:l}=ve("dataStore");let{model:u}=t,{width:c}=t,{left:b}=t;const h={width:c,x:b};function T(S){const f=_=>{const m=i.roundTo(o.getDateByPosition(_.x)),I=i.roundTo(o.getDateByPosition(_.x+_.width)),L=o.getPositionByDate(m),me=o.getPositionByDate(I);Object.assign(u,{from:m,to:I}),w({left:L,width:me-L,model:u,resizing:!1}),r.timeranges.raise.changed({model:u,left:_.x,width:_.width}),window.removeEventListener("pointermove",onmousemove,!1)};function w(_){l.update(_),n(1,h.x=_.left,h),n(1,h.width=_.width,h)}const g=vo(S,{onDown:_=>{r.timeranges.raise.clicked({model:u}),w({left:_.x,width:_.width,model:u,resizing:!0})},onResize:_=>{r.timeranges.raise.resized({model:u,left:_.x,width:_.width}),w({left:_.x,width:_.width,model:u,resizing:!0})},dragAllowed:!1,resizeAllowed:()=>fn(u),onDrop:f,container:s,resizeHandleWidth:a,getX:()=>h.x,getY:()=>0,getWidth:()=>h.width});return{destroy:()=>g.destroy()}}let M;return e.$$set=S=>{"model"in S&&n(0,u=S.model),"width"in S&&n(4,c=S.width),"left"in S&&n(5,b=S.left)},e.$$.update=()=>{e.$$.dirty&48&&(n(1,h.x=b,h),n(1,h.width=c,h)),e.$$.dirty&1&&n(2,M=xn(u.classes))},[u,h,M,T,c,b]}class Nl extends Be{constructor(t){super(),Ge(this,t,Ll,Il,Ve,{model:0,width:4,left:5})}}function Al(e,t=1){switch(e){case"y":case"year":return t*31536e6;case"month":return t*30*24*60*60*1e3;case"week":return t*7*24*60*60*1e3;case"d":case"day":return t*24*60*60*1e3;case"h":case"hour":return t*60*60*1e3;case"m":case"minute":return t*60*1e3;case"s":case"second":return t*1e3;default:throw new Error(`Unknown unit: ${e}`)}}function Fl(e,t=1){return e.setSeconds(e.getSeconds()+t),e}function Ul(e,t=1){return e.setMinutes(e.getMinutes()+t),e}function zl(e,t=1){return e.setHours(e.getHours()+t),e}function Vl(e,t=1){return e.setDate(e.getDate()+t),e.setHours(0,0,0),e}function Bl(e,t=1){const n=e,s=n.getDay(),r=n.getDate()-s+(s==0?-6:1);return n.setDate(r),n.setHours(0,0,0),n.setDate(n.getDate()+7*t),n}function Gl(e,t=1){return e.setMonth(e.getMonth()+t),e.setDate(1),e.setHours(0,0,0),e}function xl(e,t=1){return e.setFullYear(e.getFullYear()+t),e.setMonth(0),e.setDate(1),e.setHours(0,0,0),e}function Ti(e,t,n){switch(t){case"y":case"year":return xl(e,n);case"month":return Gl(e,n);case"week":return Bl(e,n);case"d":case"day":return Vl(e,n);case"h":case"hour":return zl(e,n);case"m":case"minute":return Ul(e,n);case"s":case"second":return Fl(e,n)}}const jl=["y","year","month","week","d","day","h","hour","m","minute","s","second"];function Do(e,t,n,s=1,r){if(jl.indexOf(n)!==-1){let i=0,o=0;const a=new Date(e),l=new Date(e);let u=Ti(l,n,s),c=u.getTime();const b=u.getTime()-e,h=[{from:e,to:u.getTime(),duration:b,isHighlighted:r&&Yi(a,r)}];if(c<t){for(;c<t;)i=c,u=Ti(new Date(c),n,s),o=u.getTime()-c,h.push({from:c,to:u.getTime(),duration:o,isHighlighted:r&&Yi(new Date(c),r)}),c=u.getTime();const T=t-i;h[h.length-1].to=t,h[h.length-1].duration=T}return h}throw new Error(`Unknown unit: ${n}`)}function Yi(e,t){let n;switch(t.unit){case"m":case"minute":return n=e.getMinutes(),t.fractions.includes(n);case"h":case"hour":return n=e.getHours(),t.fractions.includes(n);case"d":case"day":return n=e.getDay(),t.fractions.includes(n);case"week":return t.fractions.includes(n);case"dayinMonth":return n=e.getDate(),t.fractions.includes(n);case"month":return n=e.getMonth(),t.fractions.includes(n);case"y":case"year":return n=e.getFullYear(),t.fractions.includes(n);default:throw new Error(`Invalid unit: ${t.unit}`)}}function Oi(e,t,n){const s=e.slice();return s[13]=t[n],s}function Ci(e){let t,n,s=(e[13].label||"N/A")+"",r,i,o,a;function l(){return e[10](e[13])}return{c(){t=F("div"),n=F("div"),r=Qt(s),i=De(),this.h()},l(u){t=U(u,"DIV",{class:!0,role:!0,tabindex:!0,style:!0});var c=z(t);n=U(c,"DIV",{class:!0});var b=z(n);r=Jt(b,s),b.forEach(v),i=pe(c),c.forEach(v),this.h()},h(){Y(n,"class","column-header-cell-label svelte-1fuvacf"),Y(t,"class","column-header-cell svelte-1fuvacf"),Y(t,"role","button"),Y(t,"tabindex","0"),W(t,"left",e[13].left+"px"),W(t,"width",e[13].width+"px"),X(t,"sticky",e[0].sticky)},m(u,c){H(u,t,c),G(t,n),G(n,r),G(t,i),o||(a=yt(t,"click",l),o=!0)},p(u,c){e=u,c&1&&s!==(s=(e[13].label||"N/A")+"")&&Kt(r,s),c&1&&W(t,"left",e[13].left+"px"),c&1&&W(t,"width",e[13].width+"px"),c&1&&X(t,"sticky",e[0].sticky)},d(u){u&&v(t),o=!1,a()}}}function ql(e){let t,n=ye(e[0].columns),s=[];for(let r=0;r<n.length;r+=1)s[r]=Ci(Oi(e,n,r));return{c(){t=F("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){t=U(r,"DIV",{class:!0});var i=z(t);for(let o=0;o<s.length;o+=1)s[o].l(i);i.forEach(v),this.h()},h(){Y(t,"class","column-header-row svelte-1fuvacf")},m(r,i){H(r,t,i);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(t,null)},p(r,[i]){if(i&17){n=ye(r[0].columns);let o;for(o=0;o<n.length;o+=1){const a=Oi(r,n,o);s[o]?s[o].p(a,i):(s[o]=Ci(a),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},i:Ae,o:Ae,d(r){r&&v(t),qt(s,r)}}}function Zl(e,t,n){let s,r,i;const o=Gn(),{from:a,to:l,width:u}=ve("dimensions");Z(e,a,f=>n(9,i=f)),Z(e,l,f=>n(8,r=f)),Z(e,u,f=>n(7,s=f));const{dateAdapter:c}=ve("options");let{header:b}=t,{ganttBodyColumns:h}=t,{ganttBodyUnit:T}=t;function M(f){o("dateSelected",{from:f.from,to:f.to,unit:b.unit})}const S=f=>M(f);return e.$$set=f=>{"header"in f&&n(0,b=f.header),"ganttBodyColumns"in f&&n(5,h=f.ganttBodyColumns),"ganttBodyUnit"in f&&n(6,T=f.ganttBodyUnit)},e.$$.update=()=>{if(e.$$.dirty&993)if(b.unit===T)n(0,b.columns=h.map(f=>({...f,label:c.format(f.from,b.format)})),b);else{const f=Do(i.valueOf(),r.valueOf(),b.unit,b.offset);let w=0,g=0;n(0,b.columns=f.map(_=>(g=w,w=vr(_.to,i.valueOf(),r.valueOf(),s),{width:Math.min(w-g,s),label:c.format(_.from,b.format),from:_.from,to:_.to,left:g})),b)}},[b,a,l,u,M,h,T,s,r,i,S]}class Xl extends Be{constructor(t){super(),Ge(this,t,Zl,ql,Ve,{header:0,ganttBodyColumns:5,ganttBodyUnit:6})}}function Ri(e,t,n){const s=e.slice();return s[4]=t[n],s}function Pi(e){let t,n;return t=new Xl({props:{header:e[4],ganttBodyColumns:e[1],ganttBodyUnit:e[2]}}),t.$on("dateSelected",e[3]),{c(){He(t.$$.fragment)},l(s){ze(t.$$.fragment,s)},m(s,r){Ie(t,s,r),n=!0},p(s,r){const i={};r&1&&(i.header=s[4]),r&2&&(i.ganttBodyColumns=s[1]),r&4&&(i.ganttBodyUnit=s[2]),t.$set(i)},i(s){n||(q(t.$$.fragment,s),n=!0)},o(s){J(t.$$.fragment,s),n=!1},d(s){Le(t,s)}}}function Ql(e){let t,n,s=ye(e[0]),r=[];for(let o=0;o<s.length;o+=1)r[o]=Pi(Ri(e,s,o));const i=o=>J(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=$()},l(o){for(let a=0;a<r.length;a+=1)r[a].l(o);t=$()},m(o,a){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(o,a);H(o,t,a),n=!0},p(o,[a]){if(a&7){s=ye(o[0]);let l;for(l=0;l<s.length;l+=1){const u=Ri(o,s,l);r[l]?(r[l].p(u,a),q(r[l],1)):(r[l]=Pi(u),r[l].c(),q(r[l],1),r[l].m(t.parentNode,t))}for(nt(),l=s.length;l<r.length;l+=1)i(l);st()}},i(o){if(!n){for(let a=0;a<s.length;a+=1)q(r[a]);n=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)J(r[a]);n=!1},d(o){o&&v(t),qt(r,o)}}}function Jl(e,t,n){let{headers:s}=t,{ganttBodyColumns:r}=t,{ganttBodyUnit:i}=t;function o(a){ks.call(this,e,a)}return e.$$set=a=>{"headers"in a&&n(0,s=a.headers),"ganttBodyColumns"in a&&n(1,r=a.ganttBodyColumns),"ganttBodyUnit"in a&&n(2,i=a.ganttBodyUnit)},[s,r,i,o]}class Kl extends Be{constructor(t){super(),Ge(this,t,Jl,Ql,Ve,{headers:0,ganttBodyColumns:1,ganttBodyUnit:2})}}function $l(e,t){try{const n=document.createElement("canvas");n.width=(e.length-1)*e[0].width,n.height=20;const s=n.getContext("2d");return s.shadowColor="rgba(128,128,128,0.5)",s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=.5,s.lineWidth=t.columnStrokeWidth,s.lineCap="square",s.strokeStyle=t.columnStrokeColor,s.translate(.5,.5),e.forEach(i=>{eu(s,i.left)}),`url("${n.toDataURL()}")`}catch(n){console.error("[canvas] Render error",n)}}function eu(e,t){e.beginPath(),e.moveTo(t,0),e.lineTo(t,20),e.stroke()}function Wi(e,t,n){const s=e.slice();return s[6]=t[n],s}function tu(e){let t,n=ye(e[0]),s=[];for(let r=0;r<n.length;r+=1)s[r]=Ei(Wi(e,n,r));return{c(){t=F("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){t=U(r,"DIV",{class:!0});var i=z(t);for(let o=0;o<s.length;o+=1)s[o].l(i);i.forEach(v),this.h()},h(){Y(t,"class","sg-columns svelte-1uqfnup")},m(r,i){H(r,t,i);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(t,null)},p(r,i){if(i&29){n=ye(r[0]);let o;for(o=0;o<n.length;o+=1){const a=Wi(r,n,o);s[o]?s[o].p(a,i):(s[o]=Ei(a),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},d(r){r&&v(t),qt(s,r)}}}function nu(e){let t;return{c(){t=F("div"),this.h()},l(n){t=U(n,"DIV",{class:!0}),z(t).forEach(v),this.h()},h(){Y(t,"class","sg-columns sg-columns--background svelte-1uqfnup"),W(t,"background-image",e[5])},m(n,s){H(n,t,s)},p(n,s){s&32&&W(t,"background-image",n[5])},d(n){n&&v(t)}}}function Ei(e){let t;return{c(){t=F("div"),this.h()},l(n){t=U(n,"DIV",{class:!0,style:!0}),z(t).forEach(v),this.h()},h(){Y(t,"class","sg-column svelte-1uqfnup"),W(t,"border-right",(e[6].bgHighlightColor?0:e[2])+"px solid "+(e[6].bgHighlightColor||e[3])),W(t,"left",e[6].left+"px"),W(t,"width",e[6].width+"px"),W(t,"background-color",e[6].bgHighlightColor||e[4])},m(n,s){H(n,t,s)},p(n,s){s&13&&W(t,"border-right",(n[6].bgHighlightColor?0:n[2])+"px solid "+(n[6].bgHighlightColor||n[3])),s&1&&W(t,"left",n[6].left+"px"),s&1&&W(t,"width",n[6].width+"px"),s&17&&W(t,"background-color",n[6].bgHighlightColor||n[4])},d(n){n&&v(t)}}}function su(e){let t;function n(i,o){return i[1]?nu:tu}let s=n(e),r=s(e);return{c(){r.c(),t=$()},l(i){r.l(i),t=$()},m(i,o){r.m(i,o),H(i,t,o)},p(i,[o]){s===(s=n(i))&&r?r.p(i,o):(r.d(1),r=s(i),r&&(r.c(),r.m(t.parentNode,t)))},i:Ae,o:Ae,d(i){i&&v(t),r.d(i)}}}function ru(e,t,n){let{columns:s}=t,{useCanvasColumns:r=!0}=t,{columnStrokeWidth:i}=t,{columnStrokeColor:o}=t,{columnDefaultColor:a="#ffffff"}=t,l;return e.$$set=u=>{"columns"in u&&n(0,s=u.columns),"useCanvasColumns"in u&&n(1,r=u.useCanvasColumns),"columnStrokeWidth"in u&&n(2,i=u.columnStrokeWidth),"columnStrokeColor"in u&&n(3,o=u.columnStrokeColor),"columnDefaultColor"in u&&n(4,a=u.columnDefaultColor)},e.$$.update=()=>{e.$$.dirty&13&&n(5,l=$l(s,{columnStrokeColor:o,columnStrokeWidth:i}))},[s,r,i,o,a,l]}class iu extends Be{constructor(t){super(),Ge(this,t,ru,su,Ve,{columns:0,useCanvasColumns:1,columnStrokeWidth:2,columnStrokeColor:3,columnDefaultColor:4})}}function ou(e){let t,n,s;return{c(){t=F("div"),this.h()},l(r){t=U(r,"DIV",{class:!0,style:!0}),z(t).forEach(v),this.h()},h(){Y(t,"class","sg-resize svelte-1vzamdy"),W(t,"left",e[0]+"px")},m(r,i){H(r,t,i),n||(s=xt(e[1].call(null,t)),n=!0)},p(r,[i]){i&1&&W(t,"left",r[0]+"px")},i:Ae,o:Ae,d(r){r&&v(t),n=!1,s()}}}function au(e,t,n){const s=Gn();let{x:r}=t,{container:i}=t;const o={onDrag:l=>{n(0,r=l.x),s("resize",{left:r}),Ds("col-resize")},onDrop:l=>{n(0,r=l.x),s("resize",{left:r}),Ds("default")},dragAllowed:!0,resizeAllowed:!1,container:i,getX:()=>r,getY:()=>0,getWidth:()=>0};function a(l){const u=vo(l,o);return{destroy:()=>u.destroy()}}return e.$$set=l=>{"x"in l&&n(0,r=l.x),"container"in l&&n(2,i=l.container)},e.$$.update=()=>{e.$$.dirty&4&&(o.container=i)},[r,a,i]}class lu extends Be{constructor(t){super(),Ge(this,t,au,ou,Ve,{x:0,container:2})}}function Ze(){const e=[];function t(...s){for(const r of e)r(s)}function n(s){return e.push(s),()=>{const i=e.indexOf(s);e.splice(i,1)}}return[n,t]}function $s(e){const t={on:{},raise:{}};for(const n in e){const[s,r]=e[n];t.on[n]=s,t.raise[n]=r}return t}const uu={};function du(){return an(uu,cu())}function cu(){return{tasks:$s({move:Ze(),resize:Ze(),select:Ze(),switchRow:Ze(),moveEnd:Ze(),change:Ze(),changed:Ze(),dblclicked:Ze()}),gantt:$s({viewChanged:Ze(),dateSelected:Ze()}),timeranges:$s({clicked:Ze(),resized:Ze(),changed:Ze()})}}function fu(e){return{createTask:t=>hu(t,e),reflectTask:(t,n)=>mu(t,n,e)}}function hu(e,t){e.amountDone=e.amountDone??0,e.showButton=e.showButton??!1,e.buttonClasses=e.buttonClasses??"",e.buttonHtml=e.buttonHtml??"";const n=t.getPositionByDate(e.from)|0,s=t.getPositionByDate(e.to)|0,r=t.rowEntities[e.resourceId],i=(r?r.height:void 0)-2*t.rowPadding,o=(r?r.y:-1e3)+t.rowPadding;return{model:e,left:n,width:s-n,height:i,top:o}}function mu(e,t,n){const s=`reflected-task-${String(e.model.id)}-${String(t.model.id)}`,r={...e.model,resourceId:t.model.id,id:s,enableDragging:!1};return{...e,model:r,top:t.y+n.rowPadding,reflected:!0,reflectedOnParent:!1,reflectedOnChild:!0,originalId:e.model.id}}function er(e,t){const n={y:0,result:[]};return po(e,n,t),n.result}function po(e,t,n,s=null,r=0,i=[]){const o=[],a=[];s&&(i=[...i,s]);for(const l of e){const u=gu(l,t.y,n);if(t.result.push(u),o.push(u),a.push(u),u.childLevel=r,u.parent=s,u.allParents=i,s&&(u.hidden=!(s.model.expanded||s.model.expanded==null)||s.hidden!=null&&s.hidden),u.hidden||(t.y+=u.height),l.children){const c=po(l.children,t,n,u,r+1,i);u.children=c.rows,u.allChildren=c.allRows,a.push(...c.allRows)}}return{rows:o,allRows:a}}function gu(e,t,n){const s=e.height??n.rowHeight;return{model:e,y:t,height:s}}function _u(e){e.model.expanded=!0,e.children&&Mo(e.children)}function wu(e){e.model.expanded=!1,e.children&&So(e.children)}function So(e){for(const t of e)t.children&&So(t.children),t.hidden=!0}function Mo(e,t=!1){for(const n of e)n.children&&Mo(n.children,!n.model.expanded),n.hidden=t}class yu{constructor(t){ls(this,"columnService");this.columnService=t}create(t){t.resizable=t.resizable===void 0?!0:t.resizable;const n=this.columnService.getPositionByDate(t.from),s=this.columnService.getPositionByDate(t.to);return{model:t,left:n,width:s-n,resizing:!1}}}class ku{constructor(t){ls(this,"_selectedTasks",Pe({}));this.taskStore=t}selectSingle(t){this.unSelectTasks(),this._selectedTasks.set({[t]:!0})}toggleSelection(t){this._selectedTasks.update(n=>({...n,[t]:!n[t]}))}unSelectTasks(){this._selectedTasks.set({})}}function vu(e){function t(s){const r=Du(e.columns,s);return r[0]?r[0]:r[1]}function n(s){const r=bu(e.columns,s);return r[0]?r[0]:r[1]}return{getColumnByDate:t,getColumnByPosition:n,getPositionByDate(s){if(!s)return null;const r=t(s),o=(s-r.from)/r.duration*r.width;return r.left+o},getDateByPosition(s){const r=n(s);s=s-r.left;let i=r.duration/r.width*s;return r.from+i},roundTo(s){return Math.round(s/e.magnetDuration)*e.magnetDuration}}}function bu(e,t){return ko(e,t,s=>s.left)}function Du(e,t){return ko(e,t,s=>s.from)}function pu(){const e={};return{onDelegatedEvent(t,n,s){e[t]||(e[t]={}),e[t][n]=s},offDelegatedEvent(t,n){delete e[t][n]},onEvent(t){const{type:n,target:s}=t,r=e[n];if(!r)return;let i,o=s;for(;o&&o!=t.currentTarget&&!(i=Su(r,o));)o=o.parentElement;i&&r[i.attr]?r[i.attr](t,i.data,o):r.empty&&r.empty(t,null,o)}}}function Su(e,t){let n;for(const s in e)if(n=t.getAttribute(s))return{attr:s,data:n}}class Mu{format(t,n){const s=new Date(t);switch(n){case"H":return s.getHours()+"";case"HH":return mn(s.getHours());case"H:mm":return`${s.getHours()}:${mn(s.getMinutes())}`;case"hh:mm":return`${mn(s.getHours())}:${mn(s.getMinutes())}`;case"hh:mm:ss":return`${s.getHours()}:${mn(s.getMinutes())}:${mn(s.getSeconds())}`;case"dd/MM/yyyy":return`${s.getDate()}/${s.getMonth()+1}/${s.getFullYear()}`;case"dd/MM/yyyy hh:mm":return`${s.getDate()}/${s.getMonth()+1}/${s.getFullYear()} ${s.getHours()}:${s.getMinutes()}`;case"dd/MM/yyyy hh:mm:ss":return`${s.getDate()}/${s.getMonth()+1}/${s.getFullYear()} ${s.getHours()}:${s.getMinutes()}:${s.getSeconds()}`;case"YYYY":return`${s.getFullYear()}`;case"Q":return`${Math.floor(s.getMonth()/3+1)}`;case"[Q]Q":return`Q${Math.floor(s.getMonth()/3+1)}`;case"YYYY[Q]Q":return`${s.getFullYear()}Q${Math.floor(s.getMonth()/3+1)}`;case"MM":{let r=String(s.getMonth()+1);return r.length==1&&(r=`0${r}`),`${r}`}case"MMMM":{const r=s.toLocaleString("default",{month:"long"});return`${r.charAt(0).toUpperCase()}${r.substring(1)}`}case"MMMM - YYYY":{const r=s.toLocaleString("default",{month:"long"});return`${r.charAt(0).toUpperCase()}${r.substring(1)}-${s.getFullYear()}`}case"MMMM YYYY":{const r=s.toLocaleString("default",{month:"long"});return`${r.charAt(0).toUpperCase()}${r.substring(1)} ${s.getFullYear()}`}case"MMM":{const r=s.toLocaleString("default",{month:"short"});return`${r.charAt(0).toUpperCase()}${r.substring(1)}`}case"MMM - YYYY":{const r=s.toLocaleString("default",{month:"short"});return`${r.charAt(0).toUpperCase()}${r.substring(1)} - ${s.getFullYear()}`}case"MMM YYYY":{const r=s.toLocaleString("default",{month:"short"});return`${r.charAt(0).toUpperCase()}${r.substring(1)} ${s.getFullYear()}`}case"W":return`${Hi(s)}`;case"WW":{const r=Hi(s);return`${r.toString().length==1?"0":""}${r}`}default:return console.warn(`Date Format '${n}' is not supported, use another date adapter.`),`${s.getDate()}/${s.getMonth()+1}/${s.getFullYear()}`}}roundTo(t,n,s){const r=Tu(n,s);return Math.round(t/r)*r}}function mn(e){let t=e.toString();for(let n=t.length;n<2;n++)t="0"+t;return t}function Hi(e){e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));const t=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.valueOf()-t.valueOf())/864e5+1)/7)}function Tu(e,t){switch(e){case"y":case"year":return t*31536e6;case"month":return t*30*24*60*60*1e3;case"week":return t*7*24*60*60*1e3;case"d":case"day":return t*24*60*60*1e3;case"h":case"hour":return t*60*60*1e3;case"m":case"minute":return t*60*1e3;case"s":case"second":return t*1e3;default:throw new Error(`Unknown unit: ${e}`)}}function Ii(e){const{taskStore:t,rowStore:n,rowHeight:s,rowPadding:r,rowReflectedTasks:i}=e;let o=0;const a={changed:!1};if(!e.invalidateFull){for(const u in e.invalidatedTasks)l(t.entities[u]);return a}for(const u of n.ids){const c=n.entities[u];c.y=o;const b=c.height;c.height=c.model.height||s,c.hidden||(o+=c.height),b!==c.height&&(a.changed=!0);const h=i[u];if(h)for(const T of h)l(T)}function l(u){const c=n.entities[u.model.resourceId];u.height=(c?c.height:void 0)-2*r,u.top=c.y+r}for(const u of t.ids)l(t.entities[u]);return a}function Li(e){return To(e,!1)}function Ni(e){return To(e,!0)}function To(e,t){const{taskStore:n,rowStore:s,rowTasks:r,rowHeight:i,rowPadding:o}=e;let a=0;for(const l of s.ids){const u=s.entities[l],c=r[l];u.y=a;const b=u.height;if(c){const h=c.map(T=>n.entities[T]);Yu(h,u,{rowHeight:i,rowPadding:o,expandRow:t})}u.hidden||(a+=u.height),u.height}}function Yu(e,t,n){if(!e.length)return;e.sort(Cu);const s={},r={},i=a=>r[a.model.id]??(r[a.model.id]={});let o=0;for(const a of e){const l=i(a);l.yPos=0;let u=!1;for(;!u;){const c=s[l.yPos]||[];u=!0;for(const b of c)if(Ou(a,b)){i(a).intersects=i(b).intersects=!0,l.yPos++,l.yPos>o&&(o=l.yPos),u=!1;break}else continue}s[l.yPos]||(s[l.yPos]=[]),s[l.yPos].push(a)}if(n.expandRow){const a=(t.model.height||n.rowHeight)-2*n.rowPadding;t.height=a*(o+1)+2*n.rowPadding;for(const l of e){const u=i(l);l.height=a,l.top=t.y+n.rowPadding+l.height*u.yPos}}else{t.height=t.model.height||n.rowHeight;const a=t.height-2*n.rowPadding;for(const l of e){const u=i(l);l.height=a/(o+1),l.top=t.y+n.rowPadding+l.height*u.yPos}}}function Ou(e,t){return e.left+e.width>t.left&&e.left<t.left+t.width}function Cu(e,t){return e.left-t.left||t.left+t.width-(e.left+e.width)}function Ru(){const{columnService:e,utils:t}=ve("services");return function(s,r){return Eu(s,{columnService:e,utils:t,...r})}}const Pu=2,Wu=2;function Eu(e,t){let n,s,r,i,o,a,l=!1,u=10;const c=()=>t.container;function b(f,w){const g=t.boundsContainer.getBoundingClientRect(),_=w-g.top>=g.height-u,m=f-g.left>=g.width-u;return _||m}function h(f){if(!t.enabled||(f.stopPropagation(),f.preventDefault(),b(f.clientX,f.clientY)))return;const[w,g]=ol(c(),f),_=s=t.utils.roundTo(t.columnService.getDateByPosition(w)),m=n=t.columnService.getPositionByDate(_)|0,I=0;o=f.clientX,a=f.clientY,r=m+I,window.addEventListener("pointermove",T,!1),window.addEventListener("pointerup",S)}function T(f){if(!l)if(Math.abs(f.clientX-o)>Pu||Math.abs(f.clientY-a)>Wu)l=!0;else return;f.preventDefault();const{x:w,width:g,y:_}=M(f);t.onMove({from:s,to:s,x:w,width:g,y:_})}function M(f){const w=wn(c(),f),g=n,_=0;let m,I;return i==="left"?r-w.x<=0?(i="right",m=r,I=r-w.x,r=r+_):(m=w.x,I=r-w.x):w.x-g<=0?(i="left",m=w.x,I=w.x-g,r=g):(m=g,I=w.x-g),{x:m,width:I,y:w.y}}function S(f){if(window.removeEventListener("pointerup",S),window.removeEventListener("pointermove",T,!1),l){const{x:w,width:g,y:_}=M(f),m=t.utils.roundTo(t.columnService.getDateByPosition(w)),I=t.utils.roundTo(t.columnService.getDateByPosition(w+g)),L=t.columnService.getPositionByDate(m)|0,me=t.columnService.getPositionByDate(I)|0;t.onEnd({from:m,to:I,x:L,width:me-L,y:_})}r=null,o=null,a=null,l=!1}return e.addEventListener("pointerdown",h),{destroy(){e.removeEventListener("pointerdown",h),window.removeEventListener("pointermove",T),window.removeEventListener("pointerup",S)},update(f){Object.assign(t,f)}}}function Ai(e,t,n){const s=e.slice();return s[164]=t[n],s}function Fi(e,t,n){const s=e.slice();return s[167]=t[n],s}function Ui(e,t,n){const s=e.slice();return s[172]=t[n],s}function zi(e,t,n){const s=e.slice();return s[175]=t[n],s}function Vi(e,t,n){const s=e.slice();return s[172]=t[n],s}function Bi(e,t,n){const s=e.slice();return s[164]=t[n],s}function Gi(e){let t,n,s,r;const i=[{rowContainerHeight:e[12]},{paddingTop:e[25]},{tableWidth:e[2]},e[62],{visibleRows:e[13]}];var o=e[164];function a(l,u){let c={};for(let b=0;b<i.length;b+=1)c=Wt(c,i[b]);return u!==void 0&&u[0]&33566724|u[2]&1&&(c=Wt(c,dn(i,[u[0]&4096&&{rowContainerHeight:l[12]},u[0]&33554432&&{paddingTop:l[25]},u[0]&4&&{tableWidth:l[2]},u[2]&1&&cn(l[62]),u[0]&8192&&{visibleRows:l[13]}]))),{props:c}}return o&&(t=vs(o,a(e))),s=new lu({props:{x:e[2],container:e[18]}}),s.$on("resize",e[54]),{c(){t&&He(t.$$.fragment),n=De(),He(s.$$.fragment)},l(l){t&&ze(t.$$.fragment,l),n=pe(l),ze(s.$$.fragment,l)},m(l,u){t&&Ie(t,l,u),H(l,n,u),Ie(s,l,u),r=!0},p(l,u){if(u[0]&16&&o!==(o=l[164])){if(t){nt();const b=t;J(b.$$.fragment,1,0,()=>{Le(b,1)}),st()}o?(t=vs(o,a(l,u)),He(t.$$.fragment),q(t.$$.fragment,1),Ie(t,n.parentNode,n)):t=null}else if(o){const b=u[0]&33566724|u[2]&1?dn(i,[u[0]&4096&&{rowContainerHeight:l[12]},u[0]&33554432&&{paddingTop:l[25]},u[0]&4&&{tableWidth:l[2]},u[2]&1&&cn(l[62]),u[0]&8192&&{visibleRows:l[13]}]):{};t.$set(b)}const c={};u[0]&4&&(c.x=l[2]),u[0]&262144&&(c.container=l[18]),s.$set(c)},i(l){r||(t&&q(t.$$.fragment,l),q(s.$$.fragment,l),r=!0)},o(l){t&&J(t.$$.fragment,l),J(s.$$.fragment,l),r=!1},d(l){l&&v(n),t&&Le(t,l),Le(s,l)}}}function xi(e,t){let n,s,r;const i=[t[172]];let o={};for(let a=0;a<i.length;a+=1)o=Wt(o,i[a]);return s=new Nl({props:o}),{key:e,first:null,c(){n=$(),He(s.$$.fragment),this.h()},l(a){n=$(),ze(s.$$.fragment,a),this.h()},h(){this.first=n},m(a,l){H(a,n,l),Ie(s,a,l),r=!0},p(a,l){t=a;const u=l[0]&536870912?dn(i,[cn(t[172])]):{};s.$set(u)},i(a){r||(q(s.$$.fragment,a),r=!0)},o(a){J(s.$$.fragment,a),r=!1},d(a){a&&v(n),Le(s,a)}}}function ji(e,t){let n,s,r;return s=new bl({props:{row:t[175]}}),{key:e,first:null,c(){n=$(),He(s.$$.fragment),this.h()},l(i){n=$(),ze(s.$$.fragment,i),this.h()},h(){this.first=n},m(i,o){H(i,n,o),Ie(s,i,o),r=!0},p(i,o){t=i;const a={};o[0]&8192&&(a.row=t[175]),s.$set(a)},i(i){r||(q(s.$$.fragment,i),r=!0)},o(i){J(s.$$.fragment,i),r=!1},d(i){i&&v(n),Le(s,i)}}}function qi(e,t){let n,s,r;const i=[t[172]];let o={};for(let a=0;a<i.length;a+=1)o=Wt(o,i[a]);return s=new Sl({props:o}),{key:e,first:null,c(){n=$(),He(s.$$.fragment),this.h()},l(a){n=$(),ze(s.$$.fragment,a),this.h()},h(){this.first=n},m(a,l){H(a,n,l),Ie(s,a,l),r=!0},p(a,l){t=a;const u=l[0]&536870912?dn(i,[cn(t[172])]):{};s.$set(u)},i(a){r||(q(s.$$.fragment,a),r=!0)},o(a){J(s.$$.fragment,a),r=!1},d(a){a&&v(n),Le(s,a)}}}function Hu(e){let t,n,s;const r=[e[167],{model:e[167].model},{left:e[170].x},{top:e[170].y},{width:e[170].width},{height:e[167].height},{dragging:e[170].dragging},{resizing:e[170].resizing}];let i={};for(let o=0;o<r.length;o+=1)i=Wt(i,r[o]);return t=new yl({props:i}),t.$on("pointerdown",function(){hr(e[171])&&e[171].apply(this,arguments)}),{c(){He(t.$$.fragment),n=De()},l(o){ze(t.$$.fragment,o),n=pe(o)},m(o,a){Ie(t,o,a),H(o,n,a),s=!0},p(o,a){e=o;const l=a[0]&67108864|a[5]&32768?dn(r,[a[0]&67108864&&cn(e[167]),a[0]&67108864&&{model:e[167].model},a[5]&32768&&{left:e[170].x},a[5]&32768&&{top:e[170].y},a[5]&32768&&{width:e[170].width},a[0]&67108864&&{height:e[167].height},a[5]&32768&&{dragging:e[170].dragging},a[5]&32768&&{resizing:e[170].resizing}]):{};t.$set(l)},i(o){s||(q(t.$$.fragment,o),s=!0)},o(o){J(t.$$.fragment,o),s=!1},d(o){o&&v(n),Le(t,o)}}}function Zi(e,t){let n,s,r;return s=new Hl({props:{task:t[167],$$slots:{default:[Hu,({state:i,onPointerDown:o})=>({170:i,171:o}),({state:i,onPointerDown:o})=>[0,0,0,0,0,(i?32768:0)|(o?65536:0)]]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=$(),He(s.$$.fragment),this.h()},l(i){n=$(),ze(s.$$.fragment,i),this.h()},h(){this.first=n},m(i,o){H(i,n,o),Ie(s,i,o),r=!0},p(i,o){t=i;const a={};o[0]&67108864&&(a.task=t[167]),o[0]&67108864|o[5]&134316032&&(a.$$scope={dirty:o,ctx:t}),s.$set(a)},i(i){r||(q(s.$$.fragment,i),r=!0)},o(i){J(s.$$.fragment,i),r=!1},d(i){i&&v(n),Le(s,i)}}}function Iu(e){let t=[],n=new Map,s,r,i=ye(e[26]);const o=a=>a[167].model.id;for(let a=0;a<i.length;a+=1){let l=Fi(e,i,a),u=o(l);n.set(u,t[a]=Zi(u,l))}return{c(){for(let a=0;a<t.length;a+=1)t[a].c();s=$()},l(a){for(let l=0;l<t.length;l+=1)t[l].l(a);s=$()},m(a,l){for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(a,l);H(a,s,l),r=!0},p(a,l){l[0]&67108864|l[5]&98304&&(i=ye(a[26]),nt(),t=ms(t,l,o,1,a,i,n,s.parentNode,gs,Zi,s,Fi),st())},i(a){if(!r){for(let l=0;l<i.length;l+=1)q(t[l]);r=!0}},o(a){for(let l=0;l<t.length;l+=1)J(t[l]);r=!1},d(a){a&&v(s);for(let l=0;l<t.length;l+=1)t[l].d(a)}}}function Xi(e){let t,n,s;const r=[{paddingTop:e[25]},{visibleRows:e[13]},e[62]];var i=e[164];function o(a,l){let u={};for(let c=0;c<r.length;c+=1)u=Wt(u,r[c]);return l!==void 0&&l[0]&33562624|l[2]&1&&(u=Wt(u,dn(r,[l[0]&33554432&&{paddingTop:a[25]},l[0]&8192&&{visibleRows:a[13]},l[2]&1&&cn(a[62])]))),{props:u}}return i&&(t=vs(i,o(e))),{c(){t&&He(t.$$.fragment),n=$()},l(a){t&&ze(t.$$.fragment,a),n=$()},m(a,l){t&&Ie(t,a,l),H(a,n,l),s=!0},p(a,l){if(l[0]&32&&i!==(i=a[164])){if(t){nt();const u=t;J(u.$$.fragment,1,0,()=>{Le(u,1)}),st()}i?(t=vs(i,o(a,l)),He(t.$$.fragment),q(t.$$.fragment,1),Ie(t,n.parentNode,n)):t=null}else if(i){const u=l[0]&33562624|l[2]&1?dn(r,[l[0]&33554432&&{paddingTop:a[25]},l[0]&8192&&{visibleRows:a[13]},l[2]&1&&cn(a[62])]):{};t.$set(u)}},i(a){s||(t&&q(t.$$.fragment,a),s=!0)},o(a){t&&J(t.$$.fragment,a),s=!1},d(a){a&&v(n),t&&Le(t,a)}}}function Lu(e){let t,n,s,r,i,o,a,l,u=[],c=new Map,b,h,T,M,S,f,w,g,_,m=[],I=new Map,L,me,ue=[],dt=new Map,V,Oe,C,te,ce,ke,K,de,Se,ge=ye(e[4]),B=[];for(let y=0;y<ge.length;y+=1)B[y]=Gi(Bi(e,ge,y));const ct=y=>J(B[y],1,1,()=>{B[y]=null});a=new Kl({props:{headers:e[1],ganttBodyColumns:e[23],ganttBodyUnit:e[0]}}),a.$on("dateSelected",e[56]);let Ee=ye(e[29]);const ft=y=>y[172].model.id;for(let y=0;y<Ee.length;y+=1){let k=Vi(e,Ee,y),N=ft(k);c.set(N,u[y]=xi(N,k))}f=new iu({props:{columns:e[23],columnStrokeColor:e[7],columnStrokeWidth:e[8],useCanvasColumns:e[6]}});let xe=ye(e[13]);const ht=y=>y[175].model.id;for(let y=0;y<xe.length;y+=1){let k=zi(e,xe,y),N=ht(k);I.set(N,m[y]=ji(N,k))}let je=ye(e[29]);const mt=y=>y[172].model.id;for(let y=0;y<je.length;y+=1){let k=Ui(e,je,y),N=mt(k);dt.set(N,ue[y]=qi(N,k))}Oe=new Rl({props:{items:e[14],$$slots:{default:[Iu]},$$scope:{ctx:e}}}),Oe.$on("change",e[60]),Oe.$on("itemsChange",e[61]);let Qe=ye(e[5]),ie=[];for(let y=0;y<Qe.length;y+=1)ie[y]=Xi(Ai(e,Qe,y));const $t=y=>J(ie[y],1,1,()=>{ie[y]=null});return{c(){t=F("div");for(let y=0;y<B.length;y+=1)B[y].c();n=De(),s=F("div"),r=F("div"),i=F("div"),o=F("div"),He(a.$$.fragment),l=De();for(let y=0;y<u.length;y+=1)u[y].c();T=De(),M=F("div"),S=F("div"),He(f.$$.fragment),w=De(),g=F("div"),_=F("div");for(let y=0;y<m.length;y+=1)m[y].c();L=De(),me=F("div");for(let y=0;y<ue.length;y+=1)ue[y].c();V=De(),He(Oe.$$.fragment),C=De();for(let y=0;y<ie.length;y+=1)ie[y].c();this.h()},l(y){t=U(y,"DIV",{class:!0});var k=z(t);for(let be=0;be<B.length;be+=1)B[be].l(k);n=pe(k),s=U(k,"DIV",{class:!0});var N=z(s);r=U(N,"DIV",{class:!0,style:!0});var Je=z(r);i=U(Je,"DIV",{class:!0});var gt=z(i);o=U(gt,"DIV",{class:!0,style:!0});var j=z(o);ze(a.$$.fragment,j),l=pe(j);for(let be=0;be<u.length;be+=1)u[be].l(j);j.forEach(v),gt.forEach(v),Je.forEach(v),T=pe(N),M=U(N,"DIV",{class:!0});var Ke=z(M);S=U(Ke,"DIV",{class:!0,style:!0});var qe=z(S);ze(f.$$.fragment,qe),w=pe(qe),g=U(qe,"DIV",{class:!0,style:!0});var Lt=z(g);_=U(Lt,"DIV",{style:!0});var Nt=z(_);for(let be=0;be<m.length;be+=1)m[be].l(Nt);Nt.forEach(v),Lt.forEach(v),L=pe(qe),me=U(qe,"DIV",{class:!0});var At=z(me);for(let be=0;be<ue.length;be+=1)ue[be].l(At);V=pe(At),ze(Oe.$$.fragment,At),At.forEach(v),C=pe(qe);for(let be=0;be<ie.length;be+=1)ie[be].l(qe);qe.forEach(v),Ke.forEach(v),N.forEach(v),k.forEach(v),this.h()},h(){Y(o,"class","header-container"),W(o,"width",e[16]+"px"),Y(i,"class","sg-header-scroller svelte-1csmpwr"),Y(r,"class","sg-header"),Y(r,"style",b=`padding-right: ${e[27]}px;`),di(()=>e[131].call(r)),W(_,"transform","translateY("+e[25]+"px)"),Y(g,"class","sg-rows svelte-1csmpwr"),W(g,"height",e[12]+"px"),Y(me,"class","sg-foreground svelte-1csmpwr"),Y(S,"class","content svelte-1csmpwr"),W(S,"width",e[16]+"px"),Y(M,"class","sg-timeline-body svelte-1csmpwr"),di(()=>e[134].call(M)),X(M,"zooming",e[24]),Y(s,"class","sg-timeline sg-view svelte-1csmpwr"),Y(t,"class",ke="sg-gantt "+e[3]+" svelte-1csmpwr"),X(t,"sg-disable-transition",e[22])},m(y,k){H(y,t,k);for(let N=0;N<B.length;N+=1)B[N]&&B[N].m(t,null);G(t,n),G(t,s),G(s,r),G(r,i),G(i,o),Ie(a,o,null),G(o,l);for(let N=0;N<u.length;N+=1)u[N]&&u[N].m(o,null);e[130](r),h=ci(r,e[131].bind(r)),G(s,T),G(s,M),G(M,S),Ie(f,S,null),G(S,w),G(S,g),G(g,_);for(let N=0;N<m.length;N+=1)m[N]&&m[N].m(_,null);e[132](g),G(S,L),G(S,me);for(let N=0;N<ue.length;N+=1)ue[N]&&ue[N].m(me,null);G(me,V),Ie(Oe,me,null),G(S,C);for(let N=0;N<ie.length;N+=1)ie[N]&&ie[N].m(S,null);e[133](M),te=ci(M,e[134].bind(M)),e[135](t),K=!0,de||(Se=[xt(e[53].call(null,i)),xt(e[52].call(null,M)),yt(M,"wheel",e[55]),xt(ce=e[59].call(null,M,{container:e[21],enabled:e[9],onMove:e[57],onEnd:e[58],boundsContainer:e[20]})),yt(t,"pointerdown",fi(e[51])),yt(t,"click",fi(e[51])),yt(t,"dblclick",e[51]),yt(t,"pointerover",e[51]),yt(t,"pointerleave",e[51])],de=!0)},p(y,k){if(k[0]&33828884|k[1]&8388608|k[2]&1){ge=ye(y[4]);let j;for(j=0;j<ge.length;j+=1){const Ke=Bi(y,ge,j);B[j]?(B[j].p(Ke,k),q(B[j],1)):(B[j]=Gi(Ke),B[j].c(),q(B[j],1),B[j].m(t,n))}for(nt(),j=ge.length;j<B.length;j+=1)ct(j);st()}const N={};k[0]&2&&(N.headers=y[1]),k[0]&8388608&&(N.ganttBodyColumns=y[23]),k[0]&1&&(N.ganttBodyUnit=y[0]),a.$set(N),k[0]&536870912&&(Ee=ye(y[29]),nt(),u=ms(u,k,ft,1,y,Ee,c,o,gs,xi,null,Vi),st()),(!K||k[0]&65536)&&W(o,"width",y[16]+"px"),(!K||k[0]&134217728&&b!==(b=`padding-right: ${y[27]}px;`))&&Y(r,"style",b);const Je={};k[0]&8388608&&(Je.columns=y[23]),k[0]&128&&(Je.columnStrokeColor=y[7]),k[0]&256&&(Je.columnStrokeWidth=y[8]),k[0]&64&&(Je.useCanvasColumns=y[6]),f.$set(Je),k[0]&8192&&(xe=ye(y[13]),nt(),m=ms(m,k,ht,1,y,xe,I,_,gs,ji,null,zi),st()),(!K||k[0]&33554432)&&W(_,"transform","translateY("+y[25]+"px)"),(!K||k[0]&4096)&&W(g,"height",y[12]+"px"),k[0]&536870912&&(je=ye(y[29]),nt(),ue=ms(ue,k,mt,1,y,je,dt,me,gs,qi,V,Ui),st());const gt={};if(k[0]&16384&&(gt.items=y[14]),k[0]&67108864|k[5]&134217728&&(gt.$$scope={dirty:k,ctx:y}),Oe.$set(gt),k[0]&33562656|k[2]&1){Qe=ye(y[5]);let j;for(j=0;j<Qe.length;j+=1){const Ke=Ai(y,Qe,j);ie[j]?(ie[j].p(Ke,k),q(ie[j],1)):(ie[j]=Xi(Ke),ie[j].c(),q(ie[j],1),ie[j].m(S,null))}for(nt(),j=Qe.length;j<ie.length;j+=1)$t(j);st()}(!K||k[0]&65536)&&W(S,"width",y[16]+"px"),ce&&hr(ce.update)&&k[0]&3146240&&ce.update.call(null,{container:y[21],enabled:y[9],onMove:y[57],onEnd:y[58],boundsContainer:y[20]}),(!K||k[0]&16777216)&&X(M,"zooming",y[24]),(!K||k[0]&8&&ke!==(ke="sg-gantt "+y[3]+" svelte-1csmpwr"))&&Y(t,"class",ke),(!K||k[0]&4194312)&&X(t,"sg-disable-transition",y[22])},i(y){if(!K){for(let k=0;k<ge.length;k+=1)q(B[k]);q(a.$$.fragment,y);for(let k=0;k<Ee.length;k+=1)q(u[k]);q(f.$$.fragment,y);for(let k=0;k<xe.length;k+=1)q(m[k]);for(let k=0;k<je.length;k+=1)q(ue[k]);q(Oe.$$.fragment,y);for(let k=0;k<Qe.length;k+=1)q(ie[k]);K=!0}},o(y){B=B.filter(Boolean);for(let k=0;k<B.length;k+=1)J(B[k]);J(a.$$.fragment,y);for(let k=0;k<u.length;k+=1)J(u[k]);J(f.$$.fragment,y);for(let k=0;k<m.length;k+=1)J(m[k]);for(let k=0;k<ue.length;k+=1)J(ue[k]);J(Oe.$$.fragment,y),ie=ie.filter(Boolean);for(let k=0;k<ie.length;k+=1)J(ie[k]);K=!1},d(y){y&&v(t),qt(B,y),Le(a);for(let k=0;k<u.length;k+=1)u[k].d();e[130](null),h(),Le(f);for(let k=0;k<m.length;k+=1)m[k].d();e[132](null);for(let k=0;k<ue.length;k+=1)ue[k].d();Le(Oe),qt(ie,y),e[133](null),te(),e[135](null),de=!1,mr(Se)}}}function Qi(e){for(const t in e)if(e[t]==null)throw new Error(`"${t}" is not set`)}function cs(e){return e instanceof Date?e.valueOf():e}function Nu(e,t,n){const s=["rows","tasks","timeRanges","rowPadding","rowHeight","from","to","minWidth","fitWidth","classes","headers","zoomLevels","taskContent","tableWidth","resizeHandleWidth","onTaskButtonClick","dateAdapter","magnetUnit","magnetOffset","columnUnit","columnOffset","ganttTableModules","ganttBodyModules","reflectOnParentRows","reflectOnChildRows","useCanvasColumns","columnStrokeColor","columnStrokeWidth","highlightedDurations","highlightColor","taskElementHook","layout","columnService","api","timeRangeFactory","utils","refreshTimeRanges","refreshTasks","getRowContainer","selectTask","unselectTasks","scrollToRow","scrollToTask","updateTask","updateTasks","removeTask","removeTasks","updateRow","updateRows","getRow","getTask","getTasks","updateLayoutSync","updateLayout","enableCreateTask","onCreateTask","onCreatedTask"];let r=hi(t,s),i,o,a,l,u,c,b,h,T,M,S,f,w,g,_,m,I,L,me,ue,dt,V,Oe,C,te,ce=[],ke=!1,{rows:K}=t,{tasks:de=[]}=t,{timeRanges:Se=[]}=t;Qi({rows:K});let{rowPadding:ge=6}=t,{rowHeight:B=52}=t;const ct=Pe(B);Z(e,ct,d=>n(147,me=d));const Ee=Pe(ge);Z(e,Ee,d=>n(146,L=d));let{from:ft}=t,{to:xe}=t;Qi({from:ft,to:xe});const ht=Pe(cs(ft));Z(e,ht,d=>n(129,T=d));const je=Pe(cs(xe));Z(e,je,d=>n(128,h=d));let{minWidth:mt=800}=t,{fitWidth:Qe=!1}=t;const ie=Pe(mt);Z(e,ie,d=>n(141,S=d));const $t=Pe(Qe);Z(e,$t,d=>n(140,M=d));let{classes:y=[]}=t,{headers:k=[{unit:"day",format:"MMMM Do"},{unit:"hour",format:"H:mm"}]}=t,{zoomLevels:N=[{headers:[{unit:"day",format:"DD.MM.YYYY"},{unit:"hour",format:"HH"}],minWidth:800,fitWidth:!0},{headers:[{unit:"hour",format:"ddd D/M, H A"},{unit:"minute",format:"mm",offset:15}],minWidth:5e3,fitWidth:!1}]}=t,{taskContent:Je=null}=t,{tableWidth:gt=240}=t,{resizeHandleWidth:j=10}=t,{onTaskButtonClick:Ke=null}=t,{dateAdapter:qe=new Mu}=t,{magnetUnit:Lt="minute"}=t,{magnetOffset:Nt=15}=t,At;be(Lt,Nt);function be(d,D){d&&D&&(At=Al(d,D))}let{columnUnit:Mn="minute"}=t,{columnOffset:Tn=15}=t,{ganttTableModules:Br=[]}=t,{ganttBodyModules:Gr=[]}=t,{reflectOnParentRows:Qn=!0}=t,{reflectOnChildRows:Jn=!1}=t,{useCanvasColumns:xr=!0}=t,{columnStrokeColor:jr="#efefef"}=t,{columnStrokeWidth:qr=1}=t,{highlightedDurations:Fs}=t,{highlightColor:Us="#6eb859"}=t,{taskElementHook:zs=null}=t,{layout:_t="overlap"}=t;const Kn=Pe(_t);Z(e,Kn,d=>n(145,I=d));const Yn=Pe(null);Z(e,Yn,d=>n(17,g=d));const $n=Pe(null);Z(e,$n,d=>n(15,u=d));const es=Pe(null);Z(e,es,d=>n(28,ue=d));const Vs=kr([Yn,ie,$t],([d,D,R])=>R&&d>D?d:D);Z(e,Vs,d=>n(16,b=d));const Zr=il();an("dataStore",Zr);const{rowStore:On,taskStore:$e,timeRangeStore:Xr,allTasks:Qr,allRows:Jr,allTimeRanges:Kr,rowTaskCache:$r}=Zr;Z(e,On,d=>n(125,a=d)),Z(e,$e,d=>n(126,l=d)),Z(e,Qr,d=>n(127,c=d)),Z(e,Jr,d=>n(123,i=d)),Z(e,Kr,d=>n(29,dt=d)),Z(e,$r,d=>n(124,o=d));const Ft=vu({get columns(){return Gs},get magnetDuration(){return At}});let Bs=!1;async function va(){n(22,Bs=!0),await mi(),V.offsetHeight,n(22,Bs=!1)}let Gs;function ba(d,D,R,A,oe){d instanceof Date&&(d=d.valueOf()),D instanceof Date&&(D=D.valueOf());let ne=[];const Ce=Do(d.valueOf(),D.valueOf(),R,A,Fs);let le=0,Me=0;return Ce.forEach(function(Te){le=Me,Me=vr(Te.to,T,h,b),ne.push({width:Me-le,from:Te.from,to:Te.to,left:le,duration:Te.duration,...Te.isHighlighted&&{bgHighlightColor:Us}})}),ne}let Cn,Rn,ts=Pe(Rn-u);Z(e,ts,d=>n(144,m=d));let ns=Pe(Cn-g);Z(e,ns,d=>n(27,_=d)),an("dimensions",{from:ht,to:je,width:Vs,visibleWidth:Yn,visibleHeight:$n,headerHeight:es,bottomScrollbarVisible:ts,rightScrollbarVisible:ns}),an("options",{dateAdapter:qe,taskElementHook:zs,taskContent:Je,rowPadding:Ee,rowHeight:ct,layout:Kn,resizeHandleWidth:j,reflectOnParentRows:Qn,reflectOnChildRows:Jn,onTaskButtonClick:Ke});const Pn=Pe(null);Z(e,Pn,d=>n(142,f=d));const Wn=Pe(null);Z(e,Wn,d=>n(143,w=d));const ei={rowContainer:null,mainContainer:null,mainHeaderContainer:null,scrollables:ce,hoveredRow:Pn,selectedRow:Wn,updateLayout:Mt,expandRow(d){_u(d),Mt()},collapseRow(d){wu(d),Mt()},invalidatePosition:tn};an("gantt",ei);let en={},pt={},Ut=!0;function tn({task:d,row:D}){D&&(n(112,pt[D.model.id]=!0,pt),n(113,Ut=!1)),d&&(n(111,en[d.model.id]=!0,en),n(112,pt[d.model.resourceId]=!0,pt),n(113,Ut=!1))}_o(()=>{Object.assign(ei,{rowContainer:te,mainContainer:C,mainHeaderContainer:Oe}),n(110,ke=!0)});const{onDelegatedEvent:En,offDelegatedEvent:xs,onEvent:Da}=pu();En("click","data-task-id",(d,D,R)=>{const A=D,oe=l.entities[A];wo(d)&&!R.classList.contains("sg-task-reflected")&&!R.classList.contains("sg-ignore-click")&&(d.ctrlKey?nn.toggleSelection(A):nn.selectSingle(A)),St.tasks.raise.select(oe)}),En("pointerover","data-row-id",(d,D,R)=>{_e(Pn,f=D,f)}),En("click","data-row-id",(d,D,R)=>{if(nn.unSelectTasks(),w==D){_e(Wn,w=null,w);return}_e(Wn,w=D,w)}),En("dblclick","data-task-id",(d,D,R)=>{const A=D;St.tasks.raise.dblclicked(l.entities[A],d)}),En("pointerleave","empty",(d,D,R)=>{_e(Pn,f=null,f)}),go(()=>{xs("click","data-task-id"),xs("click","data-row-id"),xs("dblclick","data-task-id"),nn.unSelectTasks()});let Hn=0;function pa(d){const D=R=>{const{scrollTop:A,scrollLeft:oe}=d;ce.forEach(ne=>{ne.orientation==="horizontal"?ne.node.scrollLeft=oe:ne.node.scrollTop=A}),n(114,Hn=A)};return d.addEventListener("scroll",D),{destroy(){d.removeEventListener("scroll",D,!1)}}}function Sa(d){ce.push({node:d,orientation:"horizontal"})}function Ma(d){n(2,gt=d.detail.left)}let zt=0,js=!1;async function Ta(d){if(d.ctrlKey){d.preventDefault();const D=zt;if(d.deltaY>0?zt=Math.max(zt-1,0):zt=Math.min(zt+1,N.length-1),D!=zt&&N[zt]){const R={columnUnit:Mn,columnOffset:Tn,minWidth:S,...N[zt]},A=R.minWidth/b,oe=C,ne=wn(oe,d),Me=(oe.scrollLeft+ne.x)*A-ne.x+oe.clientWidth/2;n(0,Mn=R.columnUnit),n(63,Tn=R.columnOffset),_e(ie,S=R.minWidth,S),R.headers&&n(1,k=R.headers),R.fitWidth&&_e($t,M=R.fitWidth,M),St.gantt.raise.viewChanged(),n(24,js=!0),await mi(),oe.scrollLeft=Me,n(24,js=!1)}}}function Ya(d){_e(ht,T=d.detail.from,T),_e(je,h=d.detail.to,h),St.gantt.raise.dateSelected({from:T,to:h})}function Oa(d){const D=er(d,{rowHeight:B});On.addAll(D),Mt()}const{createTask:ss,reflectTask:ti}=fu({get rowEntities(){return a.entities},get rowPadding(){return ge},getPositionByDate:d=>Ft.getPositionByDate(d)});async function Ca(d){const D=[];for(const R of d){et[R.id]||delete et[R.id];const A=ss(R);D.push(A)}$e.addAll(D),Mt()}let Fe={};function Ra(d){const D=d.map(R=>ni.create(R));Xr.addAll(D)}const St=du(),nn=new ku($e),ni=new yu(Ft),si=cl({get from(){return T},get to(){return h},get width(){return b},get magnetOffset(){return Nt},get magnetUnit(){return Lt},get magnetDuration(){return At},get dateAdapter(){return qe}});an("services",{utils:si,api:St,selectionManager:nn,columnService:Ft});function ri(){Xr._update(({ids:d,entities:D})=>(d.forEach(R=>{const A=D[R],oe=Ft.getPositionByDate(A.model.from)|0,ne=Ft.getPositionByDate(A.model.to)|0;A.left=oe,A.width=ne-oe}),{ids:d,entities:D}))}function ii(){c.forEach(d=>{const D=Ft.getPositionByDate(d.model.from)|0,R=Ft.getPositionByDate(d.model.to)|0;d.left=D,d.width=R-D}),$e.refresh()}function Pa(){return te}function Wa(d){l.entities[d]&&nn.selectSingle(d)}function Ea(){nn.unSelectTasks()}function Ha(d,D="auto"){const{scrollTop:R,clientHeight:A}=C,oe=a.entities[d];if(!oe)return;const ne=oe.y;ne<R&&C.scrollTo({top:ne,behavior:D}),ne>R+A&&C.scrollTo({top:ne+oe.height-A,behavior:D})}function Ia(d,D="auto"){const{scrollLeft:R,scrollTop:A,clientWidth:oe,clientHeight:ne}=C,Ce=l.entities[d];if(!Ce)return;const le=a.entities[Ce.model.resourceId],Me=Ce.left,Te=le.y,Vt={top:void 0,left:void 0,behavior:D};Me<R&&(Vt.left=Me),Me>R+oe&&(Vt.left=Me+Ce.width-oe),Te<A&&(Vt.top=Te),Te>A+ne&&(Vt.top=Te+le.height-ne),C.scrollTo(Vt)}function La(d){const D=ss(d);$e.upsert(D),tn({task:D}),rn()}function Na(d){const D=d.map(R=>ss(R));$e.upsertAll(D),D.forEach(R=>tn({task:R})),rn()}function Aa(d){const D=l.entities[d];if(!D)return;$e.delete(d);const R=a.entities[D.model.resourceId];R&&(tn({row:R}),rn())}function Fa(d){for(const D of d){const R=l.entities[D];if(!R)continue;const A=a.entities[R.model.resourceId];A&&tn({row:A})}$e.deleteAll(d),rn()}function Ua(d){const D=er([d],{rowHeight:B});On.upsertAll(D),Mt(),rn()}function za(d){const D=er(d,{rowHeight:B});On.upsertAll(D),Mt(),rn()}function Va(d){return a.entities[d]}function Ba(d){return l.entities[d]}function Ga(d){return o[d]?o[d].map(D=>l.entities[D]):null}let wt=[],rs=!0,is=0,sn,os,oi=0,as=[],ai,In={},qs={},li={};function rn(d){const D={taskStore:l,rowStore:a,rowTasks:o,rowHeight:B,rowPadding:ge,rowReflectedTasks:Fe,invalidatedRows:pt,invalidatedTasks:en,invalidateFull:d??Ut};_t==="overlap"&&Ii(D),_t==="pack"&&Li(D),_t==="expand"&&Ni(D),n(121,qs={}),n(113,Ut=!1),n(111,en={}),n(112,pt={})}function Mt(){n(122,li={}),n(113,Ut=!0)}let{enableCreateTask:ui=!1}=t,{onCreateTask:Zs=d=>({id:`creating-task-${(Math.random()+1).toString(36).substring(2,7)}`,label:" ",...d})}=t,{onCreatedTask:Xs=d=>{}}=t,et={},We=null;function xa({from:d,to:D,x:R,width:A,y:oe}){if(!We){const Ce=i.find(le=>le.y<oe&&oe<le.y+le.height).model.id;We=ss(Zs({resourceId:Ce,from:d,to:D})),$e.upsert(We),n(14,et[We.model.id]={x:We.left,y:We.top,width:We.width,resizing:!0},et)}n(14,et[We.model.id].x=R,et),n(14,et[We.model.id].width=A,et)}function ja({from:d,to:D,x:R,width:A}){We.model.from=d,We.model.to=D,We.left=R,We.width=A,$e.upsert(We),delete et[We.model.id],Xs(We),We=null}const qa=Ru();function Za(d){if(!d.detail.changes.some(D=>!D.targetRow))for(const D of d.detail.changes){const{task:R,current:A,previous:oe,sourceRow:ne,targetRow:Ce}=D;if(!Ce)continue;const le=R.model;if(Ce&&St.tasks.raise.switchRow(R,Ce,ne),oe.from!=A.from||oe.to!=A.to||ne&&ne.model.id!==Ce.model.id){le.from=A.from,le.to=A.to,le.resourceId=Ce.model.id;const Te={...R,left:A.left,top:A.top,width:A.width};St.tasks.raise.change({task:Te,sourceRow:ne,targetRow:Ce,previousState:oe}),St.tasks.raise.changed({task:Te,sourceRow:ne,targetRow:Ce,previousState:oe}),$e.update(Te),tn({row:ne}),tn({task:Te})}}}function Xa(d){n(14,et={...d.detail.items})}function Qa(d){An[d?"unshift":"push"](()=>{Oe=d,n(19,Oe)})}function Ja(){ue=this.clientHeight,es.set(ue)}function Ka(d){An[d?"unshift":"push"](()=>{te=d,n(21,te)})}function $a(d){An[d?"unshift":"push"](()=>{C=d,n(20,C)})}function el(){u=this.clientHeight,$n.set(u),Rn=this.offsetHeight,g=this.clientWidth,Yn.set(g),Cn=this.offsetWidth,n(11,Rn),n(10,Cn)}function tl(d){An[d?"unshift":"push"](()=>{V=d,n(18,V)})}return e.$$set=d=>{t=Wt(Wt({},t),rl(d)),n(62,r=hi(t,s)),"rows"in d&&n(64,K=d.rows),"tasks"in d&&n(65,de=d.tasks),"timeRanges"in d&&n(66,Se=d.timeRanges),"rowPadding"in d&&n(67,ge=d.rowPadding),"rowHeight"in d&&n(68,B=d.rowHeight),"from"in d&&n(69,ft=d.from),"to"in d&&n(70,xe=d.to),"minWidth"in d&&n(71,mt=d.minWidth),"fitWidth"in d&&n(72,Qe=d.fitWidth),"classes"in d&&n(3,y=d.classes),"headers"in d&&n(1,k=d.headers),"zoomLevels"in d&&n(73,N=d.zoomLevels),"taskContent"in d&&n(74,Je=d.taskContent),"tableWidth"in d&&n(2,gt=d.tableWidth),"resizeHandleWidth"in d&&n(75,j=d.resizeHandleWidth),"onTaskButtonClick"in d&&n(76,Ke=d.onTaskButtonClick),"dateAdapter"in d&&n(77,qe=d.dateAdapter),"magnetUnit"in d&&n(78,Lt=d.magnetUnit),"magnetOffset"in d&&n(79,Nt=d.magnetOffset),"columnUnit"in d&&n(0,Mn=d.columnUnit),"columnOffset"in d&&n(63,Tn=d.columnOffset),"ganttTableModules"in d&&n(4,Br=d.ganttTableModules),"ganttBodyModules"in d&&n(5,Gr=d.ganttBodyModules),"reflectOnParentRows"in d&&n(80,Qn=d.reflectOnParentRows),"reflectOnChildRows"in d&&n(81,Jn=d.reflectOnChildRows),"useCanvasColumns"in d&&n(6,xr=d.useCanvasColumns),"columnStrokeColor"in d&&n(7,jr=d.columnStrokeColor),"columnStrokeWidth"in d&&n(8,qr=d.columnStrokeWidth),"highlightedDurations"in d&&n(82,Fs=d.highlightedDurations),"highlightColor"in d&&n(83,Us=d.highlightColor),"taskElementHook"in d&&n(84,zs=d.taskElementHook),"layout"in d&&n(85,_t=d.layout),"enableCreateTask"in d&&n(9,ui=d.enableCreateTask),"onCreateTask"in d&&n(108,Zs=d.onCreateTask),"onCreatedTask"in d&&n(109,Xs=d.onCreatedTask)},e.$$.update=()=>{if(e.$$.dirty[2]&4|e.$$.dirty[3]&131072&&ke&&Oa(K),e.$$.dirty[2]&8|e.$$.dirty[3]&131072&&ke&&Ca(de),e.$$.dirty[2]&16|e.$$.dirty[3]&131072&&ke&&Ra(Se),e.$$.dirty[2]&64&&_e(ct,me=B,me),e.$$.dirty[2]&32&&_e(Ee,L=ge,L),e.$$.dirty[2]&128&&_e(ht,T=cs(ft),T),e.$$.dirty[2]&256&&_e(je,h=cs(xe),h),e.$$.dirty[2]&1536&&(_e(ie,S=mt,S),_e($t,M=Qe,M)),e.$$.dirty[2]&196608&&be(Lt,Nt),e.$$.dirty[2]&8388608&&_e(Kn,I=_t,I),e.$$.dirty[0]&65537|e.$$.dirty[2]&2|e.$$.dirty[4]&48&&(n(23,Gs=ba(T,h,Mn,Tn)),va(),ri(),ii()),e.$$.dirty[0]&34816&&_e(ts,m=Rn-u,m),e.$$.dirty[0]&132096&&_e(ns,_=Cn-g,_),e.$$.dirty[2]&786432|e.$$.dirty[3]&4194304|e.$$.dirty[4]&10){n(115,Fe={});for(const d of c){const D=a.entities[d.model.resourceId];D&&(Jn&&D.allChildren&&D.allChildren.forEach(R=>{const A=ti(d,R);Fe[R.model.id]||n(115,Fe[R.model.id]=[],Fe),Fe[R.model.id].push(A)}),Qn&&D.allParents&&D.allParents.forEach(R=>{const A=ti(d,R);Fe[R.model.id]||n(115,Fe[R.model.id]=[],Fe),Fe[R.model.id].push(A)}))}}if(e.$$.dirty[2]&8388704|e.$$.dirty[3]&542900224|e.$$.dirty[4]&7){const d={taskStore:l,rowStore:a,rowTasks:o,rowHeight:B,rowPadding:ge,rowReflectedTasks:Fe,invalidatedRows:pt,invalidatedTasks:en,invalidateFull:Ut};_t==="overlap"&&Ii(d),_t==="pack"&&Li(d),_t==="expand"&&Ni(d),n(121,qs={}),n(113,Ut=!1),n(111,en={}),n(112,pt={})}if(e.$$.dirty[0]&4096|e.$$.dirty[2]&64|e.$$.dirty[3]&1350565888){n(116,wt=[]),n(12,is=0);const d=i[0];for(const D of i)D.hidden||(wt.push(D),d&&d.height!==D.height&&n(117,rs=!1),n(12,is+=D.height||B))}if(e.$$.dirty[0]&4096|e.$$.dirty[3]&27262976)if(rs){const d=is/wt.length;n(118,sn=Math.floor(Hn/d))}else n(118,sn=ir(wt,Hn,d=>d.y)[0]);if(e.$$.dirty[0]&32768|e.$$.dirty[2]&64|e.$$.dirty[3]&60817408&&(rs?n(119,os=Math.min(sn+Math.ceil(u/B),wt.length-1)):n(119,os=ir(wt,Hn+u,d=>d.y)[0])),e.$$.dirty[3]&41943040&&n(25,oi=wt[sn]?wt[sn].y:0),e.$$.dirty[3]&109051904&&n(13,as=wt.slice(sn,os+1)),e.$$.dirty[0]&24576|e.$$.dirty[3]&138412032|e.$$.dirty[4]&5){let d=function(le){D.push(le);const Me=le.model.id;In[Me]!=null?A[In[Me]]=le:ne=!1,oe[Me]=Ce++};const D=[],R={},A=[],oe={};let ne=!0,Ce=0;for(let le=0;le<as.length;le++){const Me=as[le];if(o[Me.model.id])for(let Te=0;Te<o[Me.model.id].length;Te++){const Vt=o[Me.model.id][Te];R[Vt]=!0,d(l.entities[Vt])}if(Fe[Me.model.id])for(const Te of Fe[Me.model.id])d(Te)}for(const le in et)R[le]||(R[le]=!0,d(l.entities[le]));A.length!==D.length&&(ne=!1),n(120,In=ne?In:oe),n(26,ai=ne?A:D)}e.$$.dirty[2]&8388620&&Mt()},[Mn,k,gt,y,Br,Gr,xr,jr,qr,ui,Cn,Rn,is,as,et,u,b,g,V,Oe,C,te,Bs,Gs,js,oi,ai,_,ue,dt,ct,Ee,ht,je,ie,$t,Kn,Yn,$n,es,Vs,On,$e,Qr,Jr,Kr,$r,ts,ns,Pn,Wn,Da,pa,Sa,Ma,Ta,Ya,xa,ja,qa,Za,Xa,r,Tn,K,de,Se,ge,B,ft,xe,mt,Qe,N,Je,j,Ke,qe,Lt,Nt,Qn,Jn,Fs,Us,zs,_t,Ft,St,ni,si,ri,ii,Pa,Wa,Ea,Ha,Ia,La,Na,Aa,Fa,Ua,za,Va,Ba,Ga,rn,Mt,Zs,Xs,ke,en,pt,Ut,Hn,Fe,wt,rs,sn,os,In,qs,li,i,o,a,l,c,h,T,Qa,Ja,Ka,$a,el,tl]}class Au extends Be{constructor(t){super(),Ge(this,t,Nu,Lu,Ve,{rows:64,tasks:65,timeRanges:66,rowPadding:67,rowHeight:68,from:69,to:70,minWidth:71,fitWidth:72,classes:3,headers:1,zoomLevels:73,taskContent:74,tableWidth:2,resizeHandleWidth:75,onTaskButtonClick:76,dateAdapter:77,magnetUnit:78,magnetOffset:79,columnUnit:0,columnOffset:63,ganttTableModules:4,ganttBodyModules:5,reflectOnParentRows:80,reflectOnChildRows:81,useCanvasColumns:6,columnStrokeColor:7,columnStrokeWidth:8,highlightedDurations:82,highlightColor:83,taskElementHook:84,layout:85,columnService:86,api:87,timeRangeFactory:88,utils:89,refreshTimeRanges:90,refreshTasks:91,getRowContainer:92,selectTask:93,unselectTasks:94,scrollToRow:95,scrollToTask:96,updateTask:97,updateTasks:98,removeTask:99,removeTasks:100,updateRow:101,updateRows:102,getRow:103,getTask:104,getTasks:105,updateLayoutSync:106,updateLayout:107,enableCreateTask:9,onCreateTask:108,onCreatedTask:109},null,[-1,-1,-1,-1,-1,-1])}get columnService(){return this.$$.ctx[86]}get api(){return this.$$.ctx[87]}get timeRangeFactory(){return this.$$.ctx[88]}get utils(){return this.$$.ctx[89]}get refreshTimeRanges(){return this.$$.ctx[90]}get refreshTasks(){return this.$$.ctx[91]}get getRowContainer(){return this.$$.ctx[92]}get selectTask(){return this.$$.ctx[93]}get unselectTasks(){return this.$$.ctx[94]}get scrollToRow(){return this.$$.ctx[95]}get scrollToTask(){return this.$$.ctx[96]}get updateTask(){return this.$$.ctx[97]}get updateTasks(){return this.$$.ctx[98]}get removeTask(){return this.$$.ctx[99]}get removeTasks(){return this.$$.ctx[100]}get updateRow(){return this.$$.ctx[101]}get updateRows(){return this.$$.ctx[102]}get getRow(){return this.$$.ctx[103]}get getTask(){return this.$$.ctx[104]}get getTasks(){return this.$$.ctx[105]}get updateLayoutSync(){return this.$$.ctx[106]}get updateLayout(){return this.$$.ctx[107]}}function Ji(e){let t,n,s;function r(a,l){return a[0].model.expanded?Uu:Fu}let i=r(e),o=i(e);return{c(){t=F("div"),o.c(),this.h()},l(a){t=U(a,"DIV",{class:!0,role:!0,tabindex:!0});var l=z(t);o.l(l),l.forEach(v),this.h()},h(){Y(t,"class","sg-tree-expander svelte-1tk4vqn"),Y(t,"role","button"),Y(t,"tabindex","0")},m(a,l){H(a,t,l),o.m(t,null),n||(s=yt(t,"click",e[1]),n=!0)},p(a,l){i!==(i=r(a))&&(o.d(1),o=i(a),o&&(o.c(),o.m(t,null)))},d(a){a&&v(t),o.d(),n=!1,s()}}}function Fu(e){let t;return{c(){t=F("i"),this.h()},l(n){t=U(n,"I",{class:!0}),z(t).forEach(v),this.h()},h(){Y(t,"class","fas fa-angle-right")},m(n,s){H(n,t,s)},d(n){n&&v(t)}}}function Uu(e){let t;return{c(){t=F("i"),this.h()},l(n){t=U(n,"I",{class:!0}),z(t).forEach(v),this.h()},h(){Y(t,"class","fas fa-angle-down")},m(n,s){H(n,t,s)},d(n){n&&v(t)}}}function zu(e){let t,n,s,r=e[0].children&&Ji(e);const i=e[3].default,o=gr(i,e,e[2],null);return{c(){t=F("div"),r&&r.c(),n=De(),o&&o.c(),this.h()},l(a){t=U(a,"DIV",{class:!0,style:!0});var l=z(t);r&&r.l(l),n=pe(l),o&&o.l(l),l.forEach(v),this.h()},h(){Y(t,"class","sg-cell-inner svelte-1tk4vqn"),W(t,"padding-left",e[0].childLevel*3+"em")},m(a,l){H(a,t,l),r&&r.m(t,null),G(t,n),o&&o.m(t,null),s=!0},p(a,[l]){a[0].children?r?r.p(a,l):(r=Ji(a),r.c(),r.m(t,n)):r&&(r.d(1),r=null),o&&o.p&&(!s||l&4)&&_r(o,i,a,a[2],s?yr(i,a[2],l,null):wr(a[2]),null),(!s||l&1)&&W(t,"padding-left",a[0].childLevel*3+"em")},i(a){s||(q(o,a),s=!0)},o(a){J(o,a),s=!1},d(a){a&&v(t),r&&r.d(),o&&o.d(a)}}}function Vu(e,t,n){let{$$slots:s={},$$scope:r}=t,{row:i}=t;const o=Gn();function a(){i.model.expanded||i.model.expanded==null?o("rowCollapsed",{row:i}):o("rowExpanded",{row:i})}return e.$$set=l=>{"row"in l&&n(0,i=l.row),"$$scope"in l&&n(2,r=l.$$scope)},[i,a,r,s]}class Bu extends Be{constructor(t){super(),Ge(this,t,Vu,zu,Ve,{row:0})}}function Ki(e,t,n){const s=e.slice();return s[10]=t[n],s}function Gu(e){let t,n,s=e[1].model.iconClass&&$i(e);function r(a,l){return a[1].model.headerHtml?Xu:a[10].renderer?Zu:a[10].type==="resourceInfo"?qu:ju}let i=r(e),o=i(e);return{c(){s&&s.c(),t=De(),o.c(),n=$()},l(a){s&&s.l(a),t=pe(a),o.l(a),n=$()},m(a,l){s&&s.m(a,l),H(a,t,l),o.m(a,l),H(a,n,l)},p(a,l){a[1].model.iconClass?s?s.p(a,l):(s=$i(a),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),i===(i=r(a))&&o?o.p(a,l):(o.d(1),o=i(a),o&&(o.c(),o.m(n.parentNode,n)))},i:Ae,o:Ae,d(a){a&&(v(t),v(n)),s&&s.d(a),o.d(a)}}}function xu(e){let t,n;return t=new Bu({props:{row:e[1],$$slots:{default:[$u]},$$scope:{ctx:e}}}),t.$on("rowCollapsed",e[7]),t.$on("rowExpanded",e[8]),{c(){He(t.$$.fragment)},l(s){ze(t.$$.fragment,s)},m(s,r){Ie(t,s,r),n=!0},p(s,r){const i={};r&2&&(i.row=s[1]),r&8195&&(i.$$scope={dirty:r,ctx:s}),t.$set(i)},i(s){n||(q(t.$$.fragment,s),n=!0)},o(s){J(t.$$.fragment,s),n=!1},d(s){Le(t,s)}}}function $i(e){let t,n,s;return{c(){t=F("div"),n=F("i"),this.h()},l(r){t=U(r,"DIV",{class:!0});var i=z(t);n=U(i,"I",{class:!0}),z(n).forEach(v),i.forEach(v),this.h()},h(){Y(n,"class",s=bs(e[1].model.iconClass)+" svelte-1puymdp"),Y(t,"class","sg-table-icon svelte-1puymdp")},m(r,i){H(r,t,i),G(t,n)},p(r,i){i&2&&s!==(s=bs(r[1].model.iconClass)+" svelte-1puymdp")&&Y(n,"class",s)},d(r){r&&v(t)}}}function ju(e){let t=e[1].model[e[10].property]+"",n;return{c(){n=Qt(t)},l(s){n=Jt(s,t)},m(s,r){H(s,n,r)},p(s,r){r&3&&t!==(t=s[1].model[s[10].property]+"")&&Kt(n,t)},d(s){s&&v(n)}}}function qu(e){let t,n,s,r,i=e[1].model[e[10].property]+"",o;return{c(){t=F("img"),s=De(),r=F("div"),o=Qt(i),this.h()},l(a){t=U(a,"IMG",{class:!0,src:!0,alt:!0}),s=pe(a),r=U(a,"DIV",{class:!0});var l=z(r);o=Jt(l,i),l.forEach(v),this.h()},h(){Y(t,"class","sg-resource-image svelte-1puymdp"),gi(t.src,n=e[1].model.imageSrc)||Y(t,"src",n),Y(t,"alt",""),Y(r,"class","sg-resource-title")},m(a,l){H(a,t,l),H(a,s,l),H(a,r,l),G(r,o)},p(a,l){l&2&&!gi(t.src,n=a[1].model.imageSrc)&&Y(t,"src",n),l&3&&i!==(i=a[1].model[a[10].property]+"")&&Kt(o,i)},d(a){a&&(v(t),v(s),v(r))}}}function Zu(e){let t,n=e[10].renderer(e[1])+"",s;return{c(){t=new Zt(!1),s=$(),this.h()},l(r){t=Xt(r,!1),s=$(),this.h()},h(){t.a=s},m(r,i){t.m(n,r,i),H(r,s,i)},p(r,i){i&3&&n!==(n=r[10].renderer(r[1])+"")&&t.p(n)},d(r){r&&(v(s),t.d())}}}function Xu(e){let t,n=e[1].model.headerHtml+"",s;return{c(){t=new Zt(!1),s=$(),this.h()},l(r){t=Xt(r,!1),s=$(),this.h()},h(){t.a=s},m(r,i){t.m(n,r,i),H(r,s,i)},p(r,i){i&2&&n!==(n=r[1].model.headerHtml+"")&&t.p(n)},d(r){r&&(v(s),t.d())}}}function eo(e){let t,n,s;return{c(){t=F("div"),n=F("i"),this.h()},l(r){t=U(r,"DIV",{class:!0});var i=z(t);n=U(i,"I",{class:!0}),z(n).forEach(v),i.forEach(v),this.h()},h(){Y(n,"class",s=bs(e[1].model.iconClass)+" svelte-1puymdp"),Y(t,"class","sg-table-icon svelte-1puymdp")},m(r,i){H(r,t,i),G(t,n)},p(r,i){i&2&&s!==(s=bs(r[1].model.iconClass)+" svelte-1puymdp")&&Y(n,"class",s)},d(r){r&&v(t)}}}function Qu(e){let t=e[1].model[e[10].property]+"",n;return{c(){n=Qt(t)},l(s){n=Jt(s,t)},m(s,r){H(s,n,r)},p(s,r){r&3&&t!==(t=s[1].model[s[10].property]+"")&&Kt(n,t)},d(s){s&&v(n)}}}function Ju(e){let t,n=e[10].renderer(e[1])+"",s;return{c(){t=new Zt(!1),s=$(),this.h()},l(r){t=Xt(r,!1),s=$(),this.h()},h(){t.a=s},m(r,i){t.m(n,r,i),H(r,s,i)},p(r,i){i&3&&n!==(n=r[10].renderer(r[1])+"")&&t.p(n)},d(r){r&&(v(s),t.d())}}}function Ku(e){let t,n=e[1].model.headerHtml+"",s;return{c(){t=new Zt(!1),s=$(),this.h()},l(r){t=Xt(r,!1),s=$(),this.h()},h(){t.a=s},m(r,i){t.m(n,r,i),H(r,s,i)},p(r,i){i&2&&n!==(n=r[1].model.headerHtml+"")&&t.p(n)},d(r){r&&(v(s),t.d())}}}function $u(e){let t,n,s=e[1].model.iconClass&&eo(e);function r(a,l){return a[1].model.headerHtml?Ku:a[10].renderer?Ju:Qu}let i=r(e),o=i(e);return{c(){s&&s.c(),t=De(),o.c(),n=$()},l(a){s&&s.l(a),t=pe(a),o.l(a),n=$()},m(a,l){s&&s.m(a,l),H(a,t,l),o.m(a,l),H(a,n,l)},p(a,l){a[1].model.iconClass?s?s.p(a,l):(s=eo(a),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),i===(i=r(a))&&o?o.p(a,l):(o.d(1),o=i(a),o&&(o.c(),o.m(n.parentNode,n)))},d(a){a&&(v(t),v(n)),s&&s.d(a),o.d(a)}}}function to(e){let t,n,s,r,i;const o=[xu,Gu],a=[];function l(u,c){return u[10].type=="tree"?0:1}return n=l(e),s=a[n]=o[n](e),{c(){t=F("div"),s.c(),r=De(),this.h()},l(u){t=U(u,"DIV",{class:!0,style:!0});var c=z(t);s.l(c),r=pe(c),c.forEach(v),this.h()},h(){Y(t,"class","sg-table-body-cell sg-table-cell svelte-1puymdp"),W(t,"width",e[10].width+"px")},m(u,c){H(u,t,c),a[n].m(t,null),G(t,r),i=!0},p(u,c){let b=n;n=l(u),n===b?a[n].p(u,c):(nt(),J(a[b],1,1,()=>{a[b]=null}),st(),s=a[n],s?s.p(u,c):(s=a[n]=o[n](u),s.c()),q(s,1),s.m(t,r)),(!i||c&1)&&W(t,"width",u[10].width+"px")},i(u){i||(q(s),i=!0)},o(u){J(s),i=!1},d(u){u&&v(t),a[n].d()}}}function ed(e){let t,n,s,r,i=ye(e[0]),o=[];for(let l=0;l<i.length;l+=1)o[l]=to(Ki(e,i,l));const a=l=>J(o[l],1,1,()=>{o[l]=null});return{c(){t=F("div");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){t=U(l,"DIV",{"data-row-id":!0,style:!0,class:!0});var u=z(t);for(let c=0;c<o.length;c+=1)o[c].l(u);u.forEach(v),this.h()},h(){Y(t,"data-row-id",n=e[1].model.id),W(t,"height",e[1].height+"px"),Y(t,"class",s="sg-table-row "+e[2]+" sg-table-row-level-"+e[1].childLevel+" svelte-1puymdp"),X(t,"sg-row-expanded",e[1].model.expanded),X(t,"sg-hover",e[3]==e[1].model.id),X(t,"sg-selected",e[4]==e[1].model.id)},m(l,u){H(l,t,u);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(t,null);r=!0},p(l,[u]){if(u&3){i=ye(l[0]);let c;for(c=0;c<i.length;c+=1){const b=Ki(l,i,c);o[c]?(o[c].p(b,u),q(o[c],1)):(o[c]=to(b),o[c].c(),q(o[c],1),o[c].m(t,null))}for(nt(),c=i.length;c<o.length;c+=1)a(c);st()}(!r||u&2&&n!==(n=l[1].model.id))&&Y(t,"data-row-id",n),(!r||u&2)&&W(t,"height",l[1].height+"px"),(!r||u&6&&s!==(s="sg-table-row "+l[2]+" sg-table-row-level-"+l[1].childLevel+" svelte-1puymdp"))&&Y(t,"class",s),(!r||u&6)&&X(t,"sg-row-expanded",l[1].model.expanded),(!r||u&14)&&X(t,"sg-hover",l[3]==l[1].model.id),(!r||u&22)&&X(t,"sg-selected",l[4]==l[1].model.id)},i(l){if(!r){for(let u=0;u<i.length;u+=1)q(o[u]);r=!0}},o(l){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)J(o[u]);r=!1},d(l){l&&v(t),qt(o,l)}}}function td(e,t,n){let s,r,i,{headers:o=null}=t,{row:a=null}=t;const{hoveredRow:l,selectedRow:u}=ve("gantt");Z(e,l,h=>n(3,r=h)),Z(e,u,h=>n(4,i=h));function c(h){ks.call(this,e,h)}function b(h){ks.call(this,e,h)}return e.$$set=h=>{"headers"in h&&n(0,o=h.headers),"row"in h&&n(1,a=h.row)},e.$$.update=()=>{e.$$.dirty&2&&a.parent&&a.childLevel*3,e.$$.dirty&2&&n(2,s=xn(a.model.classes))},[o,a,s,r,i,l,u,c,b]}class nd extends Be{constructor(t){super(),Ge(this,t,td,ed,Ve,{headers:0,row:1})}}function no(e,t,n){const s=e.slice();return s[22]=t[n],s}function so(e,t,n){const s=e.slice();return s[25]=t[n],s}function ro(e){let t,n=e[25].title+"",s,r;return{c(){t=F("div"),s=Qt(n),r=De(),this.h()},l(i){t=U(i,"DIV",{class:!0,style:!0});var o=z(t);s=Jt(o,n),r=pe(o),o.forEach(v),this.h()},h(){Y(t,"class","sg-table-header-cell sg-table-cell svelte-1pxxfqb"),W(t,"width",e[25].width+"px")},m(i,o){H(i,t,o),G(t,s),G(t,r)},p(i,o){o&16&&n!==(n=i[25].title+"")&&Kt(s,n),o&16&&W(t,"width",i[25].width+"px")},d(i){i&&v(t)}}}function io(e){let t,n;return t=new nd({props:{row:e[22],headers:e[4]}}),t.$on("rowExpanded",e[11]),t.$on("rowCollapsed",e[12]),{c(){He(t.$$.fragment)},l(s){ze(t.$$.fragment,s)},m(s,r){Ie(t,s,r),n=!0},p(s,r){const i={};r&8&&(i.row=s[22]),r&16&&(i.headers=s[4]),t.$set(i)},i(s){n||(q(t.$$.fragment,s),n=!0)},o(s){J(t.$$.fragment,s),n=!1},d(s){Le(t,s)}}}function sd(e){let t,n,s,r,i,o,a,l,u,c,b=ye(e[4]),h=[];for(let f=0;f<b.length;f+=1)h[f]=ro(so(e,b,f));let T=ye(e[3]),M=[];for(let f=0;f<T.length;f+=1)M[f]=io(no(e,T,f));const S=f=>J(M[f],1,1,()=>{M[f]=null});return{c(){t=F("div"),n=F("div");for(let f=0;f<h.length;f+=1)h[f].c();s=De(),r=F("div"),i=F("div"),o=F("div");for(let f=0;f<M.length;f+=1)M[f].c();this.h()},l(f){t=U(f,"DIV",{class:!0,style:!0});var w=z(t);n=U(w,"DIV",{class:!0,style:!0});var g=z(n);for(let L=0;L<h.length;L+=1)h[L].l(g);g.forEach(v),s=pe(w),r=U(w,"DIV",{class:!0,style:!0});var _=z(r);i=U(_,"DIV",{class:!0});var m=z(i);o=U(m,"DIV",{class:!0,style:!0});var I=z(o);for(let L=0;L<M.length;L+=1)M[L].l(I);I.forEach(v),m.forEach(v),_.forEach(v),w.forEach(v),this.h()},h(){Y(n,"class","sg-table-header svelte-1pxxfqb"),W(n,"height",e[6]+"px"),Y(o,"class","sg-table-rows"),W(o,"padding-top",e[1]+"px"),W(o,"height",e[2]+"px"),Y(i,"class","sg-table-scroller svelte-1pxxfqb"),Y(r,"class","sg-table-body svelte-1pxxfqb"),Y(r,"style",a=`padding-bottom: ${e[7]}px;`),Y(t,"class","sg-table sg-view svelte-1pxxfqb"),W(t,"width",e[0]+"px")},m(f,w){H(f,t,w),G(t,n);for(let g=0;g<h.length;g+=1)h[g]&&h[g].m(n,null);e[13](n),G(t,s),G(t,r),G(r,i),G(i,o);for(let g=0;g<M.length;g+=1)M[g]&&M[g].m(o,null);l=!0,u||(c=xt(e[10].call(null,i)),u=!0)},p(f,[w]){if(w&16){b=ye(f[4]);let g;for(g=0;g<b.length;g+=1){const _=so(f,b,g);h[g]?h[g].p(_,w):(h[g]=ro(_),h[g].c(),h[g].m(n,null))}for(;g<h.length;g+=1)h[g].d(1);h.length=b.length}if((!l||w&64)&&W(n,"height",f[6]+"px"),w&6168){T=ye(f[3]);let g;for(g=0;g<T.length;g+=1){const _=no(f,T,g);M[g]?(M[g].p(_,w),q(M[g],1)):(M[g]=io(_),M[g].c(),q(M[g],1),M[g].m(o,null))}for(nt(),g=T.length;g<M.length;g+=1)S(g);st()}(!l||w&2)&&W(o,"padding-top",f[1]+"px"),(!l||w&4)&&W(o,"height",f[2]+"px"),(!l||w&128&&a!==(a=`padding-bottom: ${f[7]}px;`))&&Y(r,"style",a),(!l||w&1)&&W(t,"width",f[0]+"px")},i(f){if(!l){for(let w=0;w<T.length;w+=1)q(M[w]);l=!0}},o(f){M=M.filter(Boolean);for(let w=0;w<M.length;w+=1)J(M[w]);l=!1},d(f){f&&v(t),qt(h,f),e[13](null),qt(M,f),u=!1,c()}}}function Yo(e){for(const t of e)t.children&&Yo(t.children),t.hidden=!0}function Oo(e,t=!1){for(const n of e)n.children&&Oo(n.children,!n.model.expanded),n.hidden=t}function rd(e,t,n){let s,r;const i=Gn();let{tableWidth:o}=t,{paddingTop:a}=t,{rowContainerHeight:l}=t,{visibleRows:u}=t,{tableHeaders:c=[{title:"Name",property:"label",width:100}]}=t;const{headerHeight:b,bottomScrollbarVisible:h}=ve("dimensions");Z(e,b,m=>n(6,s=m)),Z(e,h,m=>n(7,r=m)),ve("options"),ve("dataStore");const{scrollables:T,updateLayout:M}=ve("gantt");_o(()=>{i("init",{module:void 0})});let S;function f(m){T.push({node:m,orientation:"vertical"});function I(L){n(5,S.scrollLeft=m.scrollLeft,S)}return m.addEventListener("scroll",I),{destroy(){m.removeEventListener("scroll",I)}}}function w(m){const I=m.detail.row;I.model.expanded=!0,I.children&&Oo(I.children),M()}function g(m){const I=m.detail.row;I.model.expanded=!1,I.children&&Yo(I.children),M()}function _(m){An[m?"unshift":"push"](()=>{S=m,n(5,S)})}return e.$$set=m=>{"tableWidth"in m&&n(0,o=m.tableWidth),"paddingTop"in m&&n(1,a=m.paddingTop),"rowContainerHeight"in m&&n(2,l=m.rowContainerHeight),"visibleRows"in m&&n(3,u=m.visibleRows),"tableHeaders"in m&&n(4,c=m.tableHeaders)},e.$$.update=()=>{if(e.$$.dirty&16){let m=0;c.forEach(I=>{m+=I.width})}},[o,a,l,u,c,S,s,r,b,h,f,w,g,_]}class id extends Be{constructor(t){super(),Ge(this,t,rd,sd,Ve,{tableWidth:0,paddingTop:1,rowContainerHeight:2,visibleRows:3,tableHeaders:4})}}var od=id;class ad{constructor(t){ls(this,"moment");this.moment=t}format(t,n){return this.moment(t).format(n)}roundTo(t,n,s){const r=this.moment(t);return ld(r,s,n),r.valueOf()}}const oo={hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function ld(e,t,n,s="round"){t===1&&n==="day"&&(t=24,n="hours"),oo[n]&&(n=oo[n]);const r={hours:24,minutes:60,seconds:60,milliseconds:1e3};r[n]||console.warn(`Rounding dates by ${n} is not supported`);let i=0,o=!1,a=1,l;for(const u in r)u===n?(i=e.get(n),l=r[u],o=!0):o&&(a*=r[u],i+=e.get(u)/a,e.set(u,0));return i=Math[s](i/t)*t,i=Math.min(i,l),e.set(n,i),e}const ym=Au;//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Co;function O(){return Co.apply(null,arguments)}function ud(e){Co=e}function at(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function un(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function se(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function br(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(se(e,t))return!1;return!0}function Ue(e){return e===void 0}function Et(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function jn(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Ro(e,t){var n=[],s,r=e.length;for(s=0;s<r;++s)n.push(t(e[s],s));return n}function Bt(e,t){for(var n in t)se(t,n)&&(e[n]=t[n]);return se(t,"toString")&&(e.toString=t.toString),se(t,"valueOf")&&(e.valueOf=t.valueOf),e}function bt(e,t,n,s){return $o(e,t,n,s,!0).utc()}function dd(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function x(e){return e._pf==null&&(e._pf=dd()),e._pf}var or;Array.prototype.some?or=Array.prototype.some:or=function(e){var t=Object(this),n=t.length>>>0,s;for(s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};function Dr(e){var t=null,n=!1,s=e._d&&!isNaN(e._d.getTime());if(s&&(t=x(e),n=or.call(t.parsedDateParts,function(r){return r!=null}),s=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(s=s&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=s;else return s;return e._isValid}function Os(e){var t=bt(NaN);return e!=null?Bt(x(t),e):x(t).userInvalidated=!0,t}var ao=O.momentProperties=[],tr=!1;function pr(e,t){var n,s,r,i=ao.length;if(Ue(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Ue(t._i)||(e._i=t._i),Ue(t._f)||(e._f=t._f),Ue(t._l)||(e._l=t._l),Ue(t._strict)||(e._strict=t._strict),Ue(t._tzm)||(e._tzm=t._tzm),Ue(t._isUTC)||(e._isUTC=t._isUTC),Ue(t._offset)||(e._offset=t._offset),Ue(t._pf)||(e._pf=x(t)),Ue(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)s=ao[n],r=t[s],Ue(r)||(e[s]=r);return e}function qn(e){pr(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),tr===!1&&(tr=!0,O.updateOffset(this),tr=!1)}function lt(e){return e instanceof qn||e!=null&&e._isAMomentObject!=null}function Po(e){O.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function rt(e,t){var n=!0;return Bt(function(){if(O.deprecationHandler!=null&&O.deprecationHandler(null,e),n){var s=[],r,i,o,a=arguments.length;for(i=0;i<a;i++){if(r="",typeof arguments[i]=="object"){r+=`
[`+i+"] ";for(o in arguments[0])se(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[i];s.push(r)}Po(e+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var lo={};function Wo(e,t){O.deprecationHandler!=null&&O.deprecationHandler(e,t),lo[e]||(Po(t),lo[e]=!0)}O.suppressDeprecationWarnings=!1;O.deprecationHandler=null;function Dt(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function cd(e){var t,n;for(n in e)se(e,n)&&(t=e[n],Dt(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ar(e,t){var n=Bt({},e),s;for(s in t)se(t,s)&&(un(e[s])&&un(t[s])?(n[s]={},Bt(n[s],e[s]),Bt(n[s],t[s])):t[s]!=null?n[s]=t[s]:delete n[s]);for(s in e)se(e,s)&&!se(t,s)&&un(e[s])&&(n[s]=Bt({},n[s]));return n}function Sr(e){e!=null&&this.set(e)}var lr;Object.keys?lr=Object.keys:lr=function(e){var t,n=[];for(t in e)se(e,t)&&n.push(t);return n};var fd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function hd(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return Dt(s)?s.call(t,n):s}function vt(e,t,n){var s=""+Math.abs(e),r=t-s.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+s}var Mr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,fs=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,nr={},kn={};function E(e,t,n,s){var r=s;typeof s=="string"&&(r=function(){return this[s]()}),e&&(kn[e]=r),t&&(kn[t[0]]=function(){return vt(r.apply(this,arguments),t[1],t[2])}),n&&(kn[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function md(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function gd(e){var t=e.match(Mr),n,s;for(n=0,s=t.length;n<s;n++)kn[t[n]]?t[n]=kn[t[n]]:t[n]=md(t[n]);return function(r){var i="",o;for(o=0;o<s;o++)i+=Dt(t[o])?t[o].call(r,e):t[o];return i}}function _s(e,t){return e.isValid()?(t=Eo(t,e.localeData()),nr[t]=nr[t]||gd(t),nr[t](e)):e.localeData().invalidDate()}function Eo(e,t){var n=5;function s(r){return t.longDateFormat(r)||r}for(fs.lastIndex=0;n>=0&&fs.test(e);)e=e.replace(fs,s),fs.lastIndex=0,n-=1;return e}var _d={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function wd(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Mr).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[e])}var yd="Invalid date";function kd(){return this._invalidDate}var vd="%d",bd=/\d{1,2}/;function Dd(e){return this._ordinal.replace("%d",e)}var pd={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Sd(e,t,n,s){var r=this._relativeTime[n];return Dt(r)?r(e,t,n,s):r.replace(/%d/i,e)}function Md(e,t){var n=this._relativeTime[e>0?"future":"past"];return Dt(n)?n(t):n.replace(/%s/i,t)}var uo={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function it(e){return typeof e=="string"?uo[e]||uo[e.toLowerCase()]:void 0}function Tr(e){var t={},n,s;for(s in e)se(e,s)&&(n=it(s),n&&(t[n]=e[s]));return t}var Td={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Yd(e){var t=[],n;for(n in e)se(e,n)&&t.push({unit:n,priority:Td[n]});return t.sort(function(s,r){return s.priority-r.priority}),t}var Ho=/\d/,Xe=/\d\d/,Io=/\d{3}/,Yr=/\d{4}/,Cs=/[+-]?\d{6}/,he=/\d\d?/,Lo=/\d\d\d\d?/,No=/\d\d\d\d\d\d?/,Rs=/\d{1,3}/,Or=/\d{1,4}/,Ps=/[+-]?\d{1,6}/,Dn=/\d+/,Ws=/[+-]?\d+/,Od=/Z|[+-]\d\d:?\d\d/gi,Es=/Z|[+-]\d\d(?::?\d\d)?/gi,Cd=/[+-]?\d+(\.\d{1,3})?/,Zn=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,pn=/^[1-9]\d?/,Cr=/^([1-9]\d|\d)/,ps;ps={};function P(e,t,n){ps[e]=Dt(t)?t:function(s,r){return s&&n?n:t}}function Rd(e,t){return se(ps,e)?ps[e](t._strict,t._locale):new RegExp(Pd(e))}function Pd(e){return Rt(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,s,r,i){return n||s||r||i}))}function Rt(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function tt(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Q(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=tt(t)),n}var ur={};function ae(e,t){var n,s=t,r;for(typeof e=="string"&&(e=[e]),Et(t)&&(s=function(i,o){o[t]=Q(i)}),r=e.length,n=0;n<r;n++)ur[e[n]]=s}function Xn(e,t){ae(e,function(n,s,r,i){r._w=r._w||{},t(n,r._w,r,i)})}function Wd(e,t,n){t!=null&&se(ur,e)&&ur[e](t,n._a,n,e)}function Hs(e){return e%4===0&&e%100!==0||e%400===0}var Ne=0,Ot=1,kt=2,Re=3,ot=4,Ct=5,ln=6,Ed=7,Hd=8;E("Y",0,0,function(){var e=this.year();return e<=9999?vt(e,4):"+"+e});E(0,["YY",2],0,function(){return this.year()%100});E(0,["YYYY",4],0,"year");E(0,["YYYYY",5],0,"year");E(0,["YYYYYY",6,!0],0,"year");P("Y",Ws);P("YY",he,Xe);P("YYYY",Or,Yr);P("YYYYY",Ps,Cs);P("YYYYYY",Ps,Cs);ae(["YYYYY","YYYYYY"],Ne);ae("YYYY",function(e,t){t[Ne]=e.length===2?O.parseTwoDigitYear(e):Q(e)});ae("YY",function(e,t){t[Ne]=O.parseTwoDigitYear(e)});ae("Y",function(e,t){t[Ne]=parseInt(e,10)});function Fn(e){return Hs(e)?366:365}O.parseTwoDigitYear=function(e){return Q(e)+(Q(e)>68?1900:2e3)};var Ao=Sn("FullYear",!0);function Id(){return Hs(this.year())}function Sn(e,t){return function(n){return n!=null?(Fo(this,e,n),O.updateOffset(this,t),this):Un(this,e)}}function Un(e,t){if(!e.isValid())return NaN;var n=e._d,s=e._isUTC;switch(t){case"Milliseconds":return s?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return s?n.getUTCSeconds():n.getSeconds();case"Minutes":return s?n.getUTCMinutes():n.getMinutes();case"Hours":return s?n.getUTCHours():n.getHours();case"Date":return s?n.getUTCDate():n.getDate();case"Day":return s?n.getUTCDay():n.getDay();case"Month":return s?n.getUTCMonth():n.getMonth();case"FullYear":return s?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Fo(e,t,n){var s,r,i,o,a;if(!(!e.isValid()||isNaN(n))){switch(s=e._d,r=e._isUTC,t){case"Milliseconds":return void(r?s.setUTCMilliseconds(n):s.setMilliseconds(n));case"Seconds":return void(r?s.setUTCSeconds(n):s.setSeconds(n));case"Minutes":return void(r?s.setUTCMinutes(n):s.setMinutes(n));case"Hours":return void(r?s.setUTCHours(n):s.setHours(n));case"Date":return void(r?s.setUTCDate(n):s.setDate(n));case"FullYear":break;default:return}i=n,o=e.month(),a=e.date(),a=a===29&&o===1&&!Hs(i)?28:a,r?s.setUTCFullYear(i,o,a):s.setFullYear(i,o,a)}}function Ld(e){return e=it(e),Dt(this[e])?this[e]():this}function Nd(e,t){if(typeof e=="object"){e=Tr(e);var n=Yd(e),s,r=n.length;for(s=0;s<r;s++)this[n[s].unit](e[n[s].unit])}else if(e=it(e),Dt(this[e]))return this[e](t);return this}function Ad(e,t){return(e%t+t)%t}var Ye;Array.prototype.indexOf?Ye=Array.prototype.indexOf:Ye=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Rr(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Ad(t,12);return e+=(t-n)/12,n===1?Hs(e)?29:28:31-n%7%2}E("M",["MM",2],"Mo",function(){return this.month()+1});E("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});E("MMMM",0,0,function(e){return this.localeData().months(this,e)});P("M",he,pn);P("MM",he,Xe);P("MMM",function(e,t){return t.monthsShortRegex(e)});P("MMMM",function(e,t){return t.monthsRegex(e)});ae(["M","MM"],function(e,t){t[Ot]=Q(e)-1});ae(["MMM","MMMM"],function(e,t,n,s){var r=n._locale.monthsParse(e,s,n._strict);r!=null?t[Ot]=r:x(n).invalidMonth=e});var Fd="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Uo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),zo=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ud=Zn,zd=Zn;function Vd(e,t){return e?at(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||zo).test(t)?"format":"standalone"][e.month()]:at(this._months)?this._months:this._months.standalone}function Bd(e,t){return e?at(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[zo.test(t)?"format":"standalone"][e.month()]:at(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Gd(e,t,n){var s,r,i,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)i=bt([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(r=Ye.call(this._shortMonthsParse,o),r!==-1?r:null):(r=Ye.call(this._longMonthsParse,o),r!==-1?r:null):t==="MMM"?(r=Ye.call(this._shortMonthsParse,o),r!==-1?r:(r=Ye.call(this._longMonthsParse,o),r!==-1?r:null)):(r=Ye.call(this._longMonthsParse,o),r!==-1?r:(r=Ye.call(this._shortMonthsParse,o),r!==-1?r:null))}function xd(e,t,n){var s,r,i;if(this._monthsParseExact)return Gd.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(r=bt([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!n&&!this._monthsParse[s]&&(i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[s]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[s].test(e))return s;if(n&&t==="MMM"&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}}function Vo(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Q(t);else if(t=e.localeData().monthsParse(t),!Et(t))return e}var n=t,s=e.date();return s=s<29?s:Math.min(s,Rr(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,s):e._d.setMonth(n,s),e}function Bo(e){return e!=null?(Vo(this,e),O.updateOffset(this,!0),this):Un(this,"Month")}function jd(){return Rr(this.year(),this.month())}function qd(e){return this._monthsParseExact?(se(this,"_monthsRegex")||Go.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(se(this,"_monthsShortRegex")||(this._monthsShortRegex=Ud),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Zd(e){return this._monthsParseExact?(se(this,"_monthsRegex")||Go.call(this),e?this._monthsStrictRegex:this._monthsRegex):(se(this,"_monthsRegex")||(this._monthsRegex=zd),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Go(){function e(l,u){return u.length-l.length}var t=[],n=[],s=[],r,i,o,a;for(r=0;r<12;r++)i=bt([2e3,r]),o=Rt(this.monthsShort(i,"")),a=Rt(this.months(i,"")),t.push(o),n.push(a),s.push(a),s.push(o);t.sort(e),n.sort(e),s.sort(e),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Xd(e,t,n,s,r,i,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,s,r,i,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,s,r,i,o),a}function zn(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ss(e,t,n){var s=7+t-n,r=(7+zn(e,0,s).getUTCDay()-t)%7;return-r+s-1}function xo(e,t,n,s,r){var i=(7+n-s)%7,o=Ss(e,s,r),a=1+7*(t-1)+i+o,l,u;return a<=0?(l=e-1,u=Fn(l)+a):a>Fn(e)?(l=e+1,u=a-Fn(e)):(l=e,u=a),{year:l,dayOfYear:u}}function Vn(e,t,n){var s=Ss(e.year(),t,n),r=Math.floor((e.dayOfYear()-s-1)/7)+1,i,o;return r<1?(o=e.year()-1,i=r+Pt(o,t,n)):r>Pt(e.year(),t,n)?(i=r-Pt(e.year(),t,n),o=e.year()+1):(o=e.year(),i=r),{week:i,year:o}}function Pt(e,t,n){var s=Ss(e,t,n),r=Ss(e+1,t,n);return(Fn(e)-s+r)/7}E("w",["ww",2],"wo","week");E("W",["WW",2],"Wo","isoWeek");P("w",he,pn);P("ww",he,Xe);P("W",he,pn);P("WW",he,Xe);Xn(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=Q(e)});function Qd(e){return Vn(e,this._week.dow,this._week.doy).week}var Jd={dow:0,doy:6};function Kd(){return this._week.dow}function $d(){return this._week.doy}function ec(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function tc(e){var t=Vn(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}E("d",0,"do","day");E("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});E("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});E("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});E("e",0,0,"weekday");E("E",0,0,"isoWeekday");P("d",he);P("e",he);P("E",he);P("dd",function(e,t){return t.weekdaysMinRegex(e)});P("ddd",function(e,t){return t.weekdaysShortRegex(e)});P("dddd",function(e,t){return t.weekdaysRegex(e)});Xn(["dd","ddd","dddd"],function(e,t,n,s){var r=n._locale.weekdaysParse(e,s,n._strict);r!=null?t.d=r:x(n).invalidWeekday=e});Xn(["d","e","E"],function(e,t,n,s){t[s]=Q(e)});function nc(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function sc(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pr(e,t){return e.slice(t,7).concat(e.slice(0,t))}var rc="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),jo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ic="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),oc=Zn,ac=Zn,lc=Zn;function uc(e,t){var n=at(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Pr(n,this._week.dow):e?n[e.day()]:n}function dc(e){return e===!0?Pr(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function cc(e){return e===!0?Pr(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function fc(e,t,n){var s,r,i,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)i=bt([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(r=Ye.call(this._weekdaysParse,o),r!==-1?r:null):t==="ddd"?(r=Ye.call(this._shortWeekdaysParse,o),r!==-1?r:null):(r=Ye.call(this._minWeekdaysParse,o),r!==-1?r:null):t==="dddd"?(r=Ye.call(this._weekdaysParse,o),r!==-1||(r=Ye.call(this._shortWeekdaysParse,o),r!==-1)?r:(r=Ye.call(this._minWeekdaysParse,o),r!==-1?r:null)):t==="ddd"?(r=Ye.call(this._shortWeekdaysParse,o),r!==-1||(r=Ye.call(this._weekdaysParse,o),r!==-1)?r:(r=Ye.call(this._minWeekdaysParse,o),r!==-1?r:null)):(r=Ye.call(this._minWeekdaysParse,o),r!==-1||(r=Ye.call(this._weekdaysParse,o),r!==-1)?r:(r=Ye.call(this._shortWeekdaysParse,o),r!==-1?r:null))}function hc(e,t,n){var s,r,i;if(this._weekdaysParseExact)return fc.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(r=bt([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(i="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[s]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[s].test(e))return s;if(n&&t==="ddd"&&this._shortWeekdaysParse[s].test(e))return s;if(n&&t==="dd"&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}}function mc(e){if(!this.isValid())return e!=null?this:NaN;var t=Un(this,"Day");return e!=null?(e=nc(e,this.localeData()),this.add(e-t,"d")):t}function gc(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function _c(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=sc(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function wc(e){return this._weekdaysParseExact?(se(this,"_weekdaysRegex")||Wr.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(se(this,"_weekdaysRegex")||(this._weekdaysRegex=oc),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function yc(e){return this._weekdaysParseExact?(se(this,"_weekdaysRegex")||Wr.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(se(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ac),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function kc(e){return this._weekdaysParseExact?(se(this,"_weekdaysRegex")||Wr.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(se(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=lc),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Wr(){function e(c,b){return b.length-c.length}var t=[],n=[],s=[],r=[],i,o,a,l,u;for(i=0;i<7;i++)o=bt([2e3,1]).day(i),a=Rt(this.weekdaysMin(o,"")),l=Rt(this.weekdaysShort(o,"")),u=Rt(this.weekdays(o,"")),t.push(a),n.push(l),s.push(u),r.push(a),r.push(l),r.push(u);t.sort(e),n.sort(e),s.sort(e),r.sort(e),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Er(){return this.hours()%12||12}function vc(){return this.hours()||24}E("H",["HH",2],0,"hour");E("h",["hh",2],0,Er);E("k",["kk",2],0,vc);E("hmm",0,0,function(){return""+Er.apply(this)+vt(this.minutes(),2)});E("hmmss",0,0,function(){return""+Er.apply(this)+vt(this.minutes(),2)+vt(this.seconds(),2)});E("Hmm",0,0,function(){return""+this.hours()+vt(this.minutes(),2)});E("Hmmss",0,0,function(){return""+this.hours()+vt(this.minutes(),2)+vt(this.seconds(),2)});function qo(e,t){E(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}qo("a",!0);qo("A",!1);function Zo(e,t){return t._meridiemParse}P("a",Zo);P("A",Zo);P("H",he,Cr);P("h",he,pn);P("k",he,pn);P("HH",he,Xe);P("hh",he,Xe);P("kk",he,Xe);P("hmm",Lo);P("hmmss",No);P("Hmm",Lo);P("Hmmss",No);ae(["H","HH"],Re);ae(["k","kk"],function(e,t,n){var s=Q(e);t[Re]=s===24?0:s});ae(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});ae(["h","hh"],function(e,t,n){t[Re]=Q(e),x(n).bigHour=!0});ae("hmm",function(e,t,n){var s=e.length-2;t[Re]=Q(e.substr(0,s)),t[ot]=Q(e.substr(s)),x(n).bigHour=!0});ae("hmmss",function(e,t,n){var s=e.length-4,r=e.length-2;t[Re]=Q(e.substr(0,s)),t[ot]=Q(e.substr(s,2)),t[Ct]=Q(e.substr(r)),x(n).bigHour=!0});ae("Hmm",function(e,t,n){var s=e.length-2;t[Re]=Q(e.substr(0,s)),t[ot]=Q(e.substr(s))});ae("Hmmss",function(e,t,n){var s=e.length-4,r=e.length-2;t[Re]=Q(e.substr(0,s)),t[ot]=Q(e.substr(s,2)),t[Ct]=Q(e.substr(r))});function bc(e){return(e+"").toLowerCase().charAt(0)==="p"}var Dc=/[ap]\.?m?\.?/i,pc=Sn("Hours",!0);function Sc(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var Xo={calendar:fd,longDateFormat:_d,invalidDate:yd,ordinal:vd,dayOfMonthOrdinalParse:bd,relativeTime:pd,months:Fd,monthsShort:Uo,week:Jd,weekdays:rc,weekdaysMin:ic,weekdaysShort:jo,meridiemParse:Dc},we={},Ln={},Bn;function Mc(e,t){var n,s=Math.min(e.length,t.length);for(n=0;n<s;n+=1)if(e[n]!==t[n])return n;return s}function co(e){return e&&e.toLowerCase().replace("_","-")}function Tc(e){for(var t=0,n,s,r,i;t<e.length;){for(i=co(e[t]).split("-"),n=i.length,s=co(e[t+1]),s=s?s.split("-"):null;n>0;){if(r=Is(i.slice(0,n).join("-")),r)return r;if(s&&s.length>=n&&Mc(i,s)>=n-1)break;n--}t++}return Bn}function Yc(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Is(e){var t=null,n;if(we[e]===void 0&&typeof module<"u"&&module&&module.exports&&Yc(e))try{t=Bn._abbr,n=require,n("./locale/"+e),jt(t)}catch{we[e]=null}return we[e]}function jt(e,t){var n;return e&&(Ue(t)?n=Ht(e):n=Hr(e,t),n?Bn=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Bn._abbr}function Hr(e,t){if(t!==null){var n,s=Xo;if(t.abbr=e,we[e]!=null)Wo("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=we[e]._config;else if(t.parentLocale!=null)if(we[t.parentLocale]!=null)s=we[t.parentLocale]._config;else if(n=Is(t.parentLocale),n!=null)s=n._config;else return Ln[t.parentLocale]||(Ln[t.parentLocale]=[]),Ln[t.parentLocale].push({name:e,config:t}),null;return we[e]=new Sr(ar(s,t)),Ln[e]&&Ln[e].forEach(function(r){Hr(r.name,r.config)}),jt(e),we[e]}else return delete we[e],null}function Oc(e,t){if(t!=null){var n,s,r=Xo;we[e]!=null&&we[e].parentLocale!=null?we[e].set(ar(we[e]._config,t)):(s=Is(e),s!=null&&(r=s._config),t=ar(r,t),s==null&&(t.abbr=e),n=new Sr(t),n.parentLocale=we[e],we[e]=n),jt(e)}else we[e]!=null&&(we[e].parentLocale!=null?(we[e]=we[e].parentLocale,e===jt()&&jt(e)):we[e]!=null&&delete we[e]);return we[e]}function Ht(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Bn;if(!at(e)){if(t=Is(e),t)return t;e=[e]}return Tc(e)}function Cc(){return lr(we)}function Ir(e){var t,n=e._a;return n&&x(e).overflow===-2&&(t=n[Ot]<0||n[Ot]>11?Ot:n[kt]<1||n[kt]>Rr(n[Ne],n[Ot])?kt:n[Re]<0||n[Re]>24||n[Re]===24&&(n[ot]!==0||n[Ct]!==0||n[ln]!==0)?Re:n[ot]<0||n[ot]>59?ot:n[Ct]<0||n[Ct]>59?Ct:n[ln]<0||n[ln]>999?ln:-1,x(e)._overflowDayOfYear&&(t<Ne||t>kt)&&(t=kt),x(e)._overflowWeeks&&t===-1&&(t=Ed),x(e)._overflowWeekday&&t===-1&&(t=Hd),x(e).overflow=t),e}var Rc=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Pc=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Wc=/Z|[+-]\d\d(?::?\d\d)?/,hs=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],sr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ec=/^\/?Date\((-?\d+)/i,Hc=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ic={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Qo(e){var t,n,s=e._i,r=Rc.exec(s)||Pc.exec(s),i,o,a,l,u=hs.length,c=sr.length;if(r){for(x(e).iso=!0,t=0,n=u;t<n;t++)if(hs[t][1].exec(r[1])){o=hs[t][0],i=hs[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(r[3]){for(t=0,n=c;t<n;t++)if(sr[t][1].exec(r[3])){a=(r[2]||" ")+sr[t][0];break}if(a==null){e._isValid=!1;return}}if(!i&&a!=null){e._isValid=!1;return}if(r[4])if(Wc.exec(r[4]))l="Z";else{e._isValid=!1;return}e._f=o+(a||"")+(l||""),Nr(e)}else e._isValid=!1}function Lc(e,t,n,s,r,i){var o=[Nc(e),Uo.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(r,10)];return i&&o.push(parseInt(i,10)),o}function Nc(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Ac(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Fc(e,t,n){if(e){var s=jo.indexOf(e),r=new Date(t[0],t[1],t[2]).getDay();if(s!==r)return x(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Uc(e,t,n){if(e)return Ic[e];if(t)return 0;var s=parseInt(n,10),r=s%100,i=(s-r)/100;return i*60+r}function Jo(e){var t=Hc.exec(Ac(e._i)),n;if(t){if(n=Lc(t[4],t[3],t[2],t[5],t[6],t[7]),!Fc(t[1],n,e))return;e._a=n,e._tzm=Uc(t[8],t[9],t[10]),e._d=zn.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),x(e).rfc2822=!0}else e._isValid=!1}function zc(e){var t=Ec.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(Qo(e),e._isValid===!1)delete e._isValid;else return;if(Jo(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:O.createFromInputFallback(e)}O.createFromInputFallback=rt("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function _n(e,t,n){return e??t??n}function Vc(e){var t=new Date(O.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Lr(e){var t,n,s=[],r,i,o;if(!e._d){for(r=Vc(e),e._w&&e._a[kt]==null&&e._a[Ot]==null&&Bc(e),e._dayOfYear!=null&&(o=_n(e._a[Ne],r[Ne]),(e._dayOfYear>Fn(o)||e._dayOfYear===0)&&(x(e)._overflowDayOfYear=!0),n=zn(o,0,e._dayOfYear),e._a[Ot]=n.getUTCMonth(),e._a[kt]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Re]===24&&e._a[ot]===0&&e._a[Ct]===0&&e._a[ln]===0&&(e._nextDay=!0,e._a[Re]=0),e._d=(e._useUTC?zn:Xd).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Re]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(x(e).weekdayMismatch=!0)}}function Bc(e){var t,n,s,r,i,o,a,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,o=4,n=_n(t.GG,e._a[Ne],Vn(fe(),1,4).year),s=_n(t.W,1),r=_n(t.E,1),(r<1||r>7)&&(l=!0)):(i=e._locale._week.dow,o=e._locale._week.doy,u=Vn(fe(),i,o),n=_n(t.gg,e._a[Ne],u.year),s=_n(t.w,u.week),t.d!=null?(r=t.d,(r<0||r>6)&&(l=!0)):t.e!=null?(r=t.e+i,(t.e<0||t.e>6)&&(l=!0)):r=i),s<1||s>Pt(n,i,o)?x(e)._overflowWeeks=!0:l!=null?x(e)._overflowWeekday=!0:(a=xo(n,s,r,i,o),e._a[Ne]=a.year,e._dayOfYear=a.dayOfYear)}O.ISO_8601=function(){};O.RFC_2822=function(){};function Nr(e){if(e._f===O.ISO_8601){Qo(e);return}if(e._f===O.RFC_2822){Jo(e);return}e._a=[],x(e).empty=!0;var t=""+e._i,n,s,r,i,o,a=t.length,l=0,u,c;for(r=Eo(e._f,e._locale).match(Mr)||[],c=r.length,n=0;n<c;n++)i=r[n],s=(t.match(Rd(i,e))||[])[0],s&&(o=t.substr(0,t.indexOf(s)),o.length>0&&x(e).unusedInput.push(o),t=t.slice(t.indexOf(s)+s.length),l+=s.length),kn[i]?(s?x(e).empty=!1:x(e).unusedTokens.push(i),Wd(i,s,e)):e._strict&&!s&&x(e).unusedTokens.push(i);x(e).charsLeftOver=a-l,t.length>0&&x(e).unusedInput.push(t),e._a[Re]<=12&&x(e).bigHour===!0&&e._a[Re]>0&&(x(e).bigHour=void 0),x(e).parsedDateParts=e._a.slice(0),x(e).meridiem=e._meridiem,e._a[Re]=Gc(e._locale,e._a[Re],e._meridiem),u=x(e).era,u!==null&&(e._a[Ne]=e._locale.erasConvertYear(u,e._a[Ne])),Lr(e),Ir(e)}function Gc(e,t,n){var s;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(s=e.isPM(n),s&&t<12&&(t+=12),!s&&t===12&&(t=0)),t)}function xc(e){var t,n,s,r,i,o,a=!1,l=e._f.length;if(l===0){x(e).invalidFormat=!0,e._d=new Date(NaN);return}for(r=0;r<l;r++)i=0,o=!1,t=pr({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[r],Nr(t),Dr(t)&&(o=!0),i+=x(t).charsLeftOver,i+=x(t).unusedTokens.length*10,x(t).score=i,a?i<s&&(s=i,n=t):(s==null||i<s||o)&&(s=i,n=t,o&&(a=!0));Bt(e,n||t)}function jc(e){if(!e._d){var t=Tr(e._i),n=t.day===void 0?t.date:t.day;e._a=Ro([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(s){return s&&parseInt(s,10)}),Lr(e)}}function qc(e){var t=new qn(Ir(Ko(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Ko(e){var t=e._i,n=e._f;return e._locale=e._locale||Ht(e._l),t===null||n===void 0&&t===""?Os({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),lt(t)?new qn(Ir(t)):(jn(t)?e._d=t:at(n)?xc(e):n?Nr(e):Zc(e),Dr(e)||(e._d=null),e))}function Zc(e){var t=e._i;Ue(t)?e._d=new Date(O.now()):jn(t)?e._d=new Date(t.valueOf()):typeof t=="string"?zc(e):at(t)?(e._a=Ro(t.slice(0),function(n){return parseInt(n,10)}),Lr(e)):un(t)?jc(e):Et(t)?e._d=new Date(t):O.createFromInputFallback(e)}function $o(e,t,n,s,r){var i={};return(t===!0||t===!1)&&(s=t,t=void 0),(n===!0||n===!1)&&(s=n,n=void 0),(un(e)&&br(e)||at(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=r,i._l=n,i._i=e,i._f=t,i._strict=s,qc(i)}function fe(e,t,n,s){return $o(e,t,n,s,!1)}var Xc=rt("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=fe.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Os()}),Qc=rt("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=fe.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Os()});function ea(e,t){var n,s;if(t.length===1&&at(t[0])&&(t=t[0]),!t.length)return fe();for(n=t[0],s=1;s<t.length;++s)(!t[s].isValid()||t[s][e](n))&&(n=t[s]);return n}function Jc(){var e=[].slice.call(arguments,0);return ea("isBefore",e)}function Kc(){var e=[].slice.call(arguments,0);return ea("isAfter",e)}var $c=function(){return Date.now?Date.now():+new Date},Nn=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ef(e){var t,n=!1,s,r=Nn.length;for(t in e)if(se(e,t)&&!(Ye.call(Nn,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(s=0;s<r;++s)if(e[Nn[s]]){if(n)return!1;parseFloat(e[Nn[s]])!==Q(e[Nn[s]])&&(n=!0)}return!0}function tf(){return this._isValid}function nf(){return ut(NaN)}function Ls(e){var t=Tr(e),n=t.year||0,s=t.quarter||0,r=t.month||0,i=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=ef(t),this._milliseconds=+c+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+i*7,this._months=+r+s*3+n*12,this._data={},this._locale=Ht(),this._bubble()}function ws(e){return e instanceof Ls}function dr(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function sf(e,t,n){var s=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),i=0,o;for(o=0;o<s;o++)Q(e[o])!==Q(t[o])&&i++;return i+r}function ta(e,t){E(e,0,0,function(){var n=this.utcOffset(),s="+";return n<0&&(n=-n,s="-"),s+vt(~~(n/60),2)+t+vt(~~n%60,2)})}ta("Z",":");ta("ZZ","");P("Z",Es);P("ZZ",Es);ae(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ar(Es,e)});var rf=/([\+\-]|\d\d)/gi;function Ar(e,t){var n=(t||"").match(e),s,r,i;return n===null?null:(s=n[n.length-1]||[],r=(s+"").match(rf)||["-",0,0],i=+(r[1]*60)+Q(r[2]),i===0?0:r[0]==="+"?i:-i)}function Fr(e,t){var n,s;return t._isUTC?(n=t.clone(),s=(lt(e)||jn(e)?e.valueOf():fe(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),O.updateOffset(n,!1),n):fe(e).local()}function cr(e){return-Math.round(e._d.getTimezoneOffset())}O.updateOffset=function(){};function of(e,t,n){var s=this._offset||0,r;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Ar(Es,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(r=cr(this)),this._offset=e,this._isUTC=!0,r!=null&&this.add(r,"m"),s!==e&&(!t||this._changeInProgress?ra(this,ut(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,O.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:cr(this)}function af(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function lf(e){return this.utcOffset(0,e)}function uf(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(cr(this),"m")),this}function df(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Ar(Od,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function cf(e){return this.isValid()?(e=e?fe(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function ff(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function hf(){if(!Ue(this._isDSTShifted))return this._isDSTShifted;var e={},t;return pr(e,this),e=Ko(e),e._a?(t=e._isUTC?bt(e._a):fe(e._a),this._isDSTShifted=this.isValid()&&sf(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function mf(){return this.isValid()?!this._isUTC:!1}function gf(){return this.isValid()?this._isUTC:!1}function na(){return this.isValid()?this._isUTC&&this._offset===0:!1}var _f=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,wf=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ut(e,t){var n=e,s=null,r,i,o;return ws(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Et(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(s=_f.exec(e))?(r=s[1]==="-"?-1:1,n={y:0,d:Q(s[kt])*r,h:Q(s[Re])*r,m:Q(s[ot])*r,s:Q(s[Ct])*r,ms:Q(dr(s[ln]*1e3))*r}):(s=wf.exec(e))?(r=s[1]==="-"?-1:1,n={y:on(s[2],r),M:on(s[3],r),w:on(s[4],r),d:on(s[5],r),h:on(s[6],r),m:on(s[7],r),s:on(s[8],r)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=yf(fe(n.from),fe(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),i=new Ls(n),ws(e)&&se(e,"_locale")&&(i._locale=e._locale),ws(e)&&se(e,"_isValid")&&(i._isValid=e._isValid),i}ut.fn=Ls.prototype;ut.invalid=nf;function on(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function fo(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function yf(e,t){var n;return e.isValid()&&t.isValid()?(t=Fr(t,e),e.isBefore(t)?n=fo(e,t):(n=fo(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function sa(e,t){return function(n,s){var r,i;return s!==null&&!isNaN(+s)&&(Wo(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=s,s=i),r=ut(n,s),ra(this,r,e),this}}function ra(e,t,n,s){var r=t._milliseconds,i=dr(t._days),o=dr(t._months);e.isValid()&&(s=s??!0,o&&Vo(e,Un(e,"Month")+o*n),i&&Fo(e,"Date",Un(e,"Date")+i*n),r&&e._d.setTime(e._d.valueOf()+r*n),s&&O.updateOffset(e,i||o))}var kf=sa(1,"add"),vf=sa(-1,"subtract");function ia(e){return typeof e=="string"||e instanceof String}function bf(e){return lt(e)||jn(e)||ia(e)||Et(e)||pf(e)||Df(e)||e===null||e===void 0}function Df(e){var t=un(e)&&!br(e),n=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,i,o=s.length;for(r=0;r<o;r+=1)i=s[r],n=n||se(e,i);return t&&n}function pf(e){var t=at(e),n=!1;return t&&(n=e.filter(function(s){return!Et(s)&&ia(e)}).length===0),t&&n}function Sf(e){var t=un(e)&&!br(e),n=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,i;for(r=0;r<s.length;r+=1)i=s[r],n=n||se(e,i);return t&&n}function Mf(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Tf(e,t){arguments.length===1&&(arguments[0]?bf(arguments[0])?(e=arguments[0],t=void 0):Sf(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||fe(),s=Fr(n,this).startOf("day"),r=O.calendarFormat(this,s)||"sameElse",i=t&&(Dt(t[r])?t[r].call(this,n):t[r]);return this.format(i||this.localeData().calendar(r,this,fe(n)))}function Yf(){return new qn(this)}function Of(e,t){var n=lt(e)?e:fe(e);return this.isValid()&&n.isValid()?(t=it(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function Cf(e,t){var n=lt(e)?e:fe(e);return this.isValid()&&n.isValid()?(t=it(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function Rf(e,t,n,s){var r=lt(e)?e:fe(e),i=lt(t)?t:fe(t);return this.isValid()&&r.isValid()&&i.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(r,n):!this.isBefore(r,n))&&(s[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function Pf(e,t){var n=lt(e)?e:fe(e),s;return this.isValid()&&n.isValid()?(t=it(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(s=n.valueOf(),this.clone().startOf(t).valueOf()<=s&&s<=this.clone().endOf(t).valueOf())):!1}function Wf(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Ef(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Hf(e,t,n){var s,r,i;if(!this.isValid())return NaN;if(s=Fr(e,this),!s.isValid())return NaN;switch(r=(s.utcOffset()-this.utcOffset())*6e4,t=it(t),t){case"year":i=ys(this,s)/12;break;case"month":i=ys(this,s);break;case"quarter":i=ys(this,s)/3;break;case"second":i=(this-s)/1e3;break;case"minute":i=(this-s)/6e4;break;case"hour":i=(this-s)/36e5;break;case"day":i=(this-s-r)/864e5;break;case"week":i=(this-s-r)/6048e5;break;default:i=this-s}return n?i:tt(i)}function ys(e,t){if(e.date()<t.date())return-ys(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),s=e.clone().add(n,"months"),r,i;return t-s<0?(r=e.clone().add(n-1,"months"),i=(t-s)/(s-r)):(r=e.clone().add(n+1,"months"),i=(t-s)/(r-s)),-(n+i)||0}O.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";O.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function If(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Lf(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?_s(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Dt(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",_s(n,"Z")):_s(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Nf(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,s,r,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+s+r+i)}function Af(e){e||(e=this.isUtc()?O.defaultFormatUtc:O.defaultFormat);var t=_s(this,e);return this.localeData().postformat(t)}function Ff(e,t){return this.isValid()&&(lt(e)&&e.isValid()||fe(e).isValid())?ut({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Uf(e){return this.from(fe(),e)}function zf(e,t){return this.isValid()&&(lt(e)&&e.isValid()||fe(e).isValid())?ut({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Vf(e){return this.to(fe(),e)}function oa(e){var t;return e===void 0?this._locale._abbr:(t=Ht(e),t!=null&&(this._locale=t),this)}var aa=rt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function la(){return this._locale}var Ms=1e3,vn=60*Ms,Ts=60*vn,ua=(365*400+97)*24*Ts;function bn(e,t){return(e%t+t)%t}function da(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-ua:new Date(e,t,n).valueOf()}function ca(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-ua:Date.UTC(e,t,n)}function Bf(e){var t,n;if(e=it(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?ca:da,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=bn(t+(this._isUTC?0:this.utcOffset()*vn),Ts);break;case"minute":t=this._d.valueOf(),t-=bn(t,vn);break;case"second":t=this._d.valueOf(),t-=bn(t,Ms);break}return this._d.setTime(t),O.updateOffset(this,!0),this}function Gf(e){var t,n;if(e=it(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?ca:da,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Ts-bn(t+(this._isUTC?0:this.utcOffset()*vn),Ts)-1;break;case"minute":t=this._d.valueOf(),t+=vn-bn(t,vn)-1;break;case"second":t=this._d.valueOf(),t+=Ms-bn(t,Ms)-1;break}return this._d.setTime(t),O.updateOffset(this,!0),this}function xf(){return this._d.valueOf()-(this._offset||0)*6e4}function jf(){return Math.floor(this.valueOf()/1e3)}function qf(){return new Date(this.valueOf())}function Zf(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Xf(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Qf(){return this.isValid()?this.toISOString():null}function Jf(){return Dr(this)}function Kf(){return Bt({},x(this))}function $f(){return x(this).overflow}function eh(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}E("N",0,0,"eraAbbr");E("NN",0,0,"eraAbbr");E("NNN",0,0,"eraAbbr");E("NNNN",0,0,"eraName");E("NNNNN",0,0,"eraNarrow");E("y",["y",1],"yo","eraYear");E("y",["yy",2],0,"eraYear");E("y",["yyy",3],0,"eraYear");E("y",["yyyy",4],0,"eraYear");P("N",Ur);P("NN",Ur);P("NNN",Ur);P("NNNN",ch);P("NNNNN",fh);ae(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,s){var r=n._locale.erasParse(e,s,n._strict);r?x(n).era=r:x(n).invalidEra=e});P("y",Dn);P("yy",Dn);P("yyy",Dn);P("yyyy",Dn);P("yo",hh);ae(["y","yy","yyy","yyyy"],Ne);ae(["yo"],function(e,t,n,s){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ne]=n._locale.eraYearOrdinalParse(e,r):t[Ne]=parseInt(e,10)});function th(e,t){var n,s,r,i=this._eras||Ht("en")._eras;for(n=0,s=i.length;n<s;++n){switch(typeof i[n].since){case"string":r=O(i[n].since).startOf("day"),i[n].since=r.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":r=O(i[n].until).startOf("day").valueOf(),i[n].until=r.valueOf();break}}return i}function nh(e,t,n){var s,r,i=this.eras(),o,a,l;for(e=e.toUpperCase(),s=0,r=i.length;s<r;++s)if(o=i[s].name.toUpperCase(),a=i[s].abbr.toUpperCase(),l=i[s].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return i[s];break;case"NNNN":if(o===e)return i[s];break;case"NNNNN":if(l===e)return i[s];break}else if([o,a,l].indexOf(e)>=0)return i[s]}function sh(e,t){var n=e.since<=e.until?1:-1;return t===void 0?O(e.since).year():O(e.since).year()+(t-e.offset)*n}function rh(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return s[e].name;return""}function ih(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return s[e].narrow;return""}function oh(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return s[e].abbr;return""}function ah(){var e,t,n,s,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=r[e].since<=r[e].until?1:-1,s=this.clone().startOf("day").valueOf(),r[e].since<=s&&s<=r[e].until||r[e].until<=s&&s<=r[e].since)return(this.year()-O(r[e].since).year())*n+r[e].offset;return this.year()}function lh(e){return se(this,"_erasNameRegex")||zr.call(this),e?this._erasNameRegex:this._erasRegex}function uh(e){return se(this,"_erasAbbrRegex")||zr.call(this),e?this._erasAbbrRegex:this._erasRegex}function dh(e){return se(this,"_erasNarrowRegex")||zr.call(this),e?this._erasNarrowRegex:this._erasRegex}function Ur(e,t){return t.erasAbbrRegex(e)}function ch(e,t){return t.erasNameRegex(e)}function fh(e,t){return t.erasNarrowRegex(e)}function hh(e,t){return t._eraYearOrdinalRegex||Dn}function zr(){var e=[],t=[],n=[],s=[],r,i,o,a,l,u=this.eras();for(r=0,i=u.length;r<i;++r)o=Rt(u[r].name),a=Rt(u[r].abbr),l=Rt(u[r].narrow),t.push(o),e.push(a),n.push(l),s.push(o),s.push(a),s.push(l);this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}E(0,["gg",2],0,function(){return this.weekYear()%100});E(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ns(e,t){E(0,[e,e.length],0,t)}Ns("gggg","weekYear");Ns("ggggg","weekYear");Ns("GGGG","isoWeekYear");Ns("GGGGG","isoWeekYear");P("G",Ws);P("g",Ws);P("GG",he,Xe);P("gg",he,Xe);P("GGGG",Or,Yr);P("gggg",Or,Yr);P("GGGGG",Ps,Cs);P("ggggg",Ps,Cs);Xn(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=Q(e)});Xn(["gg","GG"],function(e,t,n,s){t[s]=O.parseTwoDigitYear(e)});function mh(e){return fa.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function gh(e){return fa.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function _h(){return Pt(this.year(),1,4)}function wh(){return Pt(this.isoWeekYear(),1,4)}function yh(){var e=this.localeData()._week;return Pt(this.year(),e.dow,e.doy)}function kh(){var e=this.localeData()._week;return Pt(this.weekYear(),e.dow,e.doy)}function fa(e,t,n,s,r){var i;return e==null?Vn(this,s,r).year:(i=Pt(e,s,r),t>i&&(t=i),vh.call(this,e,t,n,s,r))}function vh(e,t,n,s,r){var i=xo(e,t,n,s,r),o=zn(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}E("Q",0,"Qo","quarter");P("Q",Ho);ae("Q",function(e,t){t[Ot]=(Q(e)-1)*3});function bh(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}E("D",["DD",2],"Do","date");P("D",he,pn);P("DD",he,Xe);P("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});ae(["D","DD"],kt);ae("Do",function(e,t){t[kt]=Q(e.match(he)[0])});var ha=Sn("Date",!0);E("DDD",["DDDD",3],"DDDo","dayOfYear");P("DDD",Rs);P("DDDD",Io);ae(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Q(e)});function Dh(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}E("m",["mm",2],0,"minute");P("m",he,Cr);P("mm",he,Xe);ae(["m","mm"],ot);var ph=Sn("Minutes",!1);E("s",["ss",2],0,"second");P("s",he,Cr);P("ss",he,Xe);ae(["s","ss"],Ct);var Sh=Sn("Seconds",!1);E("S",0,0,function(){return~~(this.millisecond()/100)});E(0,["SS",2],0,function(){return~~(this.millisecond()/10)});E(0,["SSS",3],0,"millisecond");E(0,["SSSS",4],0,function(){return this.millisecond()*10});E(0,["SSSSS",5],0,function(){return this.millisecond()*100});E(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});E(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});E(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});E(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});P("S",Rs,Ho);P("SS",Rs,Xe);P("SSS",Rs,Io);var Gt,ma;for(Gt="SSSS";Gt.length<=9;Gt+="S")P(Gt,Dn);function Mh(e,t){t[ln]=Q(("0."+e)*1e3)}for(Gt="S";Gt.length<=9;Gt+="S")ae(Gt,Mh);ma=Sn("Milliseconds",!1);E("z",0,0,"zoneAbbr");E("zz",0,0,"zoneName");function Th(){return this._isUTC?"UTC":""}function Yh(){return this._isUTC?"Coordinated Universal Time":""}var p=qn.prototype;p.add=kf;p.calendar=Tf;p.clone=Yf;p.diff=Hf;p.endOf=Gf;p.format=Af;p.from=Ff;p.fromNow=Uf;p.to=zf;p.toNow=Vf;p.get=Ld;p.invalidAt=$f;p.isAfter=Of;p.isBefore=Cf;p.isBetween=Rf;p.isSame=Pf;p.isSameOrAfter=Wf;p.isSameOrBefore=Ef;p.isValid=Jf;p.lang=aa;p.locale=oa;p.localeData=la;p.max=Qc;p.min=Xc;p.parsingFlags=Kf;p.set=Nd;p.startOf=Bf;p.subtract=vf;p.toArray=Zf;p.toObject=Xf;p.toDate=qf;p.toISOString=Lf;p.inspect=Nf;typeof Symbol<"u"&&Symbol.for!=null&&(p[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});p.toJSON=Qf;p.toString=If;p.unix=jf;p.valueOf=xf;p.creationData=eh;p.eraName=rh;p.eraNarrow=ih;p.eraAbbr=oh;p.eraYear=ah;p.year=Ao;p.isLeapYear=Id;p.weekYear=mh;p.isoWeekYear=gh;p.quarter=p.quarters=bh;p.month=Bo;p.daysInMonth=jd;p.week=p.weeks=ec;p.isoWeek=p.isoWeeks=tc;p.weeksInYear=yh;p.weeksInWeekYear=kh;p.isoWeeksInYear=_h;p.isoWeeksInISOWeekYear=wh;p.date=ha;p.day=p.days=mc;p.weekday=gc;p.isoWeekday=_c;p.dayOfYear=Dh;p.hour=p.hours=pc;p.minute=p.minutes=ph;p.second=p.seconds=Sh;p.millisecond=p.milliseconds=ma;p.utcOffset=of;p.utc=lf;p.local=uf;p.parseZone=df;p.hasAlignedHourOffset=cf;p.isDST=ff;p.isLocal=mf;p.isUtcOffset=gf;p.isUtc=na;p.isUTC=na;p.zoneAbbr=Th;p.zoneName=Yh;p.dates=rt("dates accessor is deprecated. Use date instead.",ha);p.months=rt("months accessor is deprecated. Use month instead",Bo);p.years=rt("years accessor is deprecated. Use year instead",Ao);p.zone=rt("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",af);p.isDSTShifted=rt("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",hf);function Oh(e){return fe(e*1e3)}function Ch(){return fe.apply(null,arguments).parseZone()}function ga(e){return e}var re=Sr.prototype;re.calendar=hd;re.longDateFormat=wd;re.invalidDate=kd;re.ordinal=Dd;re.preparse=ga;re.postformat=ga;re.relativeTime=Sd;re.pastFuture=Md;re.set=cd;re.eras=th;re.erasParse=nh;re.erasConvertYear=sh;re.erasAbbrRegex=uh;re.erasNameRegex=lh;re.erasNarrowRegex=dh;re.months=Vd;re.monthsShort=Bd;re.monthsParse=xd;re.monthsRegex=Zd;re.monthsShortRegex=qd;re.week=Qd;re.firstDayOfYear=$d;re.firstDayOfWeek=Kd;re.weekdays=uc;re.weekdaysMin=cc;re.weekdaysShort=dc;re.weekdaysParse=hc;re.weekdaysRegex=wc;re.weekdaysShortRegex=yc;re.weekdaysMinRegex=kc;re.isPM=bc;re.meridiem=Sc;function Ys(e,t,n,s){var r=Ht(),i=bt().set(s,t);return r[n](i,e)}function _a(e,t,n){if(Et(e)&&(t=e,e=void 0),e=e||"",t!=null)return Ys(e,t,n,"month");var s,r=[];for(s=0;s<12;s++)r[s]=Ys(e,s,n,"month");return r}function Vr(e,t,n,s){typeof e=="boolean"?(Et(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Et(t)&&(n=t,t=void 0),t=t||"");var r=Ht(),i=e?r._week.dow:0,o,a=[];if(n!=null)return Ys(t,(n+i)%7,s,"day");for(o=0;o<7;o++)a[o]=Ys(t,(o+i)%7,s,"day");return a}function Rh(e,t){return _a(e,t,"months")}function Ph(e,t){return _a(e,t,"monthsShort")}function Wh(e,t,n){return Vr(e,t,n,"weekdays")}function Eh(e,t,n){return Vr(e,t,n,"weekdaysShort")}function Hh(e,t,n){return Vr(e,t,n,"weekdaysMin")}jt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Q(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});O.lang=rt("moment.lang is deprecated. Use moment.locale instead.",jt);O.langData=rt("moment.langData is deprecated. Use moment.localeData instead.",Ht);var Tt=Math.abs;function Ih(){var e=this._data;return this._milliseconds=Tt(this._milliseconds),this._days=Tt(this._days),this._months=Tt(this._months),e.milliseconds=Tt(e.milliseconds),e.seconds=Tt(e.seconds),e.minutes=Tt(e.minutes),e.hours=Tt(e.hours),e.months=Tt(e.months),e.years=Tt(e.years),this}function wa(e,t,n,s){var r=ut(t,n);return e._milliseconds+=s*r._milliseconds,e._days+=s*r._days,e._months+=s*r._months,e._bubble()}function Lh(e,t){return wa(this,e,t,1)}function Nh(e,t){return wa(this,e,t,-1)}function ho(e){return e<0?Math.floor(e):Math.ceil(e)}function Ah(){var e=this._milliseconds,t=this._days,n=this._months,s=this._data,r,i,o,a,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=ho(fr(n)+t)*864e5,t=0,n=0),s.milliseconds=e%1e3,r=tt(e/1e3),s.seconds=r%60,i=tt(r/60),s.minutes=i%60,o=tt(i/60),s.hours=o%24,t+=tt(o/24),l=tt(ya(t)),n+=l,t-=ho(fr(l)),a=tt(n/12),n%=12,s.days=t,s.months=n,s.years=a,this}function ya(e){return e*4800/146097}function fr(e){return e*146097/4800}function Fh(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if(e=it(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+s/864e5,n=this._months+ya(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(fr(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return t*24+s/36e5;case"minute":return t*1440+s/6e4;case"second":return t*86400+s/1e3;case"millisecond":return Math.floor(t*864e5)+s;default:throw new Error("Unknown unit "+e)}}function It(e){return function(){return this.as(e)}}var ka=It("ms"),Uh=It("s"),zh=It("m"),Vh=It("h"),Bh=It("d"),Gh=It("w"),xh=It("M"),jh=It("Q"),qh=It("y"),Zh=ka;function Xh(){return ut(this)}function Qh(e){return e=it(e),this.isValid()?this[e+"s"]():NaN}function hn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Jh=hn("milliseconds"),Kh=hn("seconds"),$h=hn("minutes"),em=hn("hours"),tm=hn("days"),nm=hn("months"),sm=hn("years");function rm(){return tt(this.days()/7)}var Yt=Math.round,yn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function im(e,t,n,s,r){return r.relativeTime(t||1,!!n,e,s)}function om(e,t,n,s){var r=ut(e).abs(),i=Yt(r.as("s")),o=Yt(r.as("m")),a=Yt(r.as("h")),l=Yt(r.as("d")),u=Yt(r.as("M")),c=Yt(r.as("w")),b=Yt(r.as("y")),h=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(h=h||c<=1&&["w"]||c<n.w&&["ww",c]),h=h||u<=1&&["M"]||u<n.M&&["MM",u]||b<=1&&["y"]||["yy",b],h[2]=t,h[3]=+e>0,h[4]=s,im.apply(null,h)}function am(e){return e===void 0?Yt:typeof e=="function"?(Yt=e,!0):!1}function lm(e,t){return yn[e]===void 0?!1:t===void 0?yn[e]:(yn[e]=t,e==="s"&&(yn.ss=t-1),!0)}function um(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,s=yn,r,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(s=Object.assign({},yn,t),t.s!=null&&t.ss==null&&(s.ss=t.s-1)),r=this.localeData(),i=om(this,!n,s,r),n&&(i=r.pastFuture(+this,i)),r.postformat(i)}var rr=Math.abs;function gn(e){return(e>0)-(e<0)||+e}function As(){if(!this.isValid())return this.localeData().invalidDate();var e=rr(this._milliseconds)/1e3,t=rr(this._days),n=rr(this._months),s,r,i,o,a=this.asSeconds(),l,u,c,b;return a?(s=tt(e/60),r=tt(s/60),e%=60,s%=60,i=tt(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=gn(this._months)!==gn(a)?"-":"",c=gn(this._days)!==gn(a)?"-":"",b=gn(this._milliseconds)!==gn(a)?"-":"",l+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(t?c+t+"D":"")+(r||s||e?"T":"")+(r?b+r+"H":"")+(s?b+s+"M":"")+(e?b+o+"S":"")):"P0D"}var ee=Ls.prototype;ee.isValid=tf;ee.abs=Ih;ee.add=Lh;ee.subtract=Nh;ee.as=Fh;ee.asMilliseconds=ka;ee.asSeconds=Uh;ee.asMinutes=zh;ee.asHours=Vh;ee.asDays=Bh;ee.asWeeks=Gh;ee.asMonths=xh;ee.asQuarters=jh;ee.asYears=qh;ee.valueOf=Zh;ee._bubble=Ah;ee.clone=Xh;ee.get=Qh;ee.milliseconds=Jh;ee.seconds=Kh;ee.minutes=$h;ee.hours=em;ee.days=tm;ee.weeks=rm;ee.months=nm;ee.years=sm;ee.humanize=um;ee.toISOString=As;ee.toString=As;ee.toJSON=As;ee.locale=oa;ee.localeData=la;ee.toIsoString=rt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",As);ee.lang=aa;E("X",0,0,"unix");E("x",0,0,"valueOf");P("x",Ws);P("X",Cd);ae("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});ae("x",function(e,t,n){n._d=new Date(Q(e))});//! moment.js
O.version="2.30.1";ud(fe);O.fn=p;O.min=Jc;O.max=Kc;O.now=$c;O.utc=bt;O.unix=Oh;O.months=Rh;O.isDate=jn;O.locale=jt;O.invalid=Os;O.duration=ut;O.isMoment=lt;O.weekdays=Wh;O.parseZone=Ch;O.localeData=Ht;O.isDuration=ws;O.monthsShort=Ph;O.weekdaysMin=Hh;O.defineLocale=Hr;O.updateLocale=Oc;O.locales=Cc;O.weekdaysShort=Eh;O.normalizeUnits=it;O.relativeTimeRounding=am;O.relativeTimeThreshold=lm;O.calendarFormat=Mf;O.prototype=p;O.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function mo(e){return O(e,"HH:mm")}function km(e,t){return O(e).format(t)}const vm={dateAdapter:new ad(O),rows:[],tasks:[],headers:[{unit:"day",format:"MMMM Do"},{unit:"hour",format:"H:mm"}],fitWidth:!0,minWidth:400,from:mo("06:00"),to:mo("14:00"),tableHeaders:[{title:"Label",property:"label",width:140,type:"tree"}],tableWidth:180,ganttTableModules:[od]};export{ad as M,ym as S,od as a,wn as b,vm as d,km as f,dl as g,O as h,Ks as i,mo as t,vo as u};
