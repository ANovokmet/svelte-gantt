<div class="column-header-row" style="width:{width}px">

    {#each headers as header}
        <div class="column-header" style="width:{header.width}px">
            {header.label || 'N/A'}
        </div>
    {/each}
</div>
<style>
    .column-header-row {
        box-sizing: border-box;
        border-top: 1px solid #ddd;
        white-space: nowrap;
        overflow: hidden;
    }

    .column-header {
        position: relative;
        display: inline-block;
        height: 100%;
        box-sizing: border-box;
        text-overflow: clip;
        /* vertical-align: top; */
        text-align: center;
    }
</style>
<script>
    export default {
        oncreate() {
            this.root.initGantt();
            const { header } = this.get();
            const { from, width, gantt } = this.store.get();
            const columnWidth = gantt.utils.getPositionByDate(from.clone().add(1, header.unit));
            const columnCount = Math.ceil(width / columnWidth) 

            const headers = [];
            let headerTime = from.clone();

            for(let i=0; i< columnCount; i++){
                headers.push({width: columnWidth, label: headerTime.format(header.format)});
                headerTime.add(1, header.unit);
            }

            this.set({headers});
        },
        data(){
            return {
                headers: [],
                width: null
            }
        }
    };
</script>